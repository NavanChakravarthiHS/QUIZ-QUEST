function dh(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(o,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&o(x)}).observe(document,{childList:!0,subtree:!0});function r(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=r(c);fetch(c.href,d)}})();var Ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fh={exports:{}},nl={},xh={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo=Symbol.for("react.element"),tg=Symbol.for("react.portal"),ng=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),sg=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),og=Symbol.for("react.context"),ag=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),cg=Symbol.for("react.memo"),ug=Symbol.for("react.lazy"),p0=Symbol.iterator;function dg(e){return e===null||typeof e!="object"?null:(e=p0&&e[p0]||e["@@iterator"],typeof e=="function"?e:null)}var mh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gh=Object.assign,ph={};function di(e,t,r){this.props=e,this.context=t,this.refs=ph,this.updater=r||mh}di.prototype.isReactComponent={};di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wh(){}wh.prototype=di.prototype;function Pu(e,t,r){this.props=e,this.context=t,this.refs=ph,this.updater=r||mh}var Fu=Pu.prototype=new wh;Fu.constructor=Pu;gh(Fu,di.prototype);Fu.isPureReactComponent=!0;var w0=Array.isArray,yh=Object.prototype.hasOwnProperty,zu={current:null},bh={key:!0,ref:!0,__self:!0,__source:!0};function vh(e,t,r){var o,c={},d=null,x=null;if(t!=null)for(o in t.ref!==void 0&&(x=t.ref),t.key!==void 0&&(d=""+t.key),t)yh.call(t,o)&&!bh.hasOwnProperty(o)&&(c[o]=t[o]);var g=arguments.length-2;if(g===1)c.children=r;else if(1<g){for(var y=Array(g),p=0;p<g;p++)y[p]=arguments[p+2];c.children=y}if(e&&e.defaultProps)for(o in g=e.defaultProps,g)c[o]===void 0&&(c[o]=g[o]);return{$$typeof:yo,type:e,key:d,ref:x,props:c,_owner:zu.current}}function hg(e,t){return{$$typeof:yo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===yo}function fg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var y0=/\/+/g;function Kl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fg(""+e.key):t.toString(36)}function aa(e,t,r,o,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var x=!1;if(e===null)x=!0;else switch(d){case"string":case"number":x=!0;break;case"object":switch(e.$$typeof){case yo:case tg:x=!0}}if(x)return x=e,c=c(x),e=o===""?"."+Kl(x,0):o,w0(c)?(r="",e!=null&&(r=e.replace(y0,"$&/")+"/"),aa(c,t,r,"",function(p){return p})):c!=null&&(Uu(c)&&(c=hg(c,r+(!c.key||x&&x.key===c.key?"":(""+c.key).replace(y0,"$&/")+"/")+e)),t.push(c)),1;if(x=0,o=o===""?".":o+":",w0(e))for(var g=0;g<e.length;g++){d=e[g];var y=o+Kl(d,g);x+=aa(d,t,r,y,c)}else if(y=dg(e),typeof y=="function")for(e=y.call(e),g=0;!(d=e.next()).done;)d=d.value,y=o+Kl(d,g++),x+=aa(d,t,r,y,c);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return x}function Uo(e,t,r){if(e==null)return e;var o=[],c=0;return aa(e,o,"","",function(d){return t.call(r,d,c++)}),o}function xg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rn={current:null},la={transition:null},mg={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:la,ReactCurrentOwner:zu};function Nh(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:Uo,forEach:function(e,t,r){Uo(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Uo(e,function(){t++}),t},toArray:function(e){return Uo(e,function(t){return t})||[]},only:function(e){if(!Uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ue.Component=di;Ue.Fragment=ng;Ue.Profiler=sg;Ue.PureComponent=Pu;Ue.StrictMode=rg;Ue.Suspense=lg;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mg;Ue.act=Nh;Ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=gh({},e.props),c=e.key,d=e.ref,x=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,x=zu.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(y in t)yh.call(t,y)&&!bh.hasOwnProperty(y)&&(o[y]=t[y]===void 0&&g!==void 0?g[y]:t[y])}var y=arguments.length-2;if(y===1)o.children=r;else if(1<y){g=Array(y);for(var p=0;p<y;p++)g[p]=arguments[p+2];o.children=g}return{$$typeof:yo,type:e.type,key:c,ref:d,props:o,_owner:x}};Ue.createContext=function(e){return e={$$typeof:og,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ig,_context:e},e.Consumer=e};Ue.createElement=vh;Ue.createFactory=function(e){var t=vh.bind(null,e);return t.type=e,t};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(e){return{$$typeof:ag,render:e}};Ue.isValidElement=Uu;Ue.lazy=function(e){return{$$typeof:ug,_payload:{_status:-1,_result:e},_init:xg}};Ue.memo=function(e,t){return{$$typeof:cg,type:e,compare:t===void 0?null:t}};Ue.startTransition=function(e){var t=la.transition;la.transition={};try{e()}finally{la.transition=t}};Ue.unstable_act=Nh;Ue.useCallback=function(e,t){return rn.current.useCallback(e,t)};Ue.useContext=function(e){return rn.current.useContext(e)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(e){return rn.current.useDeferredValue(e)};Ue.useEffect=function(e,t){return rn.current.useEffect(e,t)};Ue.useId=function(){return rn.current.useId()};Ue.useImperativeHandle=function(e,t,r){return rn.current.useImperativeHandle(e,t,r)};Ue.useInsertionEffect=function(e,t){return rn.current.useInsertionEffect(e,t)};Ue.useLayoutEffect=function(e,t){return rn.current.useLayoutEffect(e,t)};Ue.useMemo=function(e,t){return rn.current.useMemo(e,t)};Ue.useReducer=function(e,t,r){return rn.current.useReducer(e,t,r)};Ue.useRef=function(e){return rn.current.useRef(e)};Ue.useState=function(e){return rn.current.useState(e)};Ue.useSyncExternalStore=function(e,t,r){return rn.current.useSyncExternalStore(e,t,r)};Ue.useTransition=function(){return rn.current.useTransition()};Ue.version="18.3.1";xh.exports=Ue;var B=xh.exports;const Vu=hh(B),gg=dh({__proto__:null,default:Vu},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=B,wg=Symbol.for("react.element"),yg=Symbol.for("react.fragment"),bg=Object.prototype.hasOwnProperty,vg=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ng={key:!0,ref:!0,__self:!0,__source:!0};function Ch(e,t,r){var o,c={},d=null,x=null;r!==void 0&&(d=""+r),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(x=t.ref);for(o in t)bg.call(t,o)&&!Ng.hasOwnProperty(o)&&(c[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)c[o]===void 0&&(c[o]=t[o]);return{$$typeof:wg,type:e,key:d,ref:x,props:c,_owner:vg.current}}nl.Fragment=yg;nl.jsx=Ch;nl.jsxs=Ch;fh.exports=nl;var a=fh.exports,Rc={},Eh={exports:{}},Cn={},Ah={exports:{}},Sh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ae,Ce){var W=ae.length;ae.push(Ce);e:for(;0<W;){var ce=W-1>>>1,se=ae[ce];if(0<c(se,Ce))ae[ce]=Ce,ae[W]=se,W=ce;else break e}}function r(ae){return ae.length===0?null:ae[0]}function o(ae){if(ae.length===0)return null;var Ce=ae[0],W=ae.pop();if(W!==Ce){ae[0]=W;e:for(var ce=0,se=ae.length,te=se>>>1;ce<te;){var ne=2*(ce+1)-1,Te=ae[ne],ee=ne+1,H=ae[ee];if(0>c(Te,W))ee<se&&0>c(H,Te)?(ae[ce]=H,ae[ee]=W,ce=ee):(ae[ce]=Te,ae[ne]=W,ce=ne);else if(ee<se&&0>c(H,W))ae[ce]=H,ae[ee]=W,ce=ee;else break e}}return Ce}function c(ae,Ce){var W=ae.sortIndex-Ce.sortIndex;return W!==0?W:ae.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var x=Date,g=x.now();e.unstable_now=function(){return x.now()-g}}var y=[],p=[],N=1,v=null,I=3,k=!1,_=!1,R=!1,L=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ae){for(var Ce=r(p);Ce!==null;){if(Ce.callback===null)o(p);else if(Ce.startTime<=ae)o(p),Ce.sortIndex=Ce.expirationTime,t(y,Ce);else break;Ce=r(p)}}function O(ae){if(R=!1,T(ae),!_)if(r(y)!==null)_=!0,ie(V);else{var Ce=r(p);Ce!==null&&Ne(O,Ce.startTime-ae)}}function V(ae,Ce){_=!1,R&&(R=!1,S(J),J=-1),k=!0;var W=I;try{for(T(Ce),v=r(y);v!==null&&(!(v.expirationTime>Ce)||ae&&!Ie());){var ce=v.callback;if(typeof ce=="function"){v.callback=null,I=v.priorityLevel;var se=ce(v.expirationTime<=Ce);Ce=e.unstable_now(),typeof se=="function"?v.callback=se:v===r(y)&&o(y),T(Ce)}else o(y);v=r(y)}if(v!==null)var te=!0;else{var ne=r(p);ne!==null&&Ne(O,ne.startTime-Ce),te=!1}return te}finally{v=null,I=W,k=!1}}var Q=!1,P=null,J=-1,Y=5,xe=-1;function Ie(){return!(e.unstable_now()-xe<Y)}function ge(){if(P!==null){var ae=e.unstable_now();xe=ae;var Ce=!0;try{Ce=P(!0,ae)}finally{Ce?ve():(Q=!1,P=null)}}else Q=!1}var ve;if(typeof A=="function")ve=function(){A(ge)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,z=be.port2;be.port1.onmessage=ge,ve=function(){z.postMessage(null)}}else ve=function(){L(ge,0)};function ie(ae){P=ae,Q||(Q=!0,ve())}function Ne(ae,Ce){J=L(function(){ae(e.unstable_now())},Ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ae){ae.callback=null},e.unstable_continueExecution=function(){_||k||(_=!0,ie(V))},e.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ae?Math.floor(1e3/ae):5},e.unstable_getCurrentPriorityLevel=function(){return I},e.unstable_getFirstCallbackNode=function(){return r(y)},e.unstable_next=function(ae){switch(I){case 1:case 2:case 3:var Ce=3;break;default:Ce=I}var W=I;I=Ce;try{return ae()}finally{I=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ae,Ce){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var W=I;I=ae;try{return Ce()}finally{I=W}},e.unstable_scheduleCallback=function(ae,Ce,W){var ce=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ce+W:ce):W=ce,ae){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,ae={id:N++,callback:Ce,priorityLevel:ae,startTime:W,expirationTime:se,sortIndex:-1},W>ce?(ae.sortIndex=W,t(p,ae),r(y)===null&&ae===r(p)&&(R?(S(J),J=-1):R=!0,Ne(O,W-ce))):(ae.sortIndex=se,t(y,ae),_||k||(_=!0,ie(V))),ae},e.unstable_shouldYield=Ie,e.unstable_wrapCallback=function(ae){var Ce=I;return function(){var W=I;I=Ce;try{return ae.apply(this,arguments)}finally{I=W}}}})(Sh);Ah.exports=Sh;var Cg=Ah.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg=B,Nn=Cg;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jh=new Set,$i={};function Ns(e,t){Js(e,t),Js(e+"Capture",t)}function Js(e,t){for($i[e]=t,e=0;e<t.length;e++)jh.add(t[e])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=Object.prototype.hasOwnProperty,Ag=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b0={},v0={};function Sg(e){return _c.call(v0,e)?!0:_c.call(b0,e)?!1:Ag.test(e)?v0[e]=!0:(b0[e]=!0,!1)}function jg(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tg(e,t,r,o){if(t===null||typeof t>"u"||jg(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sn(e,t,r,o,c,d,x){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=x}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new sn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new sn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new sn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new sn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new sn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new sn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new sn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new sn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new sn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hu=/[\-:]([a-z])/g;function Wu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hu,Wu);Qt[t]=new sn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hu,Wu);Qt[t]=new sn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hu,Wu);Qt[t]=new sn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new sn(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new sn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qu(e,t,r,o){var c=Qt.hasOwnProperty(t)?Qt[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tg(t,r,c,o)&&(r=null),o||c===null?Sg(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):c.mustUseProperty?e[c.propertyName]=r===null?c.type===3?!1:"":r:(t=c.attributeName,o=c.attributeNamespace,r===null?e.removeAttribute(t):(c=c.type,r=c===3||c===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var br=Eg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vo=Symbol.for("react.element"),Ms=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),Gu=Symbol.for("react.strict_mode"),Oc=Symbol.for("react.profiler"),Th=Symbol.for("react.provider"),Ih=Symbol.for("react.context"),qu=Symbol.for("react.forward_ref"),Mc=Symbol.for("react.suspense"),Dc=Symbol.for("react.suspense_list"),Xu=Symbol.for("react.memo"),_r=Symbol.for("react.lazy"),kh=Symbol.for("react.offscreen"),N0=Symbol.iterator;function Ii(e){return e===null||typeof e!="object"?null:(e=N0&&e[N0]||e["@@iterator"],typeof e=="function"?e:null)}var pt=Object.assign,Zl;function Pi(e){if(Zl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zl=t&&t[1]||""}return`
`+Zl+e}var $l=!1;function Jl(e,t){if(!e||$l)return"";$l=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var o=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){o=p}e.call(t.prototype)}else{try{throw Error()}catch(p){o=p}e()}}catch(p){if(p&&o&&typeof p.stack=="string"){for(var c=p.stack.split(`
`),d=o.stack.split(`
`),x=c.length-1,g=d.length-1;1<=x&&0<=g&&c[x]!==d[g];)g--;for(;1<=x&&0<=g;x--,g--)if(c[x]!==d[g]){if(x!==1||g!==1)do if(x--,g--,0>g||c[x]!==d[g]){var y=`
`+c[x].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=x&&0<=g);break}}}finally{$l=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Pi(e):""}function Ig(e){switch(e.tag){case 5:return Pi(e.type);case 16:return Pi("Lazy");case 13:return Pi("Suspense");case 19:return Pi("SuspenseList");case 0:case 2:case 15:return e=Jl(e.type,!1),e;case 11:return e=Jl(e.type.render,!1),e;case 1:return e=Jl(e.type,!0),e;default:return""}}function Lc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ds:return"Fragment";case Ms:return"Portal";case Oc:return"Profiler";case Gu:return"StrictMode";case Mc:return"Suspense";case Dc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ih:return(e.displayName||"Context")+".Consumer";case Th:return(e._context.displayName||"Context")+".Provider";case qu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xu:return t=e.displayName||null,t!==null?t:Lc(e.type)||"Memo";case _r:t=e._payload,e=e._init;try{return Lc(e(t))}catch{}}return null}function kg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Lc(t);case 8:return t===Gu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rg(e){var t=Rh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(x){o=""+x,d.call(this,x)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ho(e){e._valueTracker||(e._valueTracker=Rg(e))}function _h(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=Rh(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function Ca(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bc(e,t){var r=t.checked;return pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function C0(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=Yr(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oh(e,t){t=t.checked,t!=null&&Qu(e,"checked",t,!1)}function Pc(e,t){Oh(e,t);var r=Yr(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Fc(e,t.type,Yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function E0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Fc(e,t,r){(t!=="number"||Ca(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Fi=Array.isArray;function qs(e,t,r,o){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Yr(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function zc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function A0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(Fi(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yr(r)}}function Mh(e,t){var r=Yr(t.value),o=Yr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function S0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wo,Lh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,c){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ji(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Vi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_g=["Webkit","ms","Moz","O"];Object.keys(Vi).forEach(function(e){_g.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Vi[t]=Vi[e]})});function Bh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Vi.hasOwnProperty(e)&&Vi[e]?(""+t).trim():t+"px"}function Ph(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,c=Bh(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,c):e[r]=c}}var Og=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vc(e,t){if(t){if(Og[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function Hc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wc=null;function Yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qc=null,Xs=null,Ys=null;function j0(e){if(e=No(e)){if(typeof Qc!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=al(t),Qc(e.stateNode,e.type,t))}}function Fh(e){Xs?Ys?Ys.push(e):Ys=[e]:Xs=e}function zh(){if(Xs){var e=Xs,t=Ys;if(Ys=Xs=null,j0(e),t)for(e=0;e<t.length;e++)j0(t[e])}}function Uh(e,t){return e(t)}function Vh(){}var ec=!1;function Hh(e,t,r){if(ec)return e(t,r);ec=!0;try{return Uh(e,t,r)}finally{ec=!1,(Xs!==null||Ys!==null)&&(Vh(),zh())}}function eo(e,t){var r=e.stateNode;if(r===null)return null;var o=al(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var Gc=!1;if(gr)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){Gc=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{Gc=!1}function Mg(e,t,r,o,c,d,x,g,y){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(N){this.onError(N)}}var Hi=!1,Ea=null,Aa=!1,qc=null,Dg={onError:function(e){Hi=!0,Ea=e}};function Lg(e,t,r,o,c,d,x,g,y){Hi=!1,Ea=null,Mg.apply(Dg,arguments)}function Bg(e,t,r,o,c,d,x,g,y){if(Lg.apply(this,arguments),Hi){if(Hi){var p=Ea;Hi=!1,Ea=null}else throw Error(ue(198));Aa||(Aa=!0,qc=p)}}function Cs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T0(e){if(Cs(e)!==e)throw Error(ue(188))}function Pg(e){var t=e.alternate;if(!t){if(t=Cs(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,o=t;;){var c=r.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===r)return T0(c),e;if(d===o)return T0(c),t;d=d.sibling}throw Error(ue(188))}if(r.return!==o.return)r=c,o=d;else{for(var x=!1,g=c.child;g;){if(g===r){x=!0,r=c,o=d;break}if(g===o){x=!0,o=c,r=d;break}g=g.sibling}if(!x){for(g=d.child;g;){if(g===r){x=!0,r=d,o=c;break}if(g===o){x=!0,o=d,r=c;break}g=g.sibling}if(!x)throw Error(ue(189))}}if(r.alternate!==o)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function Qh(e){return e=Pg(e),e!==null?Gh(e):null}function Gh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gh(e);if(t!==null)return t;e=e.sibling}return null}var qh=Nn.unstable_scheduleCallback,I0=Nn.unstable_cancelCallback,Fg=Nn.unstable_shouldYield,zg=Nn.unstable_requestPaint,Et=Nn.unstable_now,Ug=Nn.unstable_getCurrentPriorityLevel,Ku=Nn.unstable_ImmediatePriority,Xh=Nn.unstable_UserBlockingPriority,Sa=Nn.unstable_NormalPriority,Vg=Nn.unstable_LowPriority,Yh=Nn.unstable_IdlePriority,rl=null,ir=null;function Hg(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(rl,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:Gg,Wg=Math.log,Qg=Math.LN2;function Gg(e){return e>>>=0,e===0?32:31-(Wg(e)/Qg|0)|0}var Qo=64,Go=4194304;function zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ja(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes,x=r&268435455;if(x!==0){var g=x&~c;g!==0?o=zi(g):(d&=x,d!==0&&(o=zi(d)))}else x=r&~c,x!==0?o=zi(x):d!==0&&(o=zi(d));if(o===0)return 0;if(t!==0&&t!==o&&!(t&c)&&(c=o&-o,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if(o&4&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-Wn(t),c=1<<r,o|=e[r],t&=~c;return o}function qg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xg(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var x=31-Wn(d),g=1<<x,y=c[x];y===-1?(!(g&r)||g&o)&&(c[x]=qg(g,t)):y<=t&&(e.expiredLanes|=g),d&=~g}}function Xc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Kh(){var e=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),e}function tc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=r}function Yg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var c=31-Wn(r),d=1<<c;t[c]=0,o[c]=-1,e[c]=-1,r&=~d}}function Zu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-Wn(r),c=1<<o;c&t|e[o]&t&&(e[o]|=t),r&=~c}}var $e=0;function Zh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $h,$u,Jh,ef,tf,Yc=!1,qo=[],zr=null,Ur=null,Vr=null,to=new Map,no=new Map,Mr=[],Kg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k0(e,t){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":to.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(t.pointerId)}}function Ri(e,t,r,o,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},t!==null&&(t=No(t),t!==null&&$u(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Zg(e,t,r,o,c){switch(t){case"focusin":return zr=Ri(zr,e,t,r,o,c),!0;case"dragenter":return Ur=Ri(Ur,e,t,r,o,c),!0;case"mouseover":return Vr=Ri(Vr,e,t,r,o,c),!0;case"pointerover":var d=c.pointerId;return to.set(d,Ri(to.get(d)||null,e,t,r,o,c)),!0;case"gotpointercapture":return d=c.pointerId,no.set(d,Ri(no.get(d)||null,e,t,r,o,c)),!0}return!1}function nf(e){var t=us(e.target);if(t!==null){var r=Cs(t);if(r!==null){if(t=r.tag,t===13){if(t=Wh(r),t!==null){e.blockedOn=t,tf(e.priority,function(){Jh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Wc=o,r.target.dispatchEvent(o),Wc=null}else return t=No(r),t!==null&&$u(t),e.blockedOn=r,!1;t.shift()}return!0}function R0(e,t,r){ca(e)&&r.delete(t)}function $g(){Yc=!1,zr!==null&&ca(zr)&&(zr=null),Ur!==null&&ca(Ur)&&(Ur=null),Vr!==null&&ca(Vr)&&(Vr=null),to.forEach(R0),no.forEach(R0)}function _i(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,$g)))}function ro(e){function t(c){return _i(c,e)}if(0<qo.length){_i(qo[0],e);for(var r=1;r<qo.length;r++){var o=qo[r];o.blockedOn===e&&(o.blockedOn=null)}}for(zr!==null&&_i(zr,e),Ur!==null&&_i(Ur,e),Vr!==null&&_i(Vr,e),to.forEach(t),no.forEach(t),r=0;r<Mr.length;r++)o=Mr[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)nf(r),r.blockedOn===null&&Mr.shift()}var Ks=br.ReactCurrentBatchConfig,Ta=!0;function Jg(e,t,r,o){var c=$e,d=Ks.transition;Ks.transition=null;try{$e=1,Ju(e,t,r,o)}finally{$e=c,Ks.transition=d}}function e2(e,t,r,o){var c=$e,d=Ks.transition;Ks.transition=null;try{$e=4,Ju(e,t,r,o)}finally{$e=c,Ks.transition=d}}function Ju(e,t,r,o){if(Ta){var c=Kc(e,t,r,o);if(c===null)dc(e,t,o,Ia,r),k0(e,o);else if(Zg(c,e,t,r,o))o.stopPropagation();else if(k0(e,o),t&4&&-1<Kg.indexOf(e)){for(;c!==null;){var d=No(c);if(d!==null&&$h(d),d=Kc(e,t,r,o),d===null&&dc(e,t,o,Ia,r),d===c)break;c=d}c!==null&&o.stopPropagation()}else dc(e,t,o,null,r)}}var Ia=null;function Kc(e,t,r,o){if(Ia=null,e=Yu(o),e=us(e),e!==null)if(t=Cs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ia=e,null}function rf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ug()){case Ku:return 1;case Xh:return 4;case Sa:case Vg:return 16;case Yh:return 536870912;default:return 16}default:return 16}}var Lr=null,ed=null,ua=null;function sf(){if(ua)return ua;var e,t=ed,r=t.length,o,c="value"in Lr?Lr.value:Lr.textContent,d=c.length;for(e=0;e<r&&t[e]===c[e];e++);var x=r-e;for(o=1;o<=x&&t[r-o]===c[d-o];o++);return ua=c.slice(e,1<o?1-o:void 0)}function da(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xo(){return!0}function _0(){return!1}function En(e){function t(r,o,c,d,x){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=x,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(r=e[g],this[g]=r?r(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xo:_0,this.isPropagationStopped=_0,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),t}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=En(hi),vo=pt({},hi,{view:0,detail:0}),t2=En(vo),nc,rc,Oi,sl=pt({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(nc=e.screenX-Oi.screenX,rc=e.screenY-Oi.screenY):rc=nc=0,Oi=e),nc)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),O0=En(sl),n2=pt({},sl,{dataTransfer:0}),r2=En(n2),s2=pt({},vo,{relatedTarget:0}),sc=En(s2),i2=pt({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),o2=En(i2),a2=pt({},hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l2=En(a2),c2=pt({},hi,{data:0}),M0=En(c2),u2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function f2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=h2[e])?!!t[e]:!1}function nd(){return f2}var x2=pt({},vo,{key:function(e){if(e.key){var t=u2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=da(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?d2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nd,charCode:function(e){return e.type==="keypress"?da(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?da(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),m2=En(x2),g2=pt({},sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=En(g2),p2=pt({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nd}),w2=En(p2),y2=pt({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b2=En(y2),v2=pt({},sl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N2=En(v2),C2=[9,13,27,32],rd=gr&&"CompositionEvent"in window,Wi=null;gr&&"documentMode"in document&&(Wi=document.documentMode);var E2=gr&&"TextEvent"in window&&!Wi,of=gr&&(!rd||Wi&&8<Wi&&11>=Wi),L0=String.fromCharCode(32),B0=!1;function af(e,t){switch(e){case"keyup":return C2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ls=!1;function A2(e,t){switch(e){case"compositionend":return lf(t);case"keypress":return t.which!==32?null:(B0=!0,L0);case"textInput":return e=t.data,e===L0&&B0?null:e;default:return null}}function S2(e,t){if(Ls)return e==="compositionend"||!rd&&af(e,t)?(e=sf(),ua=ed=Lr=null,Ls=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return of&&t.locale!=="ko"?null:t.data;default:return null}}var j2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j2[e.type]:t==="textarea"}function cf(e,t,r,o){Fh(o),t=ka(t,"onChange"),0<t.length&&(r=new td("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var Qi=null,so=null;function T2(e){bf(e,0)}function il(e){var t=Fs(e);if(_h(t))return e}function I2(e,t){if(e==="change")return t}var uf=!1;if(gr){var ic;if(gr){var oc="oninput"in document;if(!oc){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),oc=typeof F0.oninput=="function"}ic=oc}else ic=!1;uf=ic&&(!document.documentMode||9<document.documentMode)}function z0(){Qi&&(Qi.detachEvent("onpropertychange",df),so=Qi=null)}function df(e){if(e.propertyName==="value"&&il(so)){var t=[];cf(t,so,e,Yu(e)),Hh(T2,t)}}function k2(e,t,r){e==="focusin"?(z0(),Qi=t,so=r,Qi.attachEvent("onpropertychange",df)):e==="focusout"&&z0()}function R2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return il(so)}function _2(e,t){if(e==="click")return il(t)}function O2(e,t){if(e==="input"||e==="change")return il(t)}function M2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qn=typeof Object.is=="function"?Object.is:M2;function io(e,t){if(qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!_c.call(t,c)||!qn(e[c],t[c]))return!1}return!0}function U0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function V0(e,t){var r=U0(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=U0(r)}}function hf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ff(){for(var e=window,t=Ca();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ca(e.document)}return t}function sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function D2(e){var t=ff(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hf(r.ownerDocument.documentElement,r)){if(o!==null&&sd(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=r.textContent.length,d=Math.min(o.start,c);o=o.end===void 0?d:Math.min(o.end,c),!e.extend&&d>o&&(c=o,o=d,d=c),c=V0(r,d);var x=V0(r,o);c&&x&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>o?(e.addRange(t),e.extend(x.node,x.offset)):(t.setEnd(x.node,x.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L2=gr&&"documentMode"in document&&11>=document.documentMode,Bs=null,Zc=null,Gi=null,$c=!1;function H0(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$c||Bs==null||Bs!==Ca(o)||(o=Bs,"selectionStart"in o&&sd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Gi&&io(Gi,o)||(Gi=o,o=ka(Zc,"onSelect"),0<o.length&&(t=new td("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=Bs)))}function Yo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ps={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionend:Yo("Transition","TransitionEnd")},ac={},xf={};gr&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete Ps.animationend.animation,delete Ps.animationiteration.animation,delete Ps.animationstart.animation),"TransitionEvent"in window||delete Ps.transitionend.transition);function ol(e){if(ac[e])return ac[e];if(!Ps[e])return e;var t=Ps[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xf)return ac[e]=t[r];return e}var mf=ol("animationend"),gf=ol("animationiteration"),pf=ol("animationstart"),wf=ol("transitionend"),yf=new Map,W0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(e,t){yf.set(e,t),Ns(t,[e])}for(var lc=0;lc<W0.length;lc++){var cc=W0[lc],B2=cc.toLowerCase(),P2=cc[0].toUpperCase()+cc.slice(1);Zr(B2,"on"+P2)}Zr(mf,"onAnimationEnd");Zr(gf,"onAnimationIteration");Zr(pf,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(wf,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function Q0(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,Bg(o,t,void 0,e),e.currentTarget=null}function bf(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;e:{var d=void 0;if(t)for(var x=o.length-1;0<=x;x--){var g=o[x],y=g.instance,p=g.currentTarget;if(g=g.listener,y!==d&&c.isPropagationStopped())break e;Q0(c,g,p),d=y}else for(x=0;x<o.length;x++){if(g=o[x],y=g.instance,p=g.currentTarget,g=g.listener,y!==d&&c.isPropagationStopped())break e;Q0(c,g,p),d=y}}}if(Aa)throw e=qc,Aa=!1,qc=null,e}function ct(e,t){var r=t[ru];r===void 0&&(r=t[ru]=new Set);var o=e+"__bubble";r.has(o)||(vf(t,e,2,!1),r.add(o))}function uc(e,t,r){var o=0;t&&(o|=4),vf(r,e,o,t)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function oo(e){if(!e[Ko]){e[Ko]=!0,jh.forEach(function(r){r!=="selectionchange"&&(F2.has(r)||uc(r,!1,e),uc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ko]||(t[Ko]=!0,uc("selectionchange",!1,t))}}function vf(e,t,r,o){switch(rf(t)){case 1:var c=Jg;break;case 4:c=e2;break;default:c=Ju}r=c.bind(null,t,r,e),c=void 0,!Gc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function dc(e,t,r,o,c){var d=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var g=o.stateNode.containerInfo;if(g===c||g.nodeType===8&&g.parentNode===c)break;if(x===4)for(x=o.return;x!==null;){var y=x.tag;if((y===3||y===4)&&(y=x.stateNode.containerInfo,y===c||y.nodeType===8&&y.parentNode===c))return;x=x.return}for(;g!==null;){if(x=us(g),x===null)return;if(y=x.tag,y===5||y===6){o=d=x;continue e}g=g.parentNode}}o=o.return}Hh(function(){var p=d,N=Yu(r),v=[];e:{var I=yf.get(e);if(I!==void 0){var k=td,_=e;switch(e){case"keypress":if(da(r)===0)break e;case"keydown":case"keyup":k=m2;break;case"focusin":_="focus",k=sc;break;case"focusout":_="blur",k=sc;break;case"beforeblur":case"afterblur":k=sc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=O0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=r2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=w2;break;case mf:case gf:case pf:k=o2;break;case wf:k=b2;break;case"scroll":k=t2;break;case"wheel":k=N2;break;case"copy":case"cut":case"paste":k=l2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=D0}var R=(t&4)!==0,L=!R&&e==="scroll",S=R?I!==null?I+"Capture":null:I;R=[];for(var A=p,T;A!==null;){T=A;var O=T.stateNode;if(T.tag===5&&O!==null&&(T=O,S!==null&&(O=eo(A,S),O!=null&&R.push(ao(A,O,T)))),L)break;A=A.return}0<R.length&&(I=new k(I,_,null,r,N),v.push({event:I,listeners:R}))}}if(!(t&7)){e:{if(I=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",I&&r!==Wc&&(_=r.relatedTarget||r.fromElement)&&(us(_)||_[pr]))break e;if((k||I)&&(I=N.window===N?N:(I=N.ownerDocument)?I.defaultView||I.parentWindow:window,k?(_=r.relatedTarget||r.toElement,k=p,_=_?us(_):null,_!==null&&(L=Cs(_),_!==L||_.tag!==5&&_.tag!==6)&&(_=null)):(k=null,_=p),k!==_)){if(R=O0,O="onMouseLeave",S="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(R=D0,O="onPointerLeave",S="onPointerEnter",A="pointer"),L=k==null?I:Fs(k),T=_==null?I:Fs(_),I=new R(O,A+"leave",k,r,N),I.target=L,I.relatedTarget=T,O=null,us(N)===p&&(R=new R(S,A+"enter",_,r,N),R.target=T,R.relatedTarget=L,O=R),L=O,k&&_)t:{for(R=k,S=_,A=0,T=R;T;T=Os(T))A++;for(T=0,O=S;O;O=Os(O))T++;for(;0<A-T;)R=Os(R),A--;for(;0<T-A;)S=Os(S),T--;for(;A--;){if(R===S||S!==null&&R===S.alternate)break t;R=Os(R),S=Os(S)}R=null}else R=null;k!==null&&G0(v,I,k,R,!1),_!==null&&L!==null&&G0(v,L,_,R,!0)}}e:{if(I=p?Fs(p):window,k=I.nodeName&&I.nodeName.toLowerCase(),k==="select"||k==="input"&&I.type==="file")var V=I2;else if(P0(I))if(uf)V=O2;else{V=R2;var Q=k2}else(k=I.nodeName)&&k.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(V=_2);if(V&&(V=V(e,p))){cf(v,V,r,N);break e}Q&&Q(e,I,p),e==="focusout"&&(Q=I._wrapperState)&&Q.controlled&&I.type==="number"&&Fc(I,"number",I.value)}switch(Q=p?Fs(p):window,e){case"focusin":(P0(Q)||Q.contentEditable==="true")&&(Bs=Q,Zc=p,Gi=null);break;case"focusout":Gi=Zc=Bs=null;break;case"mousedown":$c=!0;break;case"contextmenu":case"mouseup":case"dragend":$c=!1,H0(v,r,N);break;case"selectionchange":if(L2)break;case"keydown":case"keyup":H0(v,r,N)}var P;if(rd)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Ls?af(e,r)&&(J="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(J="onCompositionStart");J&&(of&&r.locale!=="ko"&&(Ls||J!=="onCompositionStart"?J==="onCompositionEnd"&&Ls&&(P=sf()):(Lr=N,ed="value"in Lr?Lr.value:Lr.textContent,Ls=!0)),Q=ka(p,J),0<Q.length&&(J=new M0(J,e,null,r,N),v.push({event:J,listeners:Q}),P?J.data=P:(P=lf(r),P!==null&&(J.data=P)))),(P=E2?A2(e,r):S2(e,r))&&(p=ka(p,"onBeforeInput"),0<p.length&&(N=new M0("onBeforeInput","beforeinput",null,r,N),v.push({event:N,listeners:p}),N.data=P))}bf(v,t)})}function ao(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ka(e,t){for(var r=t+"Capture",o=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=eo(e,r),d!=null&&o.unshift(ao(e,d,c)),d=eo(e,t),d!=null&&o.push(ao(e,d,c))),e=e.return}return o}function Os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function G0(e,t,r,o,c){for(var d=t._reactName,x=[];r!==null&&r!==o;){var g=r,y=g.alternate,p=g.stateNode;if(y!==null&&y===o)break;g.tag===5&&p!==null&&(g=p,c?(y=eo(r,d),y!=null&&x.unshift(ao(r,y,g))):c||(y=eo(r,d),y!=null&&x.push(ao(r,y,g)))),r=r.return}x.length!==0&&e.push({event:t,listeners:x})}var z2=/\r\n?/g,U2=/\u0000|\uFFFD/g;function q0(e){return(typeof e=="string"?e:""+e).replace(z2,`
`).replace(U2,"")}function Zo(e,t,r){if(t=q0(t),q0(e)!==t&&r)throw Error(ue(425))}function Ra(){}var Jc=null,eu=null;function tu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nu=typeof setTimeout=="function"?setTimeout:void 0,V2=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,H2=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(e){return X0.resolve(null).then(e).catch(W2)}:nu;function W2(e){setTimeout(function(){throw e})}function hc(e,t){var r=t,o=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(o===0){e.removeChild(c),ro(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=c}while(r);ro(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Y0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),sr="__reactFiber$"+fi,lo="__reactProps$"+fi,pr="__reactContainer$"+fi,ru="__reactEvents$"+fi,Q2="__reactListeners$"+fi,G2="__reactHandles$"+fi;function us(e){var t=e[sr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pr]||r[sr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Y0(e);e!==null;){if(r=e[sr])return r;e=Y0(e)}return t}e=r,r=e.parentNode}return null}function No(e){return e=e[sr]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function al(e){return e[lo]||null}var su=[],zs=-1;function $r(e){return{current:e}}function dt(e){0>zs||(e.current=su[zs],su[zs]=null,zs--)}function ot(e,t){zs++,su[zs]=e.current,e.current=t}var Kr={},$t=$r(Kr),fn=$r(!1),gs=Kr;function ei(e,t){var r=e.type.contextTypes;if(!r)return Kr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in r)c[d]=t[d];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function xn(e){return e=e.childContextTypes,e!=null}function _a(){dt(fn),dt($t)}function K0(e,t,r){if($t.current!==Kr)throw Error(ue(168));ot($t,t),ot(fn,r)}function Nf(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(ue(108,kg(e)||"Unknown",c));return pt({},r,o)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kr,gs=$t.current,ot($t,e),ot(fn,fn.current),!0}function Z0(e,t,r){var o=e.stateNode;if(!o)throw Error(ue(169));r?(e=Nf(e,t,gs),o.__reactInternalMemoizedMergedChildContext=e,dt(fn),dt($t),ot($t,e)):dt(fn),ot(fn,r)}var dr=null,ll=!1,fc=!1;function Cf(e){dr===null?dr=[e]:dr.push(e)}function q2(e){ll=!0,Cf(e)}function Jr(){if(!fc&&dr!==null){fc=!0;var e=0,t=$e;try{var r=dr;for($e=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}dr=null,ll=!1}catch(c){throw dr!==null&&(dr=dr.slice(e+1)),qh(Ku,Jr),c}finally{$e=t,fc=!1}}return null}var Us=[],Vs=0,Ma=null,Da=0,Rn=[],_n=0,ps=null,fr=1,xr="";function ls(e,t){Us[Vs++]=Da,Us[Vs++]=Ma,Ma=e,Da=t}function Ef(e,t,r){Rn[_n++]=fr,Rn[_n++]=xr,Rn[_n++]=ps,ps=e;var o=fr;e=xr;var c=32-Wn(o)-1;o&=~(1<<c),r+=1;var d=32-Wn(t)+c;if(30<d){var x=c-c%5;d=(o&(1<<x)-1).toString(32),o>>=x,c-=x,fr=1<<32-Wn(t)+c|r<<c|o,xr=d+e}else fr=1<<d|r<<c|o,xr=e}function id(e){e.return!==null&&(ls(e,1),Ef(e,1,0))}function od(e){for(;e===Ma;)Ma=Us[--Vs],Us[Vs]=null,Da=Us[--Vs],Us[Vs]=null;for(;e===ps;)ps=Rn[--_n],Rn[_n]=null,xr=Rn[--_n],Rn[_n]=null,fr=Rn[--_n],Rn[_n]=null}var vn=null,bn=null,ft=!1,Hn=null;function Af(e,t){var r=On(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vn=e,bn=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ps!==null?{id:fr,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=On(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vn=e,bn=null,!0):!1;default:return!1}}function iu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ou(e){if(ft){var t=bn;if(t){var r=t;if(!$0(e,t)){if(iu(e))throw Error(ue(418));t=Hr(r.nextSibling);var o=vn;t&&$0(e,t)?Af(o,r):(e.flags=e.flags&-4097|2,ft=!1,vn=e)}}else{if(iu(e))throw Error(ue(418));e.flags=e.flags&-4097|2,ft=!1,vn=e}}}function J0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vn=e}function $o(e){if(e!==vn)return!1;if(!ft)return J0(e),ft=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tu(e.type,e.memoizedProps)),t&&(t=bn)){if(iu(e))throw Sf(),Error(ue(418));for(;t;)Af(e,t),t=Hr(t.nextSibling)}if(J0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){bn=Hr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=vn?Hr(e.stateNode.nextSibling):null;return!0}function Sf(){for(var e=bn;e;)e=Hr(e.nextSibling)}function ti(){bn=vn=null,ft=!1}function ad(e){Hn===null?Hn=[e]:Hn.push(e)}var X2=br.ReactCurrentBatchConfig;function Mi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var o=r.stateNode}if(!o)throw Error(ue(147,e));var c=o,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(x){var g=c.refs;x===null?delete g[d]:g[d]=x},t._stringRef=d,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function Jo(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function e1(e){var t=e._init;return t(e._payload)}function jf(e){function t(S,A){if(e){var T=S.deletions;T===null?(S.deletions=[A],S.flags|=16):T.push(A)}}function r(S,A){if(!e)return null;for(;A!==null;)t(S,A),A=A.sibling;return null}function o(S,A){for(S=new Map;A!==null;)A.key!==null?S.set(A.key,A):S.set(A.index,A),A=A.sibling;return S}function c(S,A){return S=qr(S,A),S.index=0,S.sibling=null,S}function d(S,A,T){return S.index=T,e?(T=S.alternate,T!==null?(T=T.index,T<A?(S.flags|=2,A):T):(S.flags|=2,A)):(S.flags|=1048576,A)}function x(S){return e&&S.alternate===null&&(S.flags|=2),S}function g(S,A,T,O){return A===null||A.tag!==6?(A=bc(T,S.mode,O),A.return=S,A):(A=c(A,T),A.return=S,A)}function y(S,A,T,O){var V=T.type;return V===Ds?N(S,A,T.props.children,O,T.key):A!==null&&(A.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===_r&&e1(V)===A.type)?(O=c(A,T.props),O.ref=Mi(S,A,T),O.return=S,O):(O=wa(T.type,T.key,T.props,null,S.mode,O),O.ref=Mi(S,A,T),O.return=S,O)}function p(S,A,T,O){return A===null||A.tag!==4||A.stateNode.containerInfo!==T.containerInfo||A.stateNode.implementation!==T.implementation?(A=vc(T,S.mode,O),A.return=S,A):(A=c(A,T.children||[]),A.return=S,A)}function N(S,A,T,O,V){return A===null||A.tag!==7?(A=ms(T,S.mode,O,V),A.return=S,A):(A=c(A,T),A.return=S,A)}function v(S,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return A=bc(""+A,S.mode,T),A.return=S,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Vo:return T=wa(A.type,A.key,A.props,null,S.mode,T),T.ref=Mi(S,null,A),T.return=S,T;case Ms:return A=vc(A,S.mode,T),A.return=S,A;case _r:var O=A._init;return v(S,O(A._payload),T)}if(Fi(A)||Ii(A))return A=ms(A,S.mode,T,null),A.return=S,A;Jo(S,A)}return null}function I(S,A,T,O){var V=A!==null?A.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:g(S,A,""+T,O);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Vo:return T.key===V?y(S,A,T,O):null;case Ms:return T.key===V?p(S,A,T,O):null;case _r:return V=T._init,I(S,A,V(T._payload),O)}if(Fi(T)||Ii(T))return V!==null?null:N(S,A,T,O,null);Jo(S,T)}return null}function k(S,A,T,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(T)||null,g(A,S,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Vo:return S=S.get(O.key===null?T:O.key)||null,y(A,S,O,V);case Ms:return S=S.get(O.key===null?T:O.key)||null,p(A,S,O,V);case _r:var Q=O._init;return k(S,A,T,Q(O._payload),V)}if(Fi(O)||Ii(O))return S=S.get(T)||null,N(A,S,O,V,null);Jo(A,O)}return null}function _(S,A,T,O){for(var V=null,Q=null,P=A,J=A=0,Y=null;P!==null&&J<T.length;J++){P.index>J?(Y=P,P=null):Y=P.sibling;var xe=I(S,P,T[J],O);if(xe===null){P===null&&(P=Y);break}e&&P&&xe.alternate===null&&t(S,P),A=d(xe,A,J),Q===null?V=xe:Q.sibling=xe,Q=xe,P=Y}if(J===T.length)return r(S,P),ft&&ls(S,J),V;if(P===null){for(;J<T.length;J++)P=v(S,T[J],O),P!==null&&(A=d(P,A,J),Q===null?V=P:Q.sibling=P,Q=P);return ft&&ls(S,J),V}for(P=o(S,P);J<T.length;J++)Y=k(P,S,J,T[J],O),Y!==null&&(e&&Y.alternate!==null&&P.delete(Y.key===null?J:Y.key),A=d(Y,A,J),Q===null?V=Y:Q.sibling=Y,Q=Y);return e&&P.forEach(function(Ie){return t(S,Ie)}),ft&&ls(S,J),V}function R(S,A,T,O){var V=Ii(T);if(typeof V!="function")throw Error(ue(150));if(T=V.call(T),T==null)throw Error(ue(151));for(var Q=V=null,P=A,J=A=0,Y=null,xe=T.next();P!==null&&!xe.done;J++,xe=T.next()){P.index>J?(Y=P,P=null):Y=P.sibling;var Ie=I(S,P,xe.value,O);if(Ie===null){P===null&&(P=Y);break}e&&P&&Ie.alternate===null&&t(S,P),A=d(Ie,A,J),Q===null?V=Ie:Q.sibling=Ie,Q=Ie,P=Y}if(xe.done)return r(S,P),ft&&ls(S,J),V;if(P===null){for(;!xe.done;J++,xe=T.next())xe=v(S,xe.value,O),xe!==null&&(A=d(xe,A,J),Q===null?V=xe:Q.sibling=xe,Q=xe);return ft&&ls(S,J),V}for(P=o(S,P);!xe.done;J++,xe=T.next())xe=k(P,S,J,xe.value,O),xe!==null&&(e&&xe.alternate!==null&&P.delete(xe.key===null?J:xe.key),A=d(xe,A,J),Q===null?V=xe:Q.sibling=xe,Q=xe);return e&&P.forEach(function(ge){return t(S,ge)}),ft&&ls(S,J),V}function L(S,A,T,O){if(typeof T=="object"&&T!==null&&T.type===Ds&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Vo:e:{for(var V=T.key,Q=A;Q!==null;){if(Q.key===V){if(V=T.type,V===Ds){if(Q.tag===7){r(S,Q.sibling),A=c(Q,T.props.children),A.return=S,S=A;break e}}else if(Q.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===_r&&e1(V)===Q.type){r(S,Q.sibling),A=c(Q,T.props),A.ref=Mi(S,Q,T),A.return=S,S=A;break e}r(S,Q);break}else t(S,Q);Q=Q.sibling}T.type===Ds?(A=ms(T.props.children,S.mode,O,T.key),A.return=S,S=A):(O=wa(T.type,T.key,T.props,null,S.mode,O),O.ref=Mi(S,A,T),O.return=S,S=O)}return x(S);case Ms:e:{for(Q=T.key;A!==null;){if(A.key===Q)if(A.tag===4&&A.stateNode.containerInfo===T.containerInfo&&A.stateNode.implementation===T.implementation){r(S,A.sibling),A=c(A,T.children||[]),A.return=S,S=A;break e}else{r(S,A);break}else t(S,A);A=A.sibling}A=vc(T,S.mode,O),A.return=S,S=A}return x(S);case _r:return Q=T._init,L(S,A,Q(T._payload),O)}if(Fi(T))return _(S,A,T,O);if(Ii(T))return R(S,A,T,O);Jo(S,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,A!==null&&A.tag===6?(r(S,A.sibling),A=c(A,T),A.return=S,S=A):(r(S,A),A=bc(T,S.mode,O),A.return=S,S=A),x(S)):r(S,A)}return L}var ni=jf(!0),Tf=jf(!1),La=$r(null),Ba=null,Hs=null,ld=null;function cd(){ld=Hs=Ba=null}function ud(e){var t=La.current;dt(La),e._currentValue=t}function au(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function Zs(e,t){Ba=e,ld=Hs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hn=!0),e.firstContext=null)}function Dn(e){var t=e._currentValue;if(ld!==e)if(e={context:e,memoizedValue:t,next:null},Hs===null){if(Ba===null)throw Error(ue(308));Hs=e,Ba.dependencies={lanes:0,firstContext:e}}else Hs=Hs.next=e;return t}var ds=null;function dd(e){ds===null?ds=[e]:ds.push(e)}function If(e,t,r,o){var c=t.interleaved;return c===null?(r.next=r,dd(t)):(r.next=c.next,c.next=r),t.interleaved=r,wr(e,o)}function wr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Or=!1;function hd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,qe&2){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,wr(e,r)}return c=o.interleaved,c===null?(t.next=t,dd(o)):(t.next=c.next,c.next=t),o.interleaved=t,wr(e,r)}function ha(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Zu(e,r)}}function t1(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var x={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};d===null?c=d=x:d=d.next=x,r=r.next}while(r!==null);d===null?c=d=t:d=d.next=t}else c=d=t;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pa(e,t,r,o){var c=e.updateQueue;Or=!1;var d=c.firstBaseUpdate,x=c.lastBaseUpdate,g=c.shared.pending;if(g!==null){c.shared.pending=null;var y=g,p=y.next;y.next=null,x===null?d=p:x.next=p,x=y;var N=e.alternate;N!==null&&(N=N.updateQueue,g=N.lastBaseUpdate,g!==x&&(g===null?N.firstBaseUpdate=p:g.next=p,N.lastBaseUpdate=y))}if(d!==null){var v=c.baseState;x=0,N=p=y=null,g=d;do{var I=g.lane,k=g.eventTime;if((o&I)===I){N!==null&&(N=N.next={eventTime:k,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var _=e,R=g;switch(I=t,k=r,R.tag){case 1:if(_=R.payload,typeof _=="function"){v=_.call(k,v,I);break e}v=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=R.payload,I=typeof _=="function"?_.call(k,v,I):_,I==null)break e;v=pt({},v,I);break e;case 2:Or=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,I=c.effects,I===null?c.effects=[g]:I.push(g))}else k={eventTime:k,lane:I,tag:g.tag,payload:g.payload,callback:g.callback,next:null},N===null?(p=N=k,y=v):N=N.next=k,x|=I;if(g=g.next,g===null){if(g=c.shared.pending,g===null)break;I=g,g=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(1);if(N===null&&(y=v),c.baseState=y,c.firstBaseUpdate=p,c.lastBaseUpdate=N,t=c.shared.interleaved,t!==null){c=t;do x|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);ys|=x,e.lanes=x,e.memoizedState=v}}function n1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],c=o.callback;if(c!==null){if(o.callback=null,o=r,typeof c!="function")throw Error(ue(191,c));c.call(o)}}}var Co={},or=$r(Co),co=$r(Co),uo=$r(Co);function hs(e){if(e===Co)throw Error(ue(174));return e}function fd(e,t){switch(ot(uo,t),ot(co,e),ot(or,Co),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uc(t,e)}dt(or),ot(or,t)}function ri(){dt(or),dt(co),dt(uo)}function Rf(e){hs(uo.current);var t=hs(or.current),r=Uc(t,e.type);t!==r&&(ot(co,e),ot(or,r))}function xd(e){co.current===e&&(dt(or),dt(co))}var mt=$r(0);function Fa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xc=[];function md(){for(var e=0;e<xc.length;e++)xc[e]._workInProgressVersionPrimary=null;xc.length=0}var fa=br.ReactCurrentDispatcher,mc=br.ReactCurrentBatchConfig,ws=0,gt=null,Ot=null,Bt=null,za=!1,qi=!1,ho=0,Y2=0;function Xt(){throw Error(ue(321))}function gd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qn(e[r],t[r]))return!1;return!0}function pd(e,t,r,o,c,d){if(ws=d,gt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=e===null||e.memoizedState===null?J2:ep,e=r(o,c),qi){d=0;do{if(qi=!1,ho=0,25<=d)throw Error(ue(301));d+=1,Bt=Ot=null,t.updateQueue=null,fa.current=tp,e=r(o,c)}while(qi)}if(fa.current=Ua,t=Ot!==null&&Ot.next!==null,ws=0,Bt=Ot=gt=null,za=!1,t)throw Error(ue(300));return e}function wd(){var e=ho!==0;return ho=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?gt.memoizedState=Bt=e:Bt=Bt.next=e,Bt}function Ln(){if(Ot===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=Bt===null?gt.memoizedState:Bt.next;if(t!==null)Bt=t,Ot=e;else{if(e===null)throw Error(ue(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Bt===null?gt.memoizedState=Bt=e:Bt=Bt.next=e}return Bt}function fo(e,t){return typeof t=="function"?t(e):t}function gc(e){var t=Ln(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var o=Ot,c=o.baseQueue,d=r.pending;if(d!==null){if(c!==null){var x=c.next;c.next=d.next,d.next=x}o.baseQueue=c=d,r.pending=null}if(c!==null){d=c.next,o=o.baseState;var g=x=null,y=null,p=d;do{var N=p.lane;if((ws&N)===N)y!==null&&(y=y.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),o=p.hasEagerState?p.eagerState:e(o,p.action);else{var v={lane:N,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};y===null?(g=y=v,x=o):y=y.next=v,gt.lanes|=N,ys|=N}p=p.next}while(p!==null&&p!==d);y===null?x=o:y.next=g,qn(o,t.memoizedState)||(hn=!0),t.memoizedState=o,t.baseState=x,t.baseQueue=y,r.lastRenderedState=o}if(e=r.interleaved,e!==null){c=e;do d=c.lane,gt.lanes|=d,ys|=d,c=c.next;while(c!==e)}else c===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pc(e){var t=Ln(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,d=t.memoizedState;if(c!==null){r.pending=null;var x=c=c.next;do d=e(d,x.action),x=x.next;while(x!==c);qn(d,t.memoizedState)||(hn=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),r.lastRenderedState=d}return[d,o]}function _f(){}function Of(e,t){var r=gt,o=Ln(),c=t(),d=!qn(o.memoizedState,c);if(d&&(o.memoizedState=c,hn=!0),o=o.queue,yd(Lf.bind(null,r,o,e),[e]),o.getSnapshot!==t||d||Bt!==null&&Bt.memoizedState.tag&1){if(r.flags|=2048,xo(9,Df.bind(null,r,o,c,t),void 0,null),Pt===null)throw Error(ue(349));ws&30||Mf(r,t,c)}return c}function Mf(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Df(e,t,r,o){t.value=r,t.getSnapshot=o,Bf(t)&&Pf(e)}function Lf(e,t,r){return r(function(){Bf(t)&&Pf(e)})}function Bf(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qn(e,r)}catch{return!0}}function Pf(e){var t=wr(e,1);t!==null&&Qn(t,e,1,-1)}function r1(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fo,lastRenderedState:e},t.queue=e,e=e.dispatch=$2.bind(null,gt,e),[t.memoizedState,e]}function xo(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=gt.updateQueue,t===null?(t={lastEffect:null,stores:null},gt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function Ff(){return Ln().memoizedState}function xa(e,t,r,o){var c=rr();gt.flags|=e,c.memoizedState=xo(1|t,r,void 0,o===void 0?null:o)}function cl(e,t,r,o){var c=Ln();o=o===void 0?null:o;var d=void 0;if(Ot!==null){var x=Ot.memoizedState;if(d=x.destroy,o!==null&&gd(o,x.deps)){c.memoizedState=xo(t,r,d,o);return}}gt.flags|=e,c.memoizedState=xo(1|t,r,d,o)}function s1(e,t){return xa(8390656,8,e,t)}function yd(e,t){return cl(2048,8,e,t)}function zf(e,t){return cl(4,2,e,t)}function Uf(e,t){return cl(4,4,e,t)}function Vf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hf(e,t,r){return r=r!=null?r.concat([e]):null,cl(4,4,Vf.bind(null,t,e),r)}function bd(){}function Wf(e,t){var r=Ln();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&gd(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function Qf(e,t){var r=Ln();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&gd(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function Gf(e,t,r){return ws&21?(qn(r,t)||(r=Kh(),gt.lanes|=r,ys|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hn=!0),e.memoizedState=r)}function K2(e,t){var r=$e;$e=r!==0&&4>r?r:4,e(!0);var o=mc.transition;mc.transition={};try{e(!1),t()}finally{$e=r,mc.transition=o}}function qf(){return Ln().memoizedState}function Z2(e,t,r){var o=Gr(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},Xf(e))Yf(t,r);else if(r=If(e,t,r,o),r!==null){var c=nn();Qn(r,e,o,c),Kf(r,t,o)}}function $2(e,t,r){var o=Gr(e),c={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xf(e))Yf(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var x=t.lastRenderedState,g=d(x,r);if(c.hasEagerState=!0,c.eagerState=g,qn(g,x)){var y=t.interleaved;y===null?(c.next=c,dd(t)):(c.next=y.next,y.next=c),t.interleaved=c;return}}catch{}finally{}r=If(e,t,c,o),r!==null&&(c=nn(),Qn(r,e,o,c),Kf(r,t,o))}}function Xf(e){var t=e.alternate;return e===gt||t!==null&&t===gt}function Yf(e,t){qi=za=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kf(e,t,r){if(r&4194240){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Zu(e,r)}}var Ua={readContext:Dn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},J2={readContext:Dn,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:Dn,useEffect:s1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,xa(4194308,4,Vf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xa(4194308,4,e,t)},useInsertionEffect:function(e,t){return xa(4,2,e,t)},useMemo:function(e,t){var r=rr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=rr();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Z2.bind(null,gt,e),[o.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:r1,useDebugValue:bd,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=r1(!1),t=e[0];return e=K2.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=gt,c=rr();if(ft){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),Pt===null)throw Error(ue(349));ws&30||Mf(o,t,r)}c.memoizedState=r;var d={value:r,getSnapshot:t};return c.queue=d,s1(Lf.bind(null,o,d,e),[e]),o.flags|=2048,xo(9,Df.bind(null,o,d,r,t),void 0,null),r},useId:function(){var e=rr(),t=Pt.identifierPrefix;if(ft){var r=xr,o=fr;r=(o&~(1<<32-Wn(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=ho++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Y2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ep={readContext:Dn,useCallback:Wf,useContext:Dn,useEffect:yd,useImperativeHandle:Hf,useInsertionEffect:zf,useLayoutEffect:Uf,useMemo:Qf,useReducer:gc,useRef:Ff,useState:function(){return gc(fo)},useDebugValue:bd,useDeferredValue:function(e){var t=Ln();return Gf(t,Ot.memoizedState,e)},useTransition:function(){var e=gc(fo)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:_f,useSyncExternalStore:Of,useId:qf,unstable_isNewReconciler:!1},tp={readContext:Dn,useCallback:Wf,useContext:Dn,useEffect:yd,useImperativeHandle:Hf,useInsertionEffect:zf,useLayoutEffect:Uf,useMemo:Qf,useReducer:pc,useRef:Ff,useState:function(){return pc(fo)},useDebugValue:bd,useDeferredValue:function(e){var t=Ln();return Ot===null?t.memoizedState=e:Gf(t,Ot.memoizedState,e)},useTransition:function(){var e=pc(fo)[0],t=Ln().memoizedState;return[e,t]},useMutableSource:_f,useSyncExternalStore:Of,useId:qf,unstable_isNewReconciler:!1};function Un(e,t){if(e&&e.defaultProps){t=pt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function lu(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:pt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ul={isMounted:function(e){return(e=e._reactInternals)?Cs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=nn(),c=Gr(e),d=mr(o,c);d.payload=t,r!=null&&(d.callback=r),t=Wr(e,d,c),t!==null&&(Qn(t,e,c,o),ha(t,e,c))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=nn(),c=Gr(e),d=mr(o,c);d.tag=1,d.payload=t,r!=null&&(d.callback=r),t=Wr(e,d,c),t!==null&&(Qn(t,e,c,o),ha(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nn(),o=Gr(e),c=mr(r,o);c.tag=2,t!=null&&(c.callback=t),t=Wr(e,c,o),t!==null&&(Qn(t,e,o,r),ha(t,e,o))}};function i1(e,t,r,o,c,d,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,x):t.prototype&&t.prototype.isPureReactComponent?!io(r,o)||!io(c,d):!0}function Zf(e,t,r){var o=!1,c=Kr,d=t.contextType;return typeof d=="object"&&d!==null?d=Dn(d):(c=xn(t)?gs:$t.current,o=t.contextTypes,d=(o=o!=null)?ei(e,c):Kr),t=new t(r,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ul,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function o1(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&ul.enqueueReplaceState(t,t.state,null)}function cu(e,t,r,o){var c=e.stateNode;c.props=r,c.state=e.memoizedState,c.refs={},hd(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=Dn(d):(d=xn(t)?gs:$t.current,c.context=ei(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(lu(e,t,d,r),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&ul.enqueueReplaceState(c,c.state,null),Pa(e,r,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function si(e,t){try{var r="",o=t;do r+=Ig(o),o=o.return;while(o);var c=r}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function wc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function uu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var np=typeof WeakMap=="function"?WeakMap:Map;function $f(e,t,r){r=mr(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){Ha||(Ha=!0,bu=o),uu(e,t)},r}function Jf(e,t,r){r=mr(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;r.payload=function(){return o(c)},r.callback=function(){uu(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(r.callback=function(){uu(e,t),typeof o!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var x=t.stack;this.componentDidCatch(t.value,{componentStack:x!==null?x:""})}),r}function a1(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new np;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(r)||(c.add(r),e=gp.bind(null,e,t,r),t.then(e,e))}function l1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function c1(e,t,r,o,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mr(-1,1),t.tag=2,Wr(r,t,1))),r.lanes|=1),e)}var rp=br.ReactCurrentOwner,hn=!1;function tn(e,t,r,o){t.child=e===null?Tf(t,null,r,o):ni(t,e.child,r,o)}function u1(e,t,r,o,c){r=r.render;var d=t.ref;return Zs(t,c),o=pd(e,t,r,o,d,c),r=wd(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,yr(e,t,c)):(ft&&r&&id(t),t.flags|=1,tn(e,t,o,c),t.child)}function d1(e,t,r,o,c){if(e===null){var d=r.type;return typeof d=="function"&&!Td(d)&&d.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=d,ex(e,t,d,o,c)):(e=wa(r.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&c)){var x=d.memoizedProps;if(r=r.compare,r=r!==null?r:io,r(x,o)&&e.ref===t.ref)return yr(e,t,c)}return t.flags|=1,e=qr(d,o),e.ref=t.ref,e.return=t,t.child=e}function ex(e,t,r,o,c){if(e!==null){var d=e.memoizedProps;if(io(d,o)&&e.ref===t.ref)if(hn=!1,t.pendingProps=o=d,(e.lanes&c)!==0)e.flags&131072&&(hn=!0);else return t.lanes=e.lanes,yr(e,t,c)}return du(e,t,r,o,c)}function tx(e,t,r){var o=t.pendingProps,c=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Qs,yn),yn|=r;else{if(!(r&1073741824))return e=d!==null?d.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(Qs,yn),yn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:r,ot(Qs,yn),yn|=o}else d!==null?(o=d.baseLanes|r,t.memoizedState=null):o=r,ot(Qs,yn),yn|=o;return tn(e,t,c,r),t.child}function nx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function du(e,t,r,o,c){var d=xn(r)?gs:$t.current;return d=ei(t,d),Zs(t,c),r=pd(e,t,r,o,d,c),o=wd(),e!==null&&!hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,yr(e,t,c)):(ft&&o&&id(t),t.flags|=1,tn(e,t,r,c),t.child)}function h1(e,t,r,o,c){if(xn(r)){var d=!0;Oa(t)}else d=!1;if(Zs(t,c),t.stateNode===null)ma(e,t),Zf(t,r,o),cu(t,r,o,c),o=!0;else if(e===null){var x=t.stateNode,g=t.memoizedProps;x.props=g;var y=x.context,p=r.contextType;typeof p=="object"&&p!==null?p=Dn(p):(p=xn(r)?gs:$t.current,p=ei(t,p));var N=r.getDerivedStateFromProps,v=typeof N=="function"||typeof x.getSnapshotBeforeUpdate=="function";v||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(g!==o||y!==p)&&o1(t,x,o,p),Or=!1;var I=t.memoizedState;x.state=I,Pa(t,o,x,c),y=t.memoizedState,g!==o||I!==y||fn.current||Or?(typeof N=="function"&&(lu(t,r,N,o),y=t.memoizedState),(g=Or||i1(t,r,g,o,I,y,p))?(v||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(t.flags|=4194308)):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=y),x.props=o,x.state=y,x.context=p,o=g):(typeof x.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{x=t.stateNode,kf(e,t),g=t.memoizedProps,p=t.type===t.elementType?g:Un(t.type,g),x.props=p,v=t.pendingProps,I=x.context,y=r.contextType,typeof y=="object"&&y!==null?y=Dn(y):(y=xn(r)?gs:$t.current,y=ei(t,y));var k=r.getDerivedStateFromProps;(N=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(g!==v||I!==y)&&o1(t,x,o,y),Or=!1,I=t.memoizedState,x.state=I,Pa(t,o,x,c);var _=t.memoizedState;g!==v||I!==_||fn.current||Or?(typeof k=="function"&&(lu(t,r,k,o),_=t.memoizedState),(p=Or||i1(t,r,p,o,I,_,y)||!1)?(N||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(o,_,y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(o,_,y)),typeof x.componentDidUpdate=="function"&&(t.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof x.componentDidUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=_),x.props=o,x.state=_,x.context=y,o=p):(typeof x.componentDidUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),o=!1)}return hu(e,t,r,o,d,c)}function hu(e,t,r,o,c,d){nx(e,t);var x=(t.flags&128)!==0;if(!o&&!x)return c&&Z0(t,r,!1),yr(e,t,d);o=t.stateNode,rp.current=t;var g=x&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&x?(t.child=ni(t,e.child,null,d),t.child=ni(t,null,g,d)):tn(e,t,g,d),t.memoizedState=o.state,c&&Z0(t,r,!0),t.child}function rx(e){var t=e.stateNode;t.pendingContext?K0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&K0(e,t.context,!1),fd(e,t.containerInfo)}function f1(e,t,r,o,c){return ti(),ad(c),t.flags|=256,tn(e,t,r,o),t.child}var fu={dehydrated:null,treeContext:null,retryLane:0};function xu(e){return{baseLanes:e,cachePool:null,transitions:null}}function sx(e,t,r){var o=t.pendingProps,c=mt.current,d=!1,x=(t.flags&128)!==0,g;if((g=x)||(g=e!==null&&e.memoizedState===null?!1:(c&2)!==0),g?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),ot(mt,c&1),e===null)return ou(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(x=o.children,e=o.fallback,d?(o=t.mode,d=t.child,x={mode:"hidden",children:x},!(o&1)&&d!==null?(d.childLanes=0,d.pendingProps=x):d=fl(x,o,0,null),e=ms(e,o,r,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=xu(r),t.memoizedState=fu,e):vd(t,x));if(c=e.memoizedState,c!==null&&(g=c.dehydrated,g!==null))return sp(e,t,x,o,g,c,r);if(d){d=o.fallback,x=t.mode,c=e.child,g=c.sibling;var y={mode:"hidden",children:o.children};return!(x&1)&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=y,t.deletions=null):(o=qr(c,y),o.subtreeFlags=c.subtreeFlags&14680064),g!==null?d=qr(g,d):(d=ms(d,x,r,null),d.flags|=2),d.return=t,o.return=t,o.sibling=d,t.child=o,o=d,d=t.child,x=e.child.memoizedState,x=x===null?xu(r):{baseLanes:x.baseLanes|r,cachePool:null,transitions:x.transitions},d.memoizedState=x,d.childLanes=e.childLanes&~r,t.memoizedState=fu,o}return d=e.child,e=d.sibling,o=qr(d,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function vd(e,t){return t=fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ea(e,t,r,o){return o!==null&&ad(o),ni(t,e.child,null,r),e=vd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sp(e,t,r,o,c,d,x){if(r)return t.flags&256?(t.flags&=-257,o=wc(Error(ue(422))),ea(e,t,x,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=o.fallback,c=t.mode,o=fl({mode:"visible",children:o.children},c,0,null),d=ms(d,c,x,null),d.flags|=2,o.return=t,d.return=t,o.sibling=d,t.child=o,t.mode&1&&ni(t,e.child,null,x),t.child.memoizedState=xu(x),t.memoizedState=fu,d);if(!(t.mode&1))return ea(e,t,x,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var g=o.dgst;return o=g,d=Error(ue(419)),o=wc(d,o,void 0),ea(e,t,x,o)}if(g=(x&e.childLanes)!==0,hn||g){if(o=Pt,o!==null){switch(x&-x){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|x)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,wr(e,c),Qn(o,e,c,-1))}return jd(),o=wc(Error(ue(421))),ea(e,t,x,o)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=pp.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,bn=Hr(c.nextSibling),vn=t,ft=!0,Hn=null,e!==null&&(Rn[_n++]=fr,Rn[_n++]=xr,Rn[_n++]=ps,fr=e.id,xr=e.overflow,ps=t),t=vd(t,o.children),t.flags|=4096,t)}function x1(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),au(e.return,t,r)}function yc(e,t,r,o,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=r,d.tailMode=c)}function ix(e,t,r){var o=t.pendingProps,c=o.revealOrder,d=o.tail;if(tn(e,t,o.children,r),o=mt.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&x1(e,r,t);else if(e.tag===19)x1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ot(mt,o),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&Fa(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),yc(t,!1,c,r,d);break;case"backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Fa(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}yc(t,!0,r,null,d);break;case"together":yc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ma(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ys|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=qr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ip(e,t,r){switch(t.tag){case 3:rx(t),ti();break;case 5:Rf(t);break;case 1:xn(t.type)&&Oa(t);break;case 4:fd(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;ot(La,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ot(mt,mt.current&1),t.flags|=128,null):r&t.child.childLanes?sx(e,t,r):(ot(mt,mt.current&1),e=yr(e,t,r),e!==null?e.sibling:null);ot(mt,mt.current&1);break;case 19:if(o=(r&t.childLanes)!==0,e.flags&128){if(o)return ix(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ot(mt,mt.current),o)break;return null;case 22:case 23:return t.lanes=0,tx(e,t,r)}return yr(e,t,r)}var ox,mu,ax,lx;ox=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mu=function(){};ax=function(e,t,r,o){var c=e.memoizedProps;if(c!==o){e=t.stateNode,hs(or.current);var d=null;switch(r){case"input":c=Bc(e,c),o=Bc(e,o),d=[];break;case"select":c=pt({},c,{value:void 0}),o=pt({},o,{value:void 0}),d=[];break;case"textarea":c=zc(e,c),o=zc(e,o),d=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ra)}Vc(r,o);var x;r=null;for(p in c)if(!o.hasOwnProperty(p)&&c.hasOwnProperty(p)&&c[p]!=null)if(p==="style"){var g=c[p];for(x in g)g.hasOwnProperty(x)&&(r||(r={}),r[x]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&($i.hasOwnProperty(p)?d||(d=[]):(d=d||[]).push(p,null));for(p in o){var y=o[p];if(g=c!=null?c[p]:void 0,o.hasOwnProperty(p)&&y!==g&&(y!=null||g!=null))if(p==="style")if(g){for(x in g)!g.hasOwnProperty(x)||y&&y.hasOwnProperty(x)||(r||(r={}),r[x]="");for(x in y)y.hasOwnProperty(x)&&g[x]!==y[x]&&(r||(r={}),r[x]=y[x])}else r||(d||(d=[]),d.push(p,r)),r=y;else p==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(d=d||[]).push(p,y)):p==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(p,""+y):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&($i.hasOwnProperty(p)?(y!=null&&p==="onScroll"&&ct("scroll",e),d||g===y||(d=[])):(d=d||[]).push(p,y))}r&&(d=d||[]).push("style",r);var p=d;(t.updateQueue=p)&&(t.flags|=4)}};lx=function(e,t,r,o){r!==o&&(t.flags|=4)};function Di(e,t){if(!ft)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function op(e,t,r){var o=t.pendingProps;switch(od(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return xn(t.type)&&_a(),Yt(t),null;case 3:return o=t.stateNode,ri(),dt(fn),dt($t),md(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&($o(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hn!==null&&(Cu(Hn),Hn=null))),mu(e,t),Yt(t),null;case 5:xd(t);var c=hs(uo.current);if(r=t.type,e!==null&&t.stateNode!=null)ax(e,t,r,o,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(ue(166));return Yt(t),null}if(e=hs(or.current),$o(t)){o=t.stateNode,r=t.type;var d=t.memoizedProps;switch(o[sr]=t,o[lo]=d,e=(t.mode&1)!==0,r){case"dialog":ct("cancel",o),ct("close",o);break;case"iframe":case"object":case"embed":ct("load",o);break;case"video":case"audio":for(c=0;c<Ui.length;c++)ct(Ui[c],o);break;case"source":ct("error",o);break;case"img":case"image":case"link":ct("error",o),ct("load",o);break;case"details":ct("toggle",o);break;case"input":C0(o,d),ct("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},ct("invalid",o);break;case"textarea":A0(o,d),ct("invalid",o)}Vc(r,d),c=null;for(var x in d)if(d.hasOwnProperty(x)){var g=d[x];x==="children"?typeof g=="string"?o.textContent!==g&&(d.suppressHydrationWarning!==!0&&Zo(o.textContent,g,e),c=["children",g]):typeof g=="number"&&o.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&Zo(o.textContent,g,e),c=["children",""+g]):$i.hasOwnProperty(x)&&g!=null&&x==="onScroll"&&ct("scroll",o)}switch(r){case"input":Ho(o),E0(o,d,!0);break;case"textarea":Ho(o),S0(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Ra)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{x=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=x.createElement(r,{is:o.is}):(e=x.createElement(r),r==="select"&&(x=e,o.multiple?x.multiple=!0:o.size&&(x.size=o.size))):e=x.createElementNS(e,r),e[sr]=t,e[lo]=o,ox(e,t,!1,!1),t.stateNode=e;e:{switch(x=Hc(r,o),r){case"dialog":ct("cancel",e),ct("close",e),c=o;break;case"iframe":case"object":case"embed":ct("load",e),c=o;break;case"video":case"audio":for(c=0;c<Ui.length;c++)ct(Ui[c],e);c=o;break;case"source":ct("error",e),c=o;break;case"img":case"image":case"link":ct("error",e),ct("load",e),c=o;break;case"details":ct("toggle",e),c=o;break;case"input":C0(e,o),c=Bc(e,o),ct("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=pt({},o,{value:void 0}),ct("invalid",e);break;case"textarea":A0(e,o),c=zc(e,o),ct("invalid",e);break;default:c=o}Vc(r,c),g=c;for(d in g)if(g.hasOwnProperty(d)){var y=g[d];d==="style"?Ph(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&Lh(e,y)):d==="children"?typeof y=="string"?(r!=="textarea"||y!=="")&&Ji(e,y):typeof y=="number"&&Ji(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&($i.hasOwnProperty(d)?y!=null&&d==="onScroll"&&ct("scroll",e):y!=null&&Qu(e,d,y,x))}switch(r){case"input":Ho(e),E0(e,o,!1);break;case"textarea":Ho(e),S0(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Yr(o.value));break;case"select":e.multiple=!!o.multiple,d=o.value,d!=null?qs(e,!!o.multiple,d,!1):o.defaultValue!=null&&qs(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ra)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yt(t),null;case 6:if(e&&t.stateNode!=null)lx(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(ue(166));if(r=hs(uo.current),hs(or.current),$o(t)){if(o=t.stateNode,r=t.memoizedProps,o[sr]=t,(d=o.nodeValue!==r)&&(e=vn,e!==null))switch(e.tag){case 3:Zo(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zo(o.nodeValue,r,(e.mode&1)!==0)}d&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[sr]=t,t.stateNode=o}return Yt(t),null;case 13:if(dt(mt),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ft&&bn!==null&&t.mode&1&&!(t.flags&128))Sf(),ti(),t.flags|=98560,d=!1;else if(d=$o(t),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(ue(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(ue(317));d[sr]=t}else ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),d=!1}else Hn!==null&&(Cu(Hn),Hn=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||mt.current&1?Mt===0&&(Mt=3):jd())),t.updateQueue!==null&&(t.flags|=4),Yt(t),null);case 4:return ri(),mu(e,t),e===null&&oo(t.stateNode.containerInfo),Yt(t),null;case 10:return ud(t.type._context),Yt(t),null;case 17:return xn(t.type)&&_a(),Yt(t),null;case 19:if(dt(mt),d=t.memoizedState,d===null)return Yt(t),null;if(o=(t.flags&128)!==0,x=d.rendering,x===null)if(o)Di(d,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(x=Fa(e),x!==null){for(t.flags|=128,Di(d,!1),o=x.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)d=r,e=o,d.flags&=14680066,x=d.alternate,x===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,e=x.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ot(mt,mt.current&1|2),t.child}e=e.sibling}d.tail!==null&&Et()>ii&&(t.flags|=128,o=!0,Di(d,!1),t.lanes=4194304)}else{if(!o)if(e=Fa(x),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Di(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!ft)return Yt(t),null}else 2*Et()-d.renderingStartTime>ii&&r!==1073741824&&(t.flags|=128,o=!0,Di(d,!1),t.lanes=4194304);d.isBackwards?(x.sibling=t.child,t.child=x):(r=d.last,r!==null?r.sibling=x:t.child=x,d.last=x)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=Et(),t.sibling=null,r=mt.current,ot(mt,o?r&1|2:r&1),t):(Yt(t),null);case 22:case 23:return Sd(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?yn&1073741824&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function ap(e,t){switch(od(t),t.tag){case 1:return xn(t.type)&&_a(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ri(),dt(fn),dt($t),md(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xd(t),null;case 13:if(dt(mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(mt),null;case 4:return ri(),null;case 10:return ud(t.type._context),null;case 22:case 23:return Sd(),null;case 24:return null;default:return null}}var ta=!1,Kt=!1,lp=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Ws(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){Nt(e,t,o)}else r.current=null}function gu(e,t,r){try{r()}catch(o){Nt(e,t,o)}}var m1=!1;function cp(e,t){if(Jc=Ta,e=ff(),sd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var x=0,g=-1,y=-1,p=0,N=0,v=e,I=null;t:for(;;){for(var k;v!==r||c!==0&&v.nodeType!==3||(g=x+c),v!==d||o!==0&&v.nodeType!==3||(y=x+o),v.nodeType===3&&(x+=v.nodeValue.length),(k=v.firstChild)!==null;)I=v,v=k;for(;;){if(v===e)break t;if(I===r&&++p===c&&(g=x),I===d&&++N===o&&(y=x),(k=v.nextSibling)!==null)break;v=I,I=v.parentNode}v=k}r=g===-1||y===-1?null:{start:g,end:y}}else r=null}r=r||{start:0,end:0}}else r=null;for(eu={focusedElem:e,selectionRange:r},Ta=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var R=_.memoizedProps,L=_.memoizedState,S=t.stateNode,A=S.getSnapshotBeforeUpdate(t.elementType===t.type?R:Un(t.type,R),L);S.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(O){Nt(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return _=m1,m1=!1,_}function Xi(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&gu(t,r,d)}c=c.next}while(c!==o)}}function dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function pu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cx(e){var t=e.alternate;t!==null&&(e.alternate=null,cx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sr],delete t[lo],delete t[ru],delete t[Q2],delete t[G2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ux(e){return e.tag===5||e.tag===3||e.tag===4}function g1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ux(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wu(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ra));else if(o!==4&&(e=e.child,e!==null))for(wu(e,t,r),e=e.sibling;e!==null;)wu(e,t,r),e=e.sibling}function yu(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(yu(e,t,r),e=e.sibling;e!==null;)yu(e,t,r),e=e.sibling}var Ht=null,Vn=!1;function kr(e,t,r){for(r=r.child;r!==null;)dx(e,t,r),r=r.sibling}function dx(e,t,r){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(rl,r)}catch{}switch(r.tag){case 5:Kt||Ws(r,t);case 6:var o=Ht,c=Vn;Ht=null,kr(e,t,r),Ht=o,Vn=c,Ht!==null&&(Vn?(e=Ht,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ht.removeChild(r.stateNode));break;case 18:Ht!==null&&(Vn?(e=Ht,r=r.stateNode,e.nodeType===8?hc(e.parentNode,r):e.nodeType===1&&hc(e,r),ro(e)):hc(Ht,r.stateNode));break;case 4:o=Ht,c=Vn,Ht=r.stateNode.containerInfo,Vn=!0,kr(e,t,r),Ht=o,Vn=c;break;case 0:case 11:case 14:case 15:if(!Kt&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var d=c,x=d.destroy;d=d.tag,x!==void 0&&(d&2||d&4)&&gu(r,t,x),c=c.next}while(c!==o)}kr(e,t,r);break;case 1:if(!Kt&&(Ws(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(g){Nt(r,t,g)}kr(e,t,r);break;case 21:kr(e,t,r);break;case 22:r.mode&1?(Kt=(o=Kt)||r.memoizedState!==null,kr(e,t,r),Kt=o):kr(e,t,r);break;default:kr(e,t,r)}}function p1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new lp),t.forEach(function(o){var c=wp.bind(null,e,o);r.has(o)||(r.add(o),o.then(c,c))})}}function zn(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];try{var d=e,x=t,g=x;e:for(;g!==null;){switch(g.tag){case 5:Ht=g.stateNode,Vn=!1;break e;case 3:Ht=g.stateNode.containerInfo,Vn=!0;break e;case 4:Ht=g.stateNode.containerInfo,Vn=!0;break e}g=g.return}if(Ht===null)throw Error(ue(160));dx(d,x,c),Ht=null,Vn=!1;var y=c.alternate;y!==null&&(y.return=null),c.return=null}catch(p){Nt(c,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hx(t,e),t=t.sibling}function hx(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zn(t,e),tr(e),o&4){try{Xi(3,e,e.return),dl(3,e)}catch(R){Nt(e,e.return,R)}try{Xi(5,e,e.return)}catch(R){Nt(e,e.return,R)}}break;case 1:zn(t,e),tr(e),o&512&&r!==null&&Ws(r,r.return);break;case 5:if(zn(t,e),tr(e),o&512&&r!==null&&Ws(r,r.return),e.flags&32){var c=e.stateNode;try{Ji(c,"")}catch(R){Nt(e,e.return,R)}}if(o&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,x=r!==null?r.memoizedProps:d,g=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&Oh(c,d),Hc(g,x);var p=Hc(g,d);for(x=0;x<y.length;x+=2){var N=y[x],v=y[x+1];N==="style"?Ph(c,v):N==="dangerouslySetInnerHTML"?Lh(c,v):N==="children"?Ji(c,v):Qu(c,N,v,p)}switch(g){case"input":Pc(c,d);break;case"textarea":Mh(c,d);break;case"select":var I=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var k=d.value;k!=null?qs(c,!!d.multiple,k,!1):I!==!!d.multiple&&(d.defaultValue!=null?qs(c,!!d.multiple,d.defaultValue,!0):qs(c,!!d.multiple,d.multiple?[]:"",!1))}c[lo]=d}catch(R){Nt(e,e.return,R)}}break;case 6:if(zn(t,e),tr(e),o&4){if(e.stateNode===null)throw Error(ue(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(R){Nt(e,e.return,R)}}break;case 3:if(zn(t,e),tr(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ro(t.containerInfo)}catch(R){Nt(e,e.return,R)}break;case 4:zn(t,e),tr(e);break;case 13:zn(t,e),tr(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(Ed=Et())),o&4&&p1(e);break;case 22:if(N=r!==null&&r.memoizedState!==null,e.mode&1?(Kt=(p=Kt)||N,zn(t,e),Kt=p):zn(t,e),tr(e),o&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!N&&e.mode&1)for(Se=e,N=e.child;N!==null;){for(v=Se=N;Se!==null;){switch(I=Se,k=I.child,I.tag){case 0:case 11:case 14:case 15:Xi(4,I,I.return);break;case 1:Ws(I,I.return);var _=I.stateNode;if(typeof _.componentWillUnmount=="function"){o=I,r=I.return;try{t=o,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(R){Nt(o,r,R)}}break;case 5:Ws(I,I.return);break;case 22:if(I.memoizedState!==null){y1(v);continue}}k!==null?(k.return=I,Se=k):y1(v)}N=N.sibling}e:for(N=null,v=e;;){if(v.tag===5){if(N===null){N=v;try{c=v.stateNode,p?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=v.stateNode,y=v.memoizedProps.style,x=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=Bh("display",x))}catch(R){Nt(e,e.return,R)}}}else if(v.tag===6){if(N===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(R){Nt(e,e.return,R)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;N===v&&(N=null),v=v.return}N===v&&(N=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:zn(t,e),tr(e),o&4&&p1(e);break;case 21:break;default:zn(t,e),tr(e)}}function tr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ux(r)){var o=r;break e}r=r.return}throw Error(ue(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(Ji(c,""),o.flags&=-33);var d=g1(e);yu(e,d,c);break;case 3:case 4:var x=o.stateNode.containerInfo,g=g1(e);wu(e,g,x);break;default:throw Error(ue(161))}}catch(y){Nt(e,e.return,y)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function up(e,t,r){Se=e,fx(e)}function fx(e,t,r){for(var o=(e.mode&1)!==0;Se!==null;){var c=Se,d=c.child;if(c.tag===22&&o){var x=c.memoizedState!==null||ta;if(!x){var g=c.alternate,y=g!==null&&g.memoizedState!==null||Kt;g=ta;var p=Kt;if(ta=x,(Kt=y)&&!p)for(Se=c;Se!==null;)x=Se,y=x.child,x.tag===22&&x.memoizedState!==null?b1(c):y!==null?(y.return=x,Se=y):b1(c);for(;d!==null;)Se=d,fx(d),d=d.sibling;Se=c,ta=g,Kt=p}w1(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,Se=d):w1(e)}}function w1(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||dl(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Kt)if(r===null)o.componentDidMount();else{var c=t.elementType===t.type?r.memoizedProps:Un(t.type,r.memoizedProps);o.componentDidUpdate(c,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&n1(t,d,o);break;case 3:var x=t.updateQueue;if(x!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}n1(t,x,r)}break;case 5:var g=t.stateNode;if(r===null&&t.flags&4){r=g;var y=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&r.focus();break;case"img":y.src&&(r.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var N=p.memoizedState;if(N!==null){var v=N.dehydrated;v!==null&&ro(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Kt||t.flags&512&&pu(t)}catch(I){Nt(t,t.return,I)}}if(t===e){Se=null;break}if(r=t.sibling,r!==null){r.return=t.return,Se=r;break}Se=t.return}}function y1(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Se=r;break}Se=t.return}}function b1(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dl(4,t)}catch(y){Nt(t,r,y)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(y){Nt(t,c,y)}}var d=t.return;try{pu(t)}catch(y){Nt(t,d,y)}break;case 5:var x=t.return;try{pu(t)}catch(y){Nt(t,x,y)}}}catch(y){Nt(t,t.return,y)}if(t===e){Se=null;break}var g=t.sibling;if(g!==null){g.return=t.return,Se=g;break}Se=t.return}}var dp=Math.ceil,Va=br.ReactCurrentDispatcher,Nd=br.ReactCurrentOwner,Mn=br.ReactCurrentBatchConfig,qe=0,Pt=null,Tt=null,Wt=0,yn=0,Qs=$r(0),Mt=0,mo=null,ys=0,hl=0,Cd=0,Yi=null,dn=null,Ed=0,ii=1/0,ur=null,Ha=!1,bu=null,Qr=null,na=!1,Br=null,Wa=0,Ki=0,vu=null,ga=-1,pa=0;function nn(){return qe&6?Et():ga!==-1?ga:ga=Et()}function Gr(e){return e.mode&1?qe&2&&Wt!==0?Wt&-Wt:X2.transition!==null?(pa===0&&(pa=Kh()),pa):(e=$e,e!==0||(e=window.event,e=e===void 0?16:rf(e.type)),e):1}function Qn(e,t,r,o){if(50<Ki)throw Ki=0,vu=null,Error(ue(185));bo(e,r,o),(!(qe&2)||e!==Pt)&&(e===Pt&&(!(qe&2)&&(hl|=r),Mt===4&&Dr(e,Wt)),mn(e,o),r===1&&qe===0&&!(t.mode&1)&&(ii=Et()+500,ll&&Jr()))}function mn(e,t){var r=e.callbackNode;Xg(e,t);var o=ja(e,e===Pt?Wt:0);if(o===0)r!==null&&I0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&I0(r),t===1)e.tag===0?q2(v1.bind(null,e)):Cf(v1.bind(null,e)),H2(function(){!(qe&6)&&Jr()}),r=null;else{switch(Zh(o)){case 1:r=Ku;break;case 4:r=Xh;break;case 16:r=Sa;break;case 536870912:r=Yh;break;default:r=Sa}r=vx(r,xx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xx(e,t){if(ga=-1,pa=0,qe&6)throw Error(ue(327));var r=e.callbackNode;if($s()&&e.callbackNode!==r)return null;var o=ja(e,e===Pt?Wt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Qa(e,o);else{t=o;var c=qe;qe|=2;var d=gx();(Pt!==e||Wt!==t)&&(ur=null,ii=Et()+500,xs(e,t));do try{xp();break}catch(g){mx(e,g)}while(1);cd(),Va.current=d,qe=c,Tt!==null?t=0:(Pt=null,Wt=0,t=Mt)}if(t!==0){if(t===2&&(c=Xc(e),c!==0&&(o=c,t=Nu(e,c))),t===1)throw r=mo,xs(e,0),Dr(e,o),mn(e,Et()),r;if(t===6)Dr(e,o);else{if(c=e.current.alternate,!(o&30)&&!hp(c)&&(t=Qa(e,o),t===2&&(d=Xc(e),d!==0&&(o=d,t=Nu(e,d))),t===1))throw r=mo,xs(e,0),Dr(e,o),mn(e,Et()),r;switch(e.finishedWork=c,e.finishedLanes=o,t){case 0:case 1:throw Error(ue(345));case 2:cs(e,dn,ur);break;case 3:if(Dr(e,o),(o&130023424)===o&&(t=Ed+500-Et(),10<t)){if(ja(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){nn(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=nu(cs.bind(null,e,dn,ur),t);break}cs(e,dn,ur);break;case 4:if(Dr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,c=-1;0<o;){var x=31-Wn(o);d=1<<x,x=t[x],x>c&&(c=x),o&=~d}if(o=c,o=Et()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*dp(o/1960))-o,10<o){e.timeoutHandle=nu(cs.bind(null,e,dn,ur),o);break}cs(e,dn,ur);break;case 5:cs(e,dn,ur);break;default:throw Error(ue(329))}}}return mn(e,Et()),e.callbackNode===r?xx.bind(null,e):null}function Nu(e,t){var r=Yi;return e.current.memoizedState.isDehydrated&&(xs(e,t).flags|=256),e=Qa(e,t),e!==2&&(t=dn,dn=r,t!==null&&Cu(t)),e}function Cu(e){dn===null?dn=e:dn.push.apply(dn,e)}function hp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var c=r[o],d=c.getSnapshot;c=c.value;try{if(!qn(d(),c))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dr(e,t){for(t&=~Cd,t&=~hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wn(t),o=1<<r;e[r]=-1,t&=~o}}function v1(e){if(qe&6)throw Error(ue(327));$s();var t=ja(e,0);if(!(t&1))return mn(e,Et()),null;var r=Qa(e,t);if(e.tag!==0&&r===2){var o=Xc(e);o!==0&&(t=o,r=Nu(e,o))}if(r===1)throw r=mo,xs(e,0),Dr(e,t),mn(e,Et()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,dn,ur),mn(e,Et()),null}function Ad(e,t){var r=qe;qe|=1;try{return e(t)}finally{qe=r,qe===0&&(ii=Et()+500,ll&&Jr())}}function bs(e){Br!==null&&Br.tag===0&&!(qe&6)&&$s();var t=qe;qe|=1;var r=Mn.transition,o=$e;try{if(Mn.transition=null,$e=1,e)return e()}finally{$e=o,Mn.transition=r,qe=t,!(qe&6)&&Jr()}}function Sd(){yn=Qs.current,dt(Qs)}function xs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,V2(r)),Tt!==null)for(r=Tt.return;r!==null;){var o=r;switch(od(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&_a();break;case 3:ri(),dt(fn),dt($t),md();break;case 5:xd(o);break;case 4:ri();break;case 13:dt(mt);break;case 19:dt(mt);break;case 10:ud(o.type._context);break;case 22:case 23:Sd()}r=r.return}if(Pt=e,Tt=e=qr(e.current,null),Wt=yn=t,Mt=0,mo=null,Cd=hl=ys=0,dn=Yi=null,ds!==null){for(t=0;t<ds.length;t++)if(r=ds[t],o=r.interleaved,o!==null){r.interleaved=null;var c=o.next,d=r.pending;if(d!==null){var x=d.next;d.next=c,o.next=x}r.pending=o}ds=null}return e}function mx(e,t){do{var r=Tt;try{if(cd(),fa.current=Ua,za){for(var o=gt.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}za=!1}if(ws=0,Bt=Ot=gt=null,qi=!1,ho=0,Nd.current=null,r===null||r.return===null){Mt=1,mo=t,Tt=null;break}e:{var d=e,x=r.return,g=r,y=t;if(t=Wt,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var p=y,N=g,v=N.tag;if(!(N.mode&1)&&(v===0||v===11||v===15)){var I=N.alternate;I?(N.updateQueue=I.updateQueue,N.memoizedState=I.memoizedState,N.lanes=I.lanes):(N.updateQueue=null,N.memoizedState=null)}var k=l1(x);if(k!==null){k.flags&=-257,c1(k,x,g,d,t),k.mode&1&&a1(d,p,t),t=k,y=p;var _=t.updateQueue;if(_===null){var R=new Set;R.add(y),t.updateQueue=R}else _.add(y);break e}else{if(!(t&1)){a1(d,p,t),jd();break e}y=Error(ue(426))}}else if(ft&&g.mode&1){var L=l1(x);if(L!==null){!(L.flags&65536)&&(L.flags|=256),c1(L,x,g,d,t),ad(si(y,g));break e}}d=y=si(y,g),Mt!==4&&(Mt=2),Yi===null?Yi=[d]:Yi.push(d),d=x;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var S=$f(d,y,t);t1(d,S);break e;case 1:g=y;var A=d.type,T=d.stateNode;if(!(d.flags&128)&&(typeof A.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Qr===null||!Qr.has(T)))){d.flags|=65536,t&=-t,d.lanes|=t;var O=Jf(d,g,t);t1(d,O);break e}}d=d.return}while(d!==null)}wx(r)}catch(V){t=V,Tt===r&&r!==null&&(Tt=r=r.return);continue}break}while(1)}function gx(){var e=Va.current;return Va.current=Ua,e===null?Ua:e}function jd(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Pt===null||!(ys&268435455)&&!(hl&268435455)||Dr(Pt,Wt)}function Qa(e,t){var r=qe;qe|=2;var o=gx();(Pt!==e||Wt!==t)&&(ur=null,xs(e,t));do try{fp();break}catch(c){mx(e,c)}while(1);if(cd(),qe=r,Va.current=o,Tt!==null)throw Error(ue(261));return Pt=null,Wt=0,Mt}function fp(){for(;Tt!==null;)px(Tt)}function xp(){for(;Tt!==null&&!Fg();)px(Tt)}function px(e){var t=bx(e.alternate,e,yn);e.memoizedProps=e.pendingProps,t===null?wx(e):Tt=t,Nd.current=null}function wx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ap(r,t),r!==null){r.flags&=32767,Tt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Tt=null;return}}else if(r=op(r,t,yn),r!==null){Tt=r;return}if(t=t.sibling,t!==null){Tt=t;return}Tt=t=e}while(t!==null);Mt===0&&(Mt=5)}function cs(e,t,r){var o=$e,c=Mn.transition;try{Mn.transition=null,$e=1,mp(e,t,r,o)}finally{Mn.transition=c,$e=o}return null}function mp(e,t,r,o){do $s();while(Br!==null);if(qe&6)throw Error(ue(327));r=e.finishedWork;var c=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var d=r.lanes|r.childLanes;if(Yg(e,d),e===Pt&&(Tt=Pt=null,Wt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||na||(na=!0,vx(Sa,function(){return $s(),null})),d=(r.flags&15990)!==0,r.subtreeFlags&15990||d){d=Mn.transition,Mn.transition=null;var x=$e;$e=1;var g=qe;qe|=4,Nd.current=null,cp(e,r),hx(r,e),D2(eu),Ta=!!Jc,eu=Jc=null,e.current=r,up(r),zg(),qe=g,$e=x,Mn.transition=d}else e.current=r;if(na&&(na=!1,Br=e,Wa=c),d=e.pendingLanes,d===0&&(Qr=null),Hg(r.stateNode),mn(e,Et()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)c=t[r],o(c.value,{componentStack:c.stack,digest:c.digest});if(Ha)throw Ha=!1,e=bu,bu=null,e;return Wa&1&&e.tag!==0&&$s(),d=e.pendingLanes,d&1?e===vu?Ki++:(Ki=0,vu=e):Ki=0,Jr(),null}function $s(){if(Br!==null){var e=Zh(Wa),t=Mn.transition,r=$e;try{if(Mn.transition=null,$e=16>e?16:e,Br===null)var o=!1;else{if(e=Br,Br=null,Wa=0,qe&6)throw Error(ue(331));var c=qe;for(qe|=4,Se=e.current;Se!==null;){var d=Se,x=d.child;if(Se.flags&16){var g=d.deletions;if(g!==null){for(var y=0;y<g.length;y++){var p=g[y];for(Se=p;Se!==null;){var N=Se;switch(N.tag){case 0:case 11:case 15:Xi(8,N,d)}var v=N.child;if(v!==null)v.return=N,Se=v;else for(;Se!==null;){N=Se;var I=N.sibling,k=N.return;if(cx(N),N===p){Se=null;break}if(I!==null){I.return=k,Se=I;break}Se=k}}}var _=d.alternate;if(_!==null){var R=_.child;if(R!==null){_.child=null;do{var L=R.sibling;R.sibling=null,R=L}while(R!==null)}}Se=d}}if(d.subtreeFlags&2064&&x!==null)x.return=d,Se=x;else e:for(;Se!==null;){if(d=Se,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Xi(9,d,d.return)}var S=d.sibling;if(S!==null){S.return=d.return,Se=S;break e}Se=d.return}}var A=e.current;for(Se=A;Se!==null;){x=Se;var T=x.child;if(x.subtreeFlags&2064&&T!==null)T.return=x,Se=T;else e:for(x=A;Se!==null;){if(g=Se,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:dl(9,g)}}catch(V){Nt(g,g.return,V)}if(g===x){Se=null;break e}var O=g.sibling;if(O!==null){O.return=g.return,Se=O;break e}Se=g.return}}if(qe=c,Jr(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(rl,e)}catch{}o=!0}return o}finally{$e=r,Mn.transition=t}}return!1}function N1(e,t,r){t=si(r,t),t=$f(e,t,1),e=Wr(e,t,1),t=nn(),e!==null&&(bo(e,1,t),mn(e,t))}function Nt(e,t,r){if(e.tag===3)N1(e,e,r);else for(;t!==null;){if(t.tag===3){N1(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Qr===null||!Qr.has(o))){e=si(r,e),e=Jf(t,e,1),t=Wr(t,e,1),e=nn(),t!==null&&(bo(t,1,e),mn(t,e));break}}t=t.return}}function gp(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=nn(),e.pingedLanes|=e.suspendedLanes&r,Pt===e&&(Wt&r)===r&&(Mt===4||Mt===3&&(Wt&130023424)===Wt&&500>Et()-Ed?xs(e,0):Cd|=r),mn(e,t)}function yx(e,t){t===0&&(e.mode&1?(t=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):t=1);var r=nn();e=wr(e,t),e!==null&&(bo(e,t,r),mn(e,r))}function pp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yx(e,r)}function wp(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(ue(314))}o!==null&&o.delete(t),yx(e,r)}var bx;bx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||fn.current)hn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hn=!1,ip(e,t,r);hn=!!(e.flags&131072)}else hn=!1,ft&&t.flags&1048576&&Ef(t,Da,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;ma(e,t),e=t.pendingProps;var c=ei(t,$t.current);Zs(t,r),c=pd(null,t,o,e,c,r);var d=wd();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(o)?(d=!0,Oa(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,hd(t),c.updater=ul,t.stateNode=c,c._reactInternals=t,cu(t,o,e,r),t=hu(null,t,o,!0,d,r)):(t.tag=0,ft&&d&&id(t),tn(null,t,c,r),t=t.child),t;case 16:o=t.elementType;e:{switch(ma(e,t),e=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=bp(o),e=Un(o,e),c){case 0:t=du(null,t,o,e,r);break e;case 1:t=h1(null,t,o,e,r);break e;case 11:t=u1(null,t,o,e,r);break e;case 14:t=d1(null,t,o,Un(o.type,e),r);break e}throw Error(ue(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Un(o,c),du(e,t,o,c,r);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Un(o,c),h1(e,t,o,c,r);case 3:e:{if(rx(t),e===null)throw Error(ue(387));o=t.pendingProps,d=t.memoizedState,c=d.element,kf(e,t),Pa(t,o,null,r);var x=t.memoizedState;if(o=x.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=si(Error(ue(423)),t),t=f1(e,t,o,r,c);break e}else if(o!==c){c=si(Error(ue(424)),t),t=f1(e,t,o,r,c);break e}else for(bn=Hr(t.stateNode.containerInfo.firstChild),vn=t,ft=!0,Hn=null,r=Tf(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ti(),o===c){t=yr(e,t,r);break e}tn(e,t,o,r)}t=t.child}return t;case 5:return Rf(t),e===null&&ou(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,x=c.children,tu(o,c)?x=null:d!==null&&tu(o,d)&&(t.flags|=32),nx(e,t),tn(e,t,x,r),t.child;case 6:return e===null&&ou(t),null;case 13:return sx(e,t,r);case 4:return fd(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=ni(t,null,o,r):tn(e,t,o,r),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Un(o,c),u1(e,t,o,c,r);case 7:return tn(e,t,t.pendingProps,r),t.child;case 8:return tn(e,t,t.pendingProps.children,r),t.child;case 12:return tn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,d=t.memoizedProps,x=c.value,ot(La,o._currentValue),o._currentValue=x,d!==null)if(qn(d.value,x)){if(d.children===c.children&&!fn.current){t=yr(e,t,r);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){x=d.child;for(var y=g.firstContext;y!==null;){if(y.context===o){if(d.tag===1){y=mr(-1,r&-r),y.tag=2;var p=d.updateQueue;if(p!==null){p=p.shared;var N=p.pending;N===null?y.next=y:(y.next=N.next,N.next=y),p.pending=y}}d.lanes|=r,y=d.alternate,y!==null&&(y.lanes|=r),au(d.return,r,t),g.lanes|=r;break}y=y.next}}else if(d.tag===10)x=d.type===t.type?null:d.child;else if(d.tag===18){if(x=d.return,x===null)throw Error(ue(341));x.lanes|=r,g=x.alternate,g!==null&&(g.lanes|=r),au(x,r,t),x=d.sibling}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===t){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}tn(e,t,c.children,r),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,Zs(t,r),c=Dn(c),o=o(c),t.flags|=1,tn(e,t,o,r),t.child;case 14:return o=t.type,c=Un(o,t.pendingProps),c=Un(o.type,c),d1(e,t,o,c,r);case 15:return ex(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Un(o,c),ma(e,t),t.tag=1,xn(o)?(e=!0,Oa(t)):e=!1,Zs(t,r),Zf(t,o,c),cu(t,o,c,r),hu(null,t,o,!0,e,r);case 19:return ix(e,t,r);case 22:return tx(e,t,r)}throw Error(ue(156,t.tag))};function vx(e,t){return qh(e,t)}function yp(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,t,r,o){return new yp(e,t,r,o)}function Td(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bp(e){if(typeof e=="function")return Td(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qu)return 11;if(e===Xu)return 14}return 2}function qr(e,t){var r=e.alternate;return r===null?(r=On(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wa(e,t,r,o,c,d){var x=2;if(o=e,typeof e=="function")Td(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case Ds:return ms(r.children,c,d,t);case Gu:x=8,c|=8;break;case Oc:return e=On(12,r,t,c|2),e.elementType=Oc,e.lanes=d,e;case Mc:return e=On(13,r,t,c),e.elementType=Mc,e.lanes=d,e;case Dc:return e=On(19,r,t,c),e.elementType=Dc,e.lanes=d,e;case kh:return fl(r,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Th:x=10;break e;case Ih:x=9;break e;case qu:x=11;break e;case Xu:x=14;break e;case _r:x=16,o=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=On(x,r,t,c),t.elementType=e,t.type=o,t.lanes=d,t}function ms(e,t,r,o){return e=On(7,e,o,t),e.lanes=r,e}function fl(e,t,r,o){return e=On(22,e,o,t),e.elementType=kh,e.lanes=r,e.stateNode={isHidden:!1},e}function bc(e,t,r){return e=On(6,e,null,t),e.lanes=r,e}function vc(e,t,r){return t=On(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vp(e,t,r,o,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tc(0),this.expirationTimes=tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Id(e,t,r,o,c,d,x,g,y){return e=new vp(e,t,r,g,y),t===1?(t=1,d===!0&&(t|=8)):t=0,d=On(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hd(d),e}function Np(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ms,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function Nx(e){if(!e)return Kr;e=e._reactInternals;e:{if(Cs(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(xn(r))return Nf(e,r,t)}return t}function Cx(e,t,r,o,c,d,x,g,y){return e=Id(r,o,!0,e,c,d,x,g,y),e.context=Nx(null),r=e.current,o=nn(),c=Gr(r),d=mr(o,c),d.callback=t??null,Wr(r,d,c),e.current.lanes=c,bo(e,c,o),mn(e,o),e}function xl(e,t,r,o){var c=t.current,d=nn(),x=Gr(c);return r=Nx(r),t.context===null?t.context=r:t.pendingContext=r,t=mr(d,x),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Wr(c,t,x),e!==null&&(Qn(e,c,x,d),ha(e,c,x)),x}function Ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function C1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function kd(e,t){C1(e,t),(e=e.alternate)&&C1(e,t)}function Cp(){return null}var Ex=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rd(e){this._internalRoot=e}ml.prototype.render=Rd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));xl(e,t,null,null)};ml.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bs(function(){xl(null,e,null,null)}),t[pr]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var t=ef();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mr.length&&t!==0&&t<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&nf(e)}};function _d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function E1(){}function Ep(e,t,r,o,c){if(c){if(typeof o=="function"){var d=o;o=function(){var p=Ga(x);d.call(p)}}var x=Cx(t,o,e,0,null,!1,!1,"",E1);return e._reactRootContainer=x,e[pr]=x.current,oo(e.nodeType===8?e.parentNode:e),bs(),x}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var g=o;o=function(){var p=Ga(y);g.call(p)}}var y=Id(e,0,!1,null,null,!1,!1,"",E1);return e._reactRootContainer=y,e[pr]=y.current,oo(e.nodeType===8?e.parentNode:e),bs(function(){xl(t,y,r,o)}),y}function pl(e,t,r,o,c){var d=r._reactRootContainer;if(d){var x=d;if(typeof c=="function"){var g=c;c=function(){var y=Ga(x);g.call(y)}}xl(t,x,e,c)}else x=Ep(r,t,e,c,o);return Ga(x)}$h=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=zi(t.pendingLanes);r!==0&&(Zu(t,r|1),mn(t,Et()),!(qe&6)&&(ii=Et()+500,Jr()))}break;case 13:bs(function(){var o=wr(e,1);if(o!==null){var c=nn();Qn(o,e,1,c)}}),kd(e,1)}};$u=function(e){if(e.tag===13){var t=wr(e,134217728);if(t!==null){var r=nn();Qn(t,e,134217728,r)}kd(e,134217728)}};Jh=function(e){if(e.tag===13){var t=Gr(e),r=wr(e,t);if(r!==null){var o=nn();Qn(r,e,t,o)}kd(e,t)}};ef=function(){return $e};tf=function(e,t){var r=$e;try{return $e=e,t()}finally{$e=r}};Qc=function(e,t,r){switch(t){case"input":if(Pc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var c=al(o);if(!c)throw Error(ue(90));_h(o),Pc(o,c)}}}break;case"textarea":Mh(e,r);break;case"select":t=r.value,t!=null&&qs(e,!!r.multiple,t,!1)}};Uh=Ad;Vh=bs;var Ap={usingClientEntryPoint:!1,Events:[No,Fs,al,Fh,zh,Ad]},Li={findFiberByHostInstance:us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sp={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qh(e),e===null?null:e.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||Cp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ra.isDisabled&&ra.supportsFiber)try{rl=ra.inject(Sp),ir=ra}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ap;Cn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_d(t))throw Error(ue(200));return Np(e,t,null,r)};Cn.createRoot=function(e,t){if(!_d(e))throw Error(ue(299));var r=!1,o="",c=Ex;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Id(e,1,!1,null,null,r,!1,o,c),e[pr]=t.current,oo(e.nodeType===8?e.parentNode:e),new Rd(t)};Cn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=Qh(t),e=e===null?null:e.stateNode,e};Cn.flushSync=function(e){return bs(e)};Cn.hydrate=function(e,t,r){if(!gl(t))throw Error(ue(200));return pl(null,e,t,!0,r)};Cn.hydrateRoot=function(e,t,r){if(!_d(e))throw Error(ue(405));var o=r!=null&&r.hydratedSources||null,c=!1,d="",x=Ex;if(r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),t=Cx(t,null,e,1,r??null,c,!1,d,x),e[pr]=t.current,oo(e),o)for(e=0;e<o.length;e++)r=o[e],c=r._getVersion,c=c(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,c]:t.mutableSourceEagerHydrationData.push(r,c);return new ml(t)};Cn.render=function(e,t,r){if(!gl(t))throw Error(ue(200));return pl(null,e,t,!1,r)};Cn.unmountComponentAtNode=function(e){if(!gl(e))throw Error(ue(40));return e._reactRootContainer?(bs(function(){pl(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};Cn.unstable_batchedUpdates=Ad;Cn.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!gl(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return pl(e,t,r,!1,o)};Cn.version="18.3.1-next-f1338f8080-20240426";function Ax(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ax)}catch(e){console.error(e)}}Ax(),Eh.exports=Cn;var jp=Eh.exports,A1=jp;Rc.createRoot=A1.createRoot,Rc.hydrateRoot=A1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},go.apply(this,arguments)}var Pr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Pr||(Pr={}));const S1="popstate";function Tp(e){e===void 0&&(e={});function t(o,c){let{pathname:d,search:x,hash:g}=o.location;return Eu("",{pathname:d,search:x,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){return typeof c=="string"?c:qa(c)}return kp(t,r,null,e)}function At(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sx(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ip(){return Math.random().toString(36).substr(2,8)}function j1(e,t){return{usr:e.state,key:e.key,idx:t}}function Eu(e,t,r,o){return r===void 0&&(r=null),go({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xi(t):t,{state:r,key:t&&t.key||o||Ip()})}function qa(e){let{pathname:t="/",search:r="",hash:o=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function xi(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function kp(e,t,r,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:d=!1}=o,x=c.history,g=Pr.Pop,y=null,p=N();p==null&&(p=0,x.replaceState(go({},x.state,{idx:p}),""));function N(){return(x.state||{idx:null}).idx}function v(){g=Pr.Pop;let L=N(),S=L==null?null:L-p;p=L,y&&y({action:g,location:R.location,delta:S})}function I(L,S){g=Pr.Push;let A=Eu(R.location,L,S);r&&r(A,L),p=N()+1;let T=j1(A,p),O=R.createHref(A);try{x.pushState(T,"",O)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;c.location.assign(O)}d&&y&&y({action:g,location:R.location,delta:1})}function k(L,S){g=Pr.Replace;let A=Eu(R.location,L,S);r&&r(A,L),p=N();let T=j1(A,p),O=R.createHref(A);x.replaceState(T,"",O),d&&y&&y({action:g,location:R.location,delta:0})}function _(L){let S=c.location.origin!=="null"?c.location.origin:c.location.href,A=typeof L=="string"?L:qa(L);return A=A.replace(/ $/,"%20"),At(S,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,S)}let R={get action(){return g},get location(){return e(c,x)},listen(L){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(S1,v),y=L,()=>{c.removeEventListener(S1,v),y=null}},createHref(L){return t(c,L)},createURL:_,encodeLocation(L){let S=_(L);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:I,replace:k,go(L){return x.go(L)}};return R}var T1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(T1||(T1={}));function Rp(e,t,r){return r===void 0&&(r="/"),_p(e,t,r,!1)}function _p(e,t,r,o){let c=typeof t=="string"?xi(t):t,d=Od(c.pathname||"/",r);if(d==null)return null;let x=jx(e);Op(x);let g=null;for(let y=0;g==null&&y<x.length;++y){let p=Wp(d);g=Vp(x[y],p,o)}return g}function jx(e,t,r,o){t===void 0&&(t=[]),r===void 0&&(r=[]),o===void 0&&(o="");let c=(d,x,g)=>{let y={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:x,route:d};y.relativePath.startsWith("/")&&(At(y.relativePath.startsWith(o),'Absolute route path "'+y.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),y.relativePath=y.relativePath.slice(o.length));let p=Xr([o,y.relativePath]),N=r.concat(y);d.children&&d.children.length>0&&(At(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),jx(d.children,t,N,p)),!(d.path==null&&!d.index)&&t.push({path:p,score:zp(p,d.index),routesMeta:N})};return e.forEach((d,x)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))c(d,x);else for(let y of Tx(d.path))c(d,x,y)}),t}function Tx(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,c=r.endsWith("?"),d=r.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let x=Tx(o.join("/")),g=[];return g.push(...x.map(y=>y===""?d:[d,y].join("/"))),c&&g.push(...x),g.map(y=>e.startsWith("/")&&y===""?"/":y)}function Op(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Up(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}const Mp=/^:[\w-]+$/,Dp=3,Lp=2,Bp=1,Pp=10,Fp=-2,I1=e=>e==="*";function zp(e,t){let r=e.split("/"),o=r.length;return r.some(I1)&&(o+=Fp),t&&(o+=Lp),r.filter(c=>!I1(c)).reduce((c,d)=>c+(Mp.test(d)?Dp:d===""?Bp:Pp),o)}function Up(e,t){return e.length===t.length&&e.slice(0,-1).every((o,c)=>o===t[c])?e[e.length-1]-t[t.length-1]:0}function Vp(e,t,r){r===void 0&&(r=!1);let{routesMeta:o}=e,c={},d="/",x=[];for(let g=0;g<o.length;++g){let y=o[g],p=g===o.length-1,N=d==="/"?t:t.slice(d.length)||"/",v=k1({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},N),I=y.route;if(!v&&p&&r&&!o[o.length-1].route.index&&(v=k1({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},N)),!v)return null;Object.assign(c,v.params),x.push({params:c,pathname:Xr([d,v.pathname]),pathnameBase:Xp(Xr([d,v.pathnameBase])),route:I}),v.pathnameBase!=="/"&&(d=Xr([d,v.pathnameBase]))}return x}function k1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=Hp(e.path,e.caseSensitive,e.end),c=t.match(r);if(!c)return null;let d=c[0],x=d.replace(/(.)\/+$/,"$1"),g=c.slice(1);return{params:o.reduce((p,N,v)=>{let{paramName:I,isOptional:k}=N;if(I==="*"){let R=g[v]||"";x=d.slice(0,d.length-R.length).replace(/(.)\/+$/,"$1")}const _=g[v];return k&&!_?p[I]=void 0:p[I]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:x,pattern:e}}function Hp(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Sx(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,g,y)=>(o.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),o]}function Wp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sx(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Od(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function Qp(e,t){t===void 0&&(t="/");let{pathname:r,search:o="",hash:c=""}=typeof e=="string"?xi(e):e;return{pathname:r?r.startsWith("/")?r:Gp(r,t):t,search:Yp(o),hash:Kp(c)}}function Gp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?r.length>1&&r.pop():c!=="."&&r.push(c)}),r.length>1?r.join("/"):"/"}function Nc(e,t,r,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qp(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Md(e,t){let r=qp(e);return t?r.map((o,c)=>c===r.length-1?o.pathname:o.pathnameBase):r.map(o=>o.pathnameBase)}function Dd(e,t,r,o){o===void 0&&(o=!1);let c;typeof e=="string"?c=xi(e):(c=go({},e),At(!c.pathname||!c.pathname.includes("?"),Nc("?","pathname","search",c)),At(!c.pathname||!c.pathname.includes("#"),Nc("#","pathname","hash",c)),At(!c.search||!c.search.includes("#"),Nc("#","search","hash",c)));let d=e===""||c.pathname==="",x=d?"/":c.pathname,g;if(x==null)g=r;else{let v=t.length-1;if(!o&&x.startsWith("..")){let I=x.split("/");for(;I[0]==="..";)I.shift(),v-=1;c.pathname=I.join("/")}g=v>=0?t[v]:"/"}let y=Qp(c,g),p=x&&x!=="/"&&x.endsWith("/"),N=(d||x===".")&&r.endsWith("/");return!y.pathname.endsWith("/")&&(p||N)&&(y.pathname+="/"),y}const Xr=e=>e.join("/").replace(/\/\/+/g,"/"),Xp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Kp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Zp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ix=["post","put","patch","delete"];new Set(Ix);const $p=["get",...Ix];new Set($p);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},po.apply(this,arguments)}const Ld=B.createContext(null),Jp=B.createContext(null),es=B.createContext(null),wl=B.createContext(null),vr=B.createContext({outlet:null,matches:[],isDataRoute:!1}),kx=B.createContext(null);function ew(e,t){let{relative:r}=t===void 0?{}:t;mi()||At(!1);let{basename:o,navigator:c}=B.useContext(es),{hash:d,pathname:x,search:g}=_x(e,{relative:r}),y=x;return o!=="/"&&(y=x==="/"?o:Xr([o,x])),c.createHref({pathname:y,search:g,hash:d})}function mi(){return B.useContext(wl)!=null}function Nr(){return mi()||At(!1),B.useContext(wl).location}function Rx(e){B.useContext(es).static||B.useLayoutEffect(e)}function St(){let{isDataRoute:e}=B.useContext(vr);return e?fw():tw()}function tw(){mi()||At(!1);let e=B.useContext(Ld),{basename:t,future:r,navigator:o}=B.useContext(es),{matches:c}=B.useContext(vr),{pathname:d}=Nr(),x=JSON.stringify(Md(c,r.v7_relativeSplatPath)),g=B.useRef(!1);return Rx(()=>{g.current=!0}),B.useCallback(function(p,N){if(N===void 0&&(N={}),!g.current)return;if(typeof p=="number"){o.go(p);return}let v=Dd(p,JSON.parse(x),d,N.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Xr([t,v.pathname])),(N.replace?o.replace:o.push)(v,N.state,N)},[t,o,x,d,e])}function gi(){let{matches:e}=B.useContext(vr),t=e[e.length-1];return t?t.params:{}}function _x(e,t){let{relative:r}=t===void 0?{}:t,{future:o}=B.useContext(es),{matches:c}=B.useContext(vr),{pathname:d}=Nr(),x=JSON.stringify(Md(c,o.v7_relativeSplatPath));return B.useMemo(()=>Dd(e,JSON.parse(x),d,r==="path"),[e,x,d,r])}function nw(e,t){return rw(e,t)}function rw(e,t,r,o){mi()||At(!1);let{navigator:c}=B.useContext(es),{matches:d}=B.useContext(vr),x=d[d.length-1],g=x?x.params:{};x&&x.pathname;let y=x?x.pathnameBase:"/";x&&x.route;let p=Nr(),N;if(t){var v;let L=typeof t=="string"?xi(t):t;y==="/"||(v=L.pathname)!=null&&v.startsWith(y)||At(!1),N=L}else N=p;let I=N.pathname||"/",k=I;if(y!=="/"){let L=y.replace(/^\//,"").split("/");k="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let _=Rp(e,{pathname:k}),R=lw(_&&_.map(L=>Object.assign({},L,{params:Object.assign({},g,L.params),pathname:Xr([y,c.encodeLocation?c.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:Xr([y,c.encodeLocation?c.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),d,r,o);return t&&R?B.createElement(wl.Provider,{value:{location:po({pathname:"/",search:"",hash:"",state:null,key:"default"},N),navigationType:Pr.Pop}},R):R}function sw(){let e=hw(),t=Zp(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},d=null;return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),r?B.createElement("pre",{style:c},r):null,d)}const iw=B.createElement(sw,null);class ow extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?B.createElement(vr.Provider,{value:this.props.routeContext},B.createElement(kx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aw(e){let{routeContext:t,match:r,children:o}=e,c=B.useContext(Ld);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),B.createElement(vr.Provider,{value:t},o)}function lw(e,t,r,o){var c;if(t===void 0&&(t=[]),r===void 0&&(r=null),o===void 0&&(o=null),e==null){var d;if(!r)return null;if(r.errors)e=r.matches;else if((d=o)!=null&&d.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let x=e,g=(c=r)==null?void 0:c.errors;if(g!=null){let N=x.findIndex(v=>v.route.id&&(g==null?void 0:g[v.route.id])!==void 0);N>=0||At(!1),x=x.slice(0,Math.min(x.length,N+1))}let y=!1,p=-1;if(r&&o&&o.v7_partialHydration)for(let N=0;N<x.length;N++){let v=x[N];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=N),v.route.id){let{loaderData:I,errors:k}=r,_=v.route.loader&&I[v.route.id]===void 0&&(!k||k[v.route.id]===void 0);if(v.route.lazy||_){y=!0,p>=0?x=x.slice(0,p+1):x=[x[0]];break}}}return x.reduceRight((N,v,I)=>{let k,_=!1,R=null,L=null;r&&(k=g&&v.route.id?g[v.route.id]:void 0,R=v.route.errorElement||iw,y&&(p<0&&I===0?(xw("route-fallback",!1),_=!0,L=null):p===I&&(_=!0,L=v.route.hydrateFallbackElement||null)));let S=t.concat(x.slice(0,I+1)),A=()=>{let T;return k?T=R:_?T=L:v.route.Component?T=B.createElement(v.route.Component,null):v.route.element?T=v.route.element:T=N,B.createElement(aw,{match:v,routeContext:{outlet:N,matches:S,isDataRoute:r!=null},children:T})};return r&&(v.route.ErrorBoundary||v.route.errorElement||I===0)?B.createElement(ow,{location:r.location,revalidation:r.revalidation,component:R,error:k,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}var Ox=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ox||{}),Xa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xa||{});function cw(e){let t=B.useContext(Ld);return t||At(!1),t}function uw(e){let t=B.useContext(Jp);return t||At(!1),t}function dw(e){let t=B.useContext(vr);return t||At(!1),t}function Mx(e){let t=dw(),r=t.matches[t.matches.length-1];return r.route.id||At(!1),r.route.id}function hw(){var e;let t=B.useContext(kx),r=uw(Xa.UseRouteError),o=Mx(Xa.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[o]}function fw(){let{router:e}=cw(Ox.UseNavigateStable),t=Mx(Xa.UseNavigateStable),r=B.useRef(!1);return Rx(()=>{r.current=!0}),B.useCallback(function(c,d){d===void 0&&(d={}),r.current&&(typeof c=="number"?e.navigate(c):e.navigate(c,po({fromRouteId:t},d)))},[e,t])}const R1={};function xw(e,t,r){!t&&!R1[e]&&(R1[e]=!0)}function mw(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function kn(e){let{to:t,replace:r,state:o,relative:c}=e;mi()||At(!1);let{future:d,static:x}=B.useContext(es),{matches:g}=B.useContext(vr),{pathname:y}=Nr(),p=St(),N=Dd(t,Md(g,d.v7_relativeSplatPath),y,c==="path"),v=JSON.stringify(N);return B.useEffect(()=>p(JSON.parse(v),{replace:r,state:o,relative:c}),[p,v,c,r,o]),null}function Vt(e){At(!1)}function gw(e){let{basename:t="/",children:r=null,location:o,navigationType:c=Pr.Pop,navigator:d,static:x=!1,future:g}=e;mi()&&At(!1);let y=t.replace(/^\/*/,"/"),p=B.useMemo(()=>({basename:y,navigator:d,static:x,future:po({v7_relativeSplatPath:!1},g)}),[y,g,d,x]);typeof o=="string"&&(o=xi(o));let{pathname:N="/",search:v="",hash:I="",state:k=null,key:_="default"}=o,R=B.useMemo(()=>{let L=Od(N,y);return L==null?null:{location:{pathname:L,search:v,hash:I,state:k,key:_},navigationType:c}},[y,N,v,I,k,_,c]);return R==null?null:B.createElement(es.Provider,{value:p},B.createElement(wl.Provider,{children:r,value:R}))}function pw(e){let{children:t,location:r}=e;return nw(Au(t),r)}new Promise(()=>{});function Au(e,t){t===void 0&&(t=[]);let r=[];return B.Children.forEach(e,(o,c)=>{if(!B.isValidElement(o))return;let d=[...t,c];if(o.type===B.Fragment){r.push.apply(r,Au(o.props.children,d));return}o.type!==Vt&&At(!1),!o.props.index||!o.props.children||At(!1);let x={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(x.children=Au(o.props.children,d)),r.push(x)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Su.apply(this,arguments)}function ww(e,t){if(e==null)return{};var r={},o=Object.keys(e),c,d;for(d=0;d<o.length;d++)c=o[d],!(t.indexOf(c)>=0)&&(r[c]=e[c]);return r}function yw(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bw(e,t){return e.button===0&&(!t||t==="_self")&&!yw(e)}function ju(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let o=e[r];return t.concat(Array.isArray(o)?o.map(c=>[r,c]):[[r,o]])},[]))}function vw(e,t){let r=ju(e);return t&&t.forEach((o,c)=>{r.has(c)||t.getAll(c).forEach(d=>{r.append(c,d)})}),r}const Nw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Cw="6";try{window.__reactRouterVersion=Cw}catch{}const Ew="startTransition",_1=gg[Ew];function Aw(e){let{basename:t,children:r,future:o,window:c}=e,d=B.useRef();d.current==null&&(d.current=Tp({window:c,v5Compat:!0}));let x=d.current,[g,y]=B.useState({action:x.action,location:x.location}),{v7_startTransition:p}=o||{},N=B.useCallback(v=>{p&&_1?_1(()=>y(v)):y(v)},[y,p]);return B.useLayoutEffect(()=>x.listen(N),[x,N]),B.useEffect(()=>mw(o),[o]),B.createElement(gw,{basename:t,children:r,location:g.location,navigationType:g.action,navigator:x,future:o})}const Sw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=B.forwardRef(function(t,r){let{onClick:o,relative:c,reloadDocument:d,replace:x,state:g,target:y,to:p,preventScrollReset:N,viewTransition:v}=t,I=ww(t,Nw),{basename:k}=B.useContext(es),_,R=!1;if(typeof p=="string"&&jw.test(p)&&(_=p,Sw))try{let T=new URL(window.location.href),O=p.startsWith("//")?new URL(T.protocol+p):new URL(p),V=Od(O.pathname,k);O.origin===T.origin&&V!=null?p=V+O.search+O.hash:R=!0}catch{}let L=ew(p,{relative:c}),S=Tw(p,{replace:x,state:g,target:y,preventScrollReset:N,relative:c,viewTransition:v});function A(T){o&&o(T),T.defaultPrevented||S(T)}return B.createElement("a",Su({},I,{href:_||L,onClick:R||d?o:A,ref:r,target:y}))});var O1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(O1||(O1={}));var M1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M1||(M1={}));function Tw(e,t){let{target:r,replace:o,state:c,preventScrollReset:d,relative:x,viewTransition:g}=t===void 0?{}:t,y=St(),p=Nr(),N=_x(e,{relative:x});return B.useCallback(v=>{if(bw(v,r)){v.preventDefault();let I=o!==void 0?o:qa(p)===qa(N);y(e,{replace:I,state:c,preventScrollReset:d,relative:x,viewTransition:g})}},[p,y,N,o,c,r,e,d,x,g])}function Bd(e){let t=B.useRef(ju(e)),r=B.useRef(!1),o=Nr(),c=B.useMemo(()=>vw(o.search,r.current?null:t.current),[o.search]),d=St(),x=B.useCallback((g,y)=>{const p=ju(typeof g=="function"?g(c):g);r.current=!0,d("?"+p,y)},[d,c]);return[c,x]}function Iw(){return a.jsxs("div",{className:"min-h-screen bg-gray-100",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-20 pb-16",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:"QuizQuest"}),a.jsxs("p",{className:"text-2xl md:text-3xl text-gray-700 mb-6 font-light",children:["Secure. Intelligent. ",a.jsx("span",{className:"font-bold text-blue-600",children:"Reliable."})]}),a.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-10 max-w-3xl mx-auto leading-relaxed",children:"The ultimate online quiz platform with advanced anti-cheating features, flexible timing, and comprehensive result tracking."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:a.jsx(it,{to:"/signup",className:"bg-blue-600 text-white px-8 py-4 rounded-lg text-xl font-semibold shadow hover:bg-blue-700 transition-colors w-full sm:w-auto text-center",children:"Get Started Free"})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mt-6",children:[a.jsx(it,{to:"/student-login",className:"bg-white text-gray-800 border border-gray-300 px-8 py-4 rounded-lg text-xl font-semibold hover:bg-gray-50 transition-colors w-full sm:w-auto text-center",children:"Student Login"}),a.jsx(it,{to:"/teacher-login",className:"bg-white text-gray-800 border border-gray-300 px-8 py-4 rounded-lg text-xl font-semibold hover:bg-gray-50 transition-colors w-full sm:w-auto text-center",children:"Teacher Login"})]}),a.jsxs("div",{className:"mt-12 flex flex-wrap justify-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),a.jsx("span",{className:"text-gray-700 font-medium",children:"100% Secure"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"text-gray-700 font-medium",children:"Real-time Results"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("span",{className:"text-gray-700 font-medium",children:"Team Collaboration"})]})]})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 bg-white",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Everything You Need"}),a.jsxs("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:["Built with ",a.jsx("span",{className:"font-bold",children:"educators"})," and ",a.jsx("span",{className:"font-bold",children:"students"})," in mind"]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Flexible Timing"}),a.jsx("p",{className:"text-gray-600",children:"Choose between total time mode or per-question timers. Perfect flexibility for different quiz types."})]}),a.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Anti-Cheating"}),a.jsx("p",{className:"text-gray-600",children:"Advanced tab-switch detection and auto-submission to ensure assessment integrity."})]}),a.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Secure Access"}),a.jsx("p",{className:"text-gray-600",children:"Direct access to quizzes through your dashboard. No access keys needed."})]}),a.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Question Types"}),a.jsx("p",{className:"text-gray-600",children:"Support for both single-choice and multiple-choice questions with point-based scoring."})]}),a.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-6 h-6 text-pink-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Detailed Results"}),a.jsx("p",{className:"text-gray-600",children:"Comprehensive score breakdown with question-wise analysis and time tracking."})]}),a.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mb-6",children:a.jsx("svg",{className:"w-6 h-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Duplicate Prevention"}),a.jsx("p",{className:"text-gray-600",children:"Each student can attempt a quiz only once, ensuring fair assessment for everyone."})]})]})]}),a.jsx("div",{className:"bg-gray-50 py-16",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Simple, secure, and efficient"})]}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"1"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Register"}),a.jsx("p",{className:"text-gray-600",children:"Create your account as student or teacher"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"2"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Browse"}),a.jsx("p",{className:"text-gray-600",children:"View available quizzes in your dashboard"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"3"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Complete"}),a.jsx("p",{className:"text-gray-600",children:"Answer questions within time limit"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"4"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"View Results"}),a.jsx("p",{className:"text-gray-600",children:"Get instant feedback with detailed scores"})]})]})]})}),a.jsx("div",{className:"max-w-5xl mx-auto px-4 py-16 text-center",children:a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-12",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6",children:"Ready to Get Started?"}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Join QuizQuest today and experience secure, intelligent online assessments."}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:a.jsxs(it,{to:"/signup",className:"inline-flex items-center gap-3 bg-blue-600 text-white px-8 py-4 rounded-lg text-xl font-semibold hover:bg-blue-700 transition-colors",children:[a.jsx("span",{children:"Create Free Account"}),a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})]})}),a.jsx("footer",{className:"bg-gray-800 py-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-2 text-white",children:"QuizQuest"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Secure Online Quiz Platform"}),a.jsxs("div",{className:"flex justify-center space-x-6",children:[a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Terms of Service"}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:"Support"})]}),a.jsx("p",{className:"text-gray-500 mt-8 text-sm",children:" 2024 QuizQuest. All rights reserved."})]})})})]})}function kw(){const e=St();return B.useEffect(()=>{e("/student-login")},[e]),null}function Dx(e,t){return function(){return e.apply(t,arguments)}}const{toString:Rw}=Object.prototype,{getPrototypeOf:Pd}=Object,{iterator:yl,toStringTag:Lx}=Symbol,bl=(e=>t=>{const r=Rw.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=e=>(e=e.toLowerCase(),t=>bl(t)===e),vl=e=>t=>typeof t===e,{isArray:pi}=Array,oi=vl("undefined");function Eo(e){return e!==null&&!oi(e)&&e.constructor!==null&&!oi(e.constructor)&&gn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Bx=Xn("ArrayBuffer");function _w(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Bx(e.buffer),t}const Ow=vl("string"),gn=vl("function"),Px=vl("number"),Ao=e=>e!==null&&typeof e=="object",Mw=e=>e===!0||e===!1,ya=e=>{if(bl(e)!=="object")return!1;const t=Pd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Lx in e)&&!(yl in e)},Dw=e=>{if(!Ao(e)||Eo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Lw=Xn("Date"),Bw=Xn("File"),Pw=Xn("Blob"),Fw=Xn("FileList"),zw=e=>Ao(e)&&gn(e.pipe),Uw=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||gn(e.append)&&((t=bl(e))==="formdata"||t==="object"&&gn(e.toString)&&e.toString()==="[object FormData]"))},Vw=Xn("URLSearchParams"),[Hw,Ww,Qw,Gw]=["ReadableStream","Request","Response","Headers"].map(Xn),qw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function So(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let o,c;if(typeof e!="object"&&(e=[e]),pi(e))for(o=0,c=e.length;o<c;o++)t.call(null,e[o],o,e);else{if(Eo(e))return;const d=r?Object.getOwnPropertyNames(e):Object.keys(e),x=d.length;let g;for(o=0;o<x;o++)g=d[o],t.call(null,e[g],g,e)}}function Fx(e,t){if(Eo(e))return null;t=t.toLowerCase();const r=Object.keys(e);let o=r.length,c;for(;o-- >0;)if(c=r[o],t===c.toLowerCase())return c;return null}const fs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),zx=e=>!oi(e)&&e!==fs;function Tu(){const{caseless:e,skipUndefined:t}=zx(this)&&this||{},r={},o=(c,d)=>{const x=e&&Fx(r,d)||d;ya(r[x])&&ya(c)?r[x]=Tu(r[x],c):ya(c)?r[x]=Tu({},c):pi(c)?r[x]=c.slice():(!t||!oi(c))&&(r[x]=c)};for(let c=0,d=arguments.length;c<d;c++)arguments[c]&&So(arguments[c],o);return r}const Xw=(e,t,r,{allOwnKeys:o}={})=>(So(t,(c,d)=>{r&&gn(c)?e[d]=Dx(c,r):e[d]=c},{allOwnKeys:o}),e),Yw=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Kw=(e,t,r,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Zw=(e,t,r,o)=>{let c,d,x;const g={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),d=c.length;d-- >0;)x=c[d],(!o||o(x,e,t))&&!g[x]&&(t[x]=e[x],g[x]=!0);e=r!==!1&&Pd(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},$w=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const o=e.indexOf(t,r);return o!==-1&&o===r},Jw=e=>{if(!e)return null;if(pi(e))return e;let t=e.length;if(!Px(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},ey=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Pd(Uint8Array)),ty=(e,t)=>{const o=(e&&e[yl]).call(e);let c;for(;(c=o.next())&&!c.done;){const d=c.value;t.call(e,d[0],d[1])}},ny=(e,t)=>{let r;const o=[];for(;(r=e.exec(t))!==null;)o.push(r);return o},ry=Xn("HTMLFormElement"),sy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,o,c){return o.toUpperCase()+c}),D1=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),iy=Xn("RegExp"),Ux=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),o={};So(r,(c,d)=>{let x;(x=t(c,d,e))!==!1&&(o[d]=x||c)}),Object.defineProperties(e,o)},oy=e=>{Ux(e,(t,r)=>{if(gn(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const o=e[r];if(gn(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ay=(e,t)=>{const r={},o=c=>{c.forEach(d=>{r[d]=!0})};return pi(e)?o(e):o(String(e).split(t)),r},ly=()=>{},cy=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function uy(e){return!!(e&&gn(e.append)&&e[Lx]==="FormData"&&e[yl])}const dy=e=>{const t=new Array(10),r=(o,c)=>{if(Ao(o)){if(t.indexOf(o)>=0)return;if(Eo(o))return o;if(!("toJSON"in o)){t[c]=o;const d=pi(o)?[]:{};return So(o,(x,g)=>{const y=r(x,c+1);!oi(y)&&(d[g]=y)}),t[c]=void 0,d}}return o};return r(e,0)},hy=Xn("AsyncFunction"),fy=e=>e&&(Ao(e)||gn(e))&&gn(e.then)&&gn(e.catch),Vx=((e,t)=>e?setImmediate:t?((r,o)=>(fs.addEventListener("message",({source:c,data:d})=>{c===fs&&d===r&&o.length&&o.shift()()},!1),c=>{o.push(c),fs.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",gn(fs.postMessage)),xy=typeof queueMicrotask<"u"?queueMicrotask.bind(fs):typeof process<"u"&&process.nextTick||Vx,my=e=>e!=null&&gn(e[yl]),Z={isArray:pi,isArrayBuffer:Bx,isBuffer:Eo,isFormData:Uw,isArrayBufferView:_w,isString:Ow,isNumber:Px,isBoolean:Mw,isObject:Ao,isPlainObject:ya,isEmptyObject:Dw,isReadableStream:Hw,isRequest:Ww,isResponse:Qw,isHeaders:Gw,isUndefined:oi,isDate:Lw,isFile:Bw,isBlob:Pw,isRegExp:iy,isFunction:gn,isStream:zw,isURLSearchParams:Vw,isTypedArray:ey,isFileList:Fw,forEach:So,merge:Tu,extend:Xw,trim:qw,stripBOM:Yw,inherits:Kw,toFlatObject:Zw,kindOf:bl,kindOfTest:Xn,endsWith:$w,toArray:Jw,forEachEntry:ty,matchAll:ny,isHTMLForm:ry,hasOwnProperty:D1,hasOwnProp:D1,reduceDescriptors:Ux,freezeMethods:oy,toObjectSet:ay,toCamelCase:sy,noop:ly,toFiniteNumber:cy,findKey:Fx,global:fs,isContextDefined:zx,isSpecCompliantForm:uy,toJSONObject:dy,isAsyncFn:hy,isThenable:fy,setImmediate:Vx,asap:xy,isIterable:my};function Le(e,t,r,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}Z.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const Hx=Le.prototype,Wx={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Wx[e]={value:e}});Object.defineProperties(Le,Wx);Object.defineProperty(Hx,"isAxiosError",{value:!0});Le.from=(e,t,r,o,c,d)=>{const x=Object.create(Hx);Z.toFlatObject(e,x,function(N){return N!==Error.prototype},p=>p!=="isAxiosError");const g=e&&e.message?e.message:"Error",y=t==null&&e?e.code:t;return Le.call(x,g,y,r,o,c),e&&x.cause==null&&Object.defineProperty(x,"cause",{value:e,configurable:!0}),x.name=e&&e.name||"Error",d&&Object.assign(x,d),x};const gy=null;function Iu(e){return Z.isPlainObject(e)||Z.isArray(e)}function Qx(e){return Z.endsWith(e,"[]")?e.slice(0,-2):e}function L1(e,t,r){return e?e.concat(t).map(function(c,d){return c=Qx(c),!r&&d?"["+c+"]":c}).join(r?".":""):t}function py(e){return Z.isArray(e)&&!e.some(Iu)}const wy=Z.toFlatObject(Z,{},null,function(t){return/^is[A-Z]/.test(t)});function Nl(e,t,r){if(!Z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,L){return!Z.isUndefined(L[R])});const o=r.metaTokens,c=r.visitor||N,d=r.dots,x=r.indexes,y=(r.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(t);if(!Z.isFunction(c))throw new TypeError("visitor must be a function");function p(_){if(_===null)return"";if(Z.isDate(_))return _.toISOString();if(Z.isBoolean(_))return _.toString();if(!y&&Z.isBlob(_))throw new Le("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(_)||Z.isTypedArray(_)?y&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function N(_,R,L){let S=_;if(_&&!L&&typeof _=="object"){if(Z.endsWith(R,"{}"))R=o?R:R.slice(0,-2),_=JSON.stringify(_);else if(Z.isArray(_)&&py(_)||(Z.isFileList(_)||Z.endsWith(R,"[]"))&&(S=Z.toArray(_)))return R=Qx(R),S.forEach(function(T,O){!(Z.isUndefined(T)||T===null)&&t.append(x===!0?L1([R],O,d):x===null?R:R+"[]",p(T))}),!1}return Iu(_)?!0:(t.append(L1(L,R,d),p(_)),!1)}const v=[],I=Object.assign(wy,{defaultVisitor:N,convertValue:p,isVisitable:Iu});function k(_,R){if(!Z.isUndefined(_)){if(v.indexOf(_)!==-1)throw Error("Circular reference detected in "+R.join("."));v.push(_),Z.forEach(_,function(S,A){(!(Z.isUndefined(S)||S===null)&&c.call(t,S,Z.isString(A)?A.trim():A,R,I))===!0&&k(S,R?R.concat(A):[A])}),v.pop()}}if(!Z.isObject(e))throw new TypeError("data must be an object");return k(e),t}function B1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function Fd(e,t){this._pairs=[],e&&Nl(e,this,t)}const Gx=Fd.prototype;Gx.append=function(t,r){this._pairs.push([t,r])};Gx.toString=function(t){const r=t?function(o){return t.call(this,o,B1)}:B1;return this._pairs.map(function(c){return r(c[0])+"="+r(c[1])},"").join("&")};function yy(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qx(e,t,r){if(!t)return e;const o=r&&r.encode||yy;Z.isFunction(r)&&(r={serialize:r});const c=r&&r.serialize;let d;if(c?d=c(t,r):d=Z.isURLSearchParams(t)?t.toString():new Fd(t,r).toString(o),d){const x=e.indexOf("#");x!==-1&&(e=e.slice(0,x)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class by{constructor(){this.handlers=[]}use(t,r,o){return this.handlers.push({fulfilled:t,rejected:r,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Z.forEach(this.handlers,function(o){o!==null&&t(o)})}}const P1=by,Xx={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vy=typeof URLSearchParams<"u"?URLSearchParams:Fd,Ny=typeof FormData<"u"?FormData:null,Cy=typeof Blob<"u"?Blob:null,Ey={isBrowser:!0,classes:{URLSearchParams:vy,FormData:Ny,Blob:Cy},protocols:["http","https","file","blob","url","data"]},zd=typeof window<"u"&&typeof document<"u",ku=typeof navigator=="object"&&navigator||void 0,Ay=zd&&(!ku||["ReactNative","NativeScript","NS"].indexOf(ku.product)<0),Sy=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),jy=zd&&window.location.href||"http://localhost",Ty=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zd,hasStandardBrowserEnv:Ay,hasStandardBrowserWebWorkerEnv:Sy,navigator:ku,origin:jy},Symbol.toStringTag,{value:"Module"})),Zt={...Ty,...Ey};function Iy(e,t){return Nl(e,new Zt.classes.URLSearchParams,{visitor:function(r,o,c,d){return Zt.isNode&&Z.isBuffer(r)?(this.append(o,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...t})}function ky(e){return Z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ry(e){const t={},r=Object.keys(e);let o;const c=r.length;let d;for(o=0;o<c;o++)d=r[o],t[d]=e[d];return t}function Yx(e){function t(r,o,c,d){let x=r[d++];if(x==="__proto__")return!0;const g=Number.isFinite(+x),y=d>=r.length;return x=!x&&Z.isArray(c)?c.length:x,y?(Z.hasOwnProp(c,x)?c[x]=[c[x],o]:c[x]=o,!g):((!c[x]||!Z.isObject(c[x]))&&(c[x]=[]),t(r,o,c[x],d)&&Z.isArray(c[x])&&(c[x]=Ry(c[x])),!g)}if(Z.isFormData(e)&&Z.isFunction(e.entries)){const r={};return Z.forEachEntry(e,(o,c)=>{t(ky(o),c,r,0)}),r}return null}function _y(e,t,r){if(Z.isString(e))try{return(t||JSON.parse)(e),Z.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(r||JSON.stringify)(e)}const Ud={transitional:Xx,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const o=r.getContentType()||"",c=o.indexOf("application/json")>-1,d=Z.isObject(t);if(d&&Z.isHTMLForm(t)&&(t=new FormData(t)),Z.isFormData(t))return c?JSON.stringify(Yx(t)):t;if(Z.isArrayBuffer(t)||Z.isBuffer(t)||Z.isStream(t)||Z.isFile(t)||Z.isBlob(t)||Z.isReadableStream(t))return t;if(Z.isArrayBufferView(t))return t.buffer;if(Z.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(d){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Iy(t,this.formSerializer).toString();if((g=Z.isFileList(t))||o.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Nl(g?{"files[]":t}:t,y&&new y,this.formSerializer)}}return d||c?(r.setContentType("application/json",!1),_y(t)):t}],transformResponse:[function(t){const r=this.transitional||Ud.transitional,o=r&&r.forcedJSONParsing,c=this.responseType==="json";if(Z.isResponse(t)||Z.isReadableStream(t))return t;if(t&&Z.isString(t)&&(o&&!this.responseType||c)){const x=!(r&&r.silentJSONParsing)&&c;try{return JSON.parse(t,this.parseReviver)}catch(g){if(x)throw g.name==="SyntaxError"?Le.from(g,Le.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zt.classes.FormData,Blob:Zt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],e=>{Ud.headers[e]={}});const Vd=Ud,Oy=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),My=e=>{const t={};let r,o,c;return e&&e.split(`
`).forEach(function(x){c=x.indexOf(":"),r=x.substring(0,c).trim().toLowerCase(),o=x.substring(c+1).trim(),!(!r||t[r]&&Oy[r])&&(r==="set-cookie"?t[r]?t[r].push(o):t[r]=[o]:t[r]=t[r]?t[r]+", "+o:o)}),t},F1=Symbol("internals");function Bi(e){return e&&String(e).trim().toLowerCase()}function ba(e){return e===!1||e==null?e:Z.isArray(e)?e.map(ba):String(e)}function Dy(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=r.exec(e);)t[o[1]]=o[2];return t}const Ly=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Cc(e,t,r,o,c){if(Z.isFunction(o))return o.call(this,t,r);if(c&&(t=r),!!Z.isString(t)){if(Z.isString(o))return t.indexOf(o)!==-1;if(Z.isRegExp(o))return o.test(t)}}function By(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,o)=>r.toUpperCase()+o)}function Py(e,t){const r=Z.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+r,{value:function(c,d,x){return this[o].call(this,t,c,d,x)},configurable:!0})})}class Cl{constructor(t){t&&this.set(t)}set(t,r,o){const c=this;function d(g,y,p){const N=Bi(y);if(!N)throw new Error("header name must be a non-empty string");const v=Z.findKey(c,N);(!v||c[v]===void 0||p===!0||p===void 0&&c[v]!==!1)&&(c[v||y]=ba(g))}const x=(g,y)=>Z.forEach(g,(p,N)=>d(p,N,y));if(Z.isPlainObject(t)||t instanceof this.constructor)x(t,r);else if(Z.isString(t)&&(t=t.trim())&&!Ly(t))x(My(t),r);else if(Z.isObject(t)&&Z.isIterable(t)){let g={},y,p;for(const N of t){if(!Z.isArray(N))throw TypeError("Object iterator must return a key-value pair");g[p=N[0]]=(y=g[p])?Z.isArray(y)?[...y,N[1]]:[y,N[1]]:N[1]}x(g,r)}else t!=null&&d(r,t,o);return this}get(t,r){if(t=Bi(t),t){const o=Z.findKey(this,t);if(o){const c=this[o];if(!r)return c;if(r===!0)return Dy(c);if(Z.isFunction(r))return r.call(this,c,o);if(Z.isRegExp(r))return r.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Bi(t),t){const o=Z.findKey(this,t);return!!(o&&this[o]!==void 0&&(!r||Cc(this,this[o],o,r)))}return!1}delete(t,r){const o=this;let c=!1;function d(x){if(x=Bi(x),x){const g=Z.findKey(o,x);g&&(!r||Cc(o,o[g],g,r))&&(delete o[g],c=!0)}}return Z.isArray(t)?t.forEach(d):d(t),c}clear(t){const r=Object.keys(this);let o=r.length,c=!1;for(;o--;){const d=r[o];(!t||Cc(this,this[d],d,t,!0))&&(delete this[d],c=!0)}return c}normalize(t){const r=this,o={};return Z.forEach(this,(c,d)=>{const x=Z.findKey(o,d);if(x){r[x]=ba(c),delete r[d];return}const g=t?By(d):String(d).trim();g!==d&&delete r[d],r[g]=ba(c),o[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Z.forEach(this,(o,c)=>{o!=null&&o!==!1&&(r[c]=t&&Z.isArray(o)?o.join(", "):o)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const o=new this(t);return r.forEach(c=>o.set(c)),o}static accessor(t){const o=(this[F1]=this[F1]={accessors:{}}).accessors,c=this.prototype;function d(x){const g=Bi(x);o[g]||(Py(c,x),o[g]=!0)}return Z.isArray(t)?t.forEach(d):d(t),this}}Cl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors(Cl.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[r]=o}}});Z.freezeMethods(Cl);const Gn=Cl;function Ec(e,t){const r=this||Vd,o=t||r,c=Gn.from(o.headers);let d=o.data;return Z.forEach(e,function(g){d=g.call(r,d,c.normalize(),t?t.status:void 0)}),c.normalize(),d}function Kx(e){return!!(e&&e.__CANCEL__)}function wi(e,t,r){Le.call(this,e??"canceled",Le.ERR_CANCELED,t,r),this.name="CanceledError"}Z.inherits(wi,Le,{__CANCEL__:!0});function Zx(e,t,r){const o=r.config.validateStatus;!r.status||!o||o(r.status)?e(r):t(new Le("Request failed with status code "+r.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Fy(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zy(e,t){e=e||10;const r=new Array(e),o=new Array(e);let c=0,d=0,x;return t=t!==void 0?t:1e3,function(y){const p=Date.now(),N=o[d];x||(x=p),r[c]=y,o[c]=p;let v=d,I=0;for(;v!==c;)I+=r[v++],v=v%e;if(c=(c+1)%e,c===d&&(d=(d+1)%e),p-x<t)return;const k=N&&p-N;return k?Math.round(I*1e3/k):void 0}}function Uy(e,t){let r=0,o=1e3/t,c,d;const x=(p,N=Date.now())=>{r=N,c=null,d&&(clearTimeout(d),d=null),e(...p)};return[(...p)=>{const N=Date.now(),v=N-r;v>=o?x(p,N):(c=p,d||(d=setTimeout(()=>{d=null,x(c)},o-v)))},()=>c&&x(c)]}const Ya=(e,t,r=3)=>{let o=0;const c=zy(50,250);return Uy(d=>{const x=d.loaded,g=d.lengthComputable?d.total:void 0,y=x-o,p=c(y),N=x<=g;o=x;const v={loaded:x,total:g,progress:g?x/g:void 0,bytes:y,rate:p||void 0,estimated:p&&g&&N?(g-x)/p:void 0,event:d,lengthComputable:g!=null,[t?"download":"upload"]:!0};e(v)},r)},z1=(e,t)=>{const r=e!=null;return[o=>t[0]({lengthComputable:r,total:e,loaded:o}),t[1]]},U1=e=>(...t)=>Z.asap(()=>e(...t)),Vy=Zt.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Zt.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Zt.origin),Zt.navigator&&/(msie|trident)/i.test(Zt.navigator.userAgent)):()=>!0,Hy=Zt.hasStandardBrowserEnv?{write(e,t,r,o,c,d,x){if(typeof document>"u")return;const g=[`${e}=${encodeURIComponent(t)}`];Z.isNumber(r)&&g.push(`expires=${new Date(r).toUTCString()}`),Z.isString(o)&&g.push(`path=${o}`),Z.isString(c)&&g.push(`domain=${c}`),d===!0&&g.push("secure"),Z.isString(x)&&g.push(`SameSite=${x}`),document.cookie=g.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Wy(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Qy(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function $x(e,t,r){let o=!Wy(t);return e&&(o||r==!1)?Qy(e,t):t}const V1=e=>e instanceof Gn?{...e}:e;function vs(e,t){t=t||{};const r={};function o(p,N,v,I){return Z.isPlainObject(p)&&Z.isPlainObject(N)?Z.merge.call({caseless:I},p,N):Z.isPlainObject(N)?Z.merge({},N):Z.isArray(N)?N.slice():N}function c(p,N,v,I){if(Z.isUndefined(N)){if(!Z.isUndefined(p))return o(void 0,p,v,I)}else return o(p,N,v,I)}function d(p,N){if(!Z.isUndefined(N))return o(void 0,N)}function x(p,N){if(Z.isUndefined(N)){if(!Z.isUndefined(p))return o(void 0,p)}else return o(void 0,N)}function g(p,N,v){if(v in t)return o(p,N);if(v in e)return o(void 0,p)}const y={url:d,method:d,data:d,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:g,headers:(p,N,v)=>c(V1(p),V1(N),v,!0)};return Z.forEach(Object.keys({...e,...t}),function(N){const v=y[N]||c,I=v(e[N],t[N],N);Z.isUndefined(I)&&v!==g||(r[N]=I)}),r}const Jx=e=>{const t=vs({},e);let{data:r,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:d,headers:x,auth:g}=t;if(t.headers=x=Gn.from(x),t.url=qx($x(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&x.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),Z.isFormData(r)){if(Zt.hasStandardBrowserEnv||Zt.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if(Z.isFunction(r.getHeaders)){const y=r.getHeaders(),p=["content-type","content-length"];Object.entries(y).forEach(([N,v])=>{p.includes(N.toLowerCase())&&x.set(N,v)})}}if(Zt.hasStandardBrowserEnv&&(o&&Z.isFunction(o)&&(o=o(t)),o||o!==!1&&Vy(t.url))){const y=c&&d&&Hy.read(d);y&&x.set(c,y)}return t},Gy=typeof XMLHttpRequest<"u",qy=Gy&&function(e){return new Promise(function(r,o){const c=Jx(e);let d=c.data;const x=Gn.from(c.headers).normalize();let{responseType:g,onUploadProgress:y,onDownloadProgress:p}=c,N,v,I,k,_;function R(){k&&k(),_&&_(),c.cancelToken&&c.cancelToken.unsubscribe(N),c.signal&&c.signal.removeEventListener("abort",N)}let L=new XMLHttpRequest;L.open(c.method.toUpperCase(),c.url,!0),L.timeout=c.timeout;function S(){if(!L)return;const T=Gn.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),V={data:!g||g==="text"||g==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:T,config:e,request:L};Zx(function(P){r(P),R()},function(P){o(P),R()},V),L=null}"onloadend"in L?L.onloadend=S:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(S)},L.onabort=function(){L&&(o(new Le("Request aborted",Le.ECONNABORTED,e,L)),L=null)},L.onerror=function(O){const V=O&&O.message?O.message:"Network Error",Q=new Le(V,Le.ERR_NETWORK,e,L);Q.event=O||null,o(Q),L=null},L.ontimeout=function(){let O=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const V=c.transitional||Xx;c.timeoutErrorMessage&&(O=c.timeoutErrorMessage),o(new Le(O,V.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,e,L)),L=null},d===void 0&&x.setContentType(null),"setRequestHeader"in L&&Z.forEach(x.toJSON(),function(O,V){L.setRequestHeader(V,O)}),Z.isUndefined(c.withCredentials)||(L.withCredentials=!!c.withCredentials),g&&g!=="json"&&(L.responseType=c.responseType),p&&([I,_]=Ya(p,!0),L.addEventListener("progress",I)),y&&L.upload&&([v,k]=Ya(y),L.upload.addEventListener("progress",v),L.upload.addEventListener("loadend",k)),(c.cancelToken||c.signal)&&(N=T=>{L&&(o(!T||T.type?new wi(null,e,L):T),L.abort(),L=null)},c.cancelToken&&c.cancelToken.subscribe(N),c.signal&&(c.signal.aborted?N():c.signal.addEventListener("abort",N)));const A=Fy(c.url);if(A&&Zt.protocols.indexOf(A)===-1){o(new Le("Unsupported protocol "+A+":",Le.ERR_BAD_REQUEST,e));return}L.send(d||null)})},Xy=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let o=new AbortController,c;const d=function(p){if(!c){c=!0,g();const N=p instanceof Error?p:this.reason;o.abort(N instanceof Le?N:new wi(N instanceof Error?N.message:N))}};let x=t&&setTimeout(()=>{x=null,d(new Le(`timeout ${t} of ms exceeded`,Le.ETIMEDOUT))},t);const g=()=>{e&&(x&&clearTimeout(x),x=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(d):p.removeEventListener("abort",d)}),e=null)};e.forEach(p=>p.addEventListener("abort",d));const{signal:y}=o;return y.unsubscribe=()=>Z.asap(g),y}},Yy=Xy,Ky=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let o=0,c;for(;o<r;)c=o+t,yield e.slice(o,c),o=c},Zy=async function*(e,t){for await(const r of $y(e))yield*Ky(r,t)},$y=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:o}=await t.read();if(r)break;yield o}}finally{await t.cancel()}},H1=(e,t,r,o)=>{const c=Zy(e,t);let d=0,x,g=y=>{x||(x=!0,o&&o(y))};return new ReadableStream({async pull(y){try{const{done:p,value:N}=await c.next();if(p){g(),y.close();return}let v=N.byteLength;if(r){let I=d+=v;r(I)}y.enqueue(new Uint8Array(N))}catch(p){throw g(p),p}},cancel(y){return g(y),c.return()}},{highWaterMark:2})},W1=64*1024,{isFunction:sa}=Z,Jy=(({Request:e,Response:t})=>({Request:e,Response:t}))(Z.global),{ReadableStream:Q1,TextEncoder:G1}=Z.global,q1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},e3=e=>{e=Z.merge.call({skipUndefined:!0},Jy,e);const{fetch:t,Request:r,Response:o}=e,c=t?sa(t):typeof fetch=="function",d=sa(r),x=sa(o);if(!c)return!1;const g=c&&sa(Q1),y=c&&(typeof G1=="function"?(_=>R=>_.encode(R))(new G1):async _=>new Uint8Array(await new r(_).arrayBuffer())),p=d&&g&&q1(()=>{let _=!1;const R=new r(Zt.origin,{body:new Q1,method:"POST",get duplex(){return _=!0,"half"}}).headers.has("Content-Type");return _&&!R}),N=x&&g&&q1(()=>Z.isReadableStream(new o("").body)),v={stream:N&&(_=>_.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(_=>{!v[_]&&(v[_]=(R,L)=>{let S=R&&R[_];if(S)return S.call(R);throw new Le(`Response type '${_}' is not supported`,Le.ERR_NOT_SUPPORT,L)})});const I=async _=>{if(_==null)return 0;if(Z.isBlob(_))return _.size;if(Z.isSpecCompliantForm(_))return(await new r(Zt.origin,{method:"POST",body:_}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(_)||Z.isArrayBuffer(_))return _.byteLength;if(Z.isURLSearchParams(_)&&(_=_+""),Z.isString(_))return(await y(_)).byteLength},k=async(_,R)=>{const L=Z.toFiniteNumber(_.getContentLength());return L??I(R)};return async _=>{let{url:R,method:L,data:S,signal:A,cancelToken:T,timeout:O,onDownloadProgress:V,onUploadProgress:Q,responseType:P,headers:J,withCredentials:Y="same-origin",fetchOptions:xe}=Jx(_),Ie=t||fetch;P=P?(P+"").toLowerCase():"text";let ge=Yy([A,T&&T.toAbortSignal()],O),ve=null;const be=ge&&ge.unsubscribe&&(()=>{ge.unsubscribe()});let z;try{if(Q&&p&&L!=="get"&&L!=="head"&&(z=await k(J,S))!==0){let ce=new r(R,{method:"POST",body:S,duplex:"half"}),se;if(Z.isFormData(S)&&(se=ce.headers.get("content-type"))&&J.setContentType(se),ce.body){const[te,ne]=z1(z,Ya(U1(Q)));S=H1(ce.body,W1,te,ne)}}Z.isString(Y)||(Y=Y?"include":"omit");const ie=d&&"credentials"in r.prototype,Ne={...xe,signal:ge,method:L.toUpperCase(),headers:J.normalize().toJSON(),body:S,duplex:"half",credentials:ie?Y:void 0};ve=d&&new r(R,Ne);let ae=await(d?Ie(ve,xe):Ie(R,Ne));const Ce=N&&(P==="stream"||P==="response");if(N&&(V||Ce&&be)){const ce={};["status","statusText","headers"].forEach(Te=>{ce[Te]=ae[Te]});const se=Z.toFiniteNumber(ae.headers.get("content-length")),[te,ne]=V&&z1(se,Ya(U1(V),!0))||[];ae=new o(H1(ae.body,W1,te,()=>{ne&&ne(),be&&be()}),ce)}P=P||"text";let W=await v[Z.findKey(v,P)||"text"](ae,_);return!Ce&&be&&be(),await new Promise((ce,se)=>{Zx(ce,se,{data:W,headers:Gn.from(ae.headers),status:ae.status,statusText:ae.statusText,config:_,request:ve})})}catch(ie){throw be&&be(),ie&&ie.name==="TypeError"&&/Load failed|fetch/i.test(ie.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,_,ve),{cause:ie.cause||ie}):Le.from(ie,ie&&ie.code,_,ve)}}},t3=new Map,em=e=>{let t=e&&e.env||{};const{fetch:r,Request:o,Response:c}=t,d=[o,c,r];let x=d.length,g=x,y,p,N=t3;for(;g--;)y=d[g],p=N.get(y),p===void 0&&N.set(y,p=g?new Map:e3(t)),N=p;return p};em();const Hd={http:gy,xhr:qy,fetch:{get:em}};Z.forEach(Hd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const X1=e=>`- ${e}`,n3=e=>Z.isFunction(e)||e===null||e===!1;function r3(e,t){e=Z.isArray(e)?e:[e];const{length:r}=e;let o,c;const d={};for(let x=0;x<r;x++){o=e[x];let g;if(c=o,!n3(o)&&(c=Hd[(g=String(o)).toLowerCase()],c===void 0))throw new Le(`Unknown adapter '${g}'`);if(c&&(Z.isFunction(c)||(c=c.get(t))))break;d[g||"#"+x]=c}if(!c){const x=Object.entries(d).map(([y,p])=>`adapter ${y} `+(p===!1?"is not supported by the environment":"is not available in the build"));let g=r?x.length>1?`since :
`+x.map(X1).join(`
`):" "+X1(x[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return c}const tm={getAdapter:r3,adapters:Hd};function Ac(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wi(null,e)}function Y1(e){return Ac(e),e.headers=Gn.from(e.headers),e.data=Ec.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),tm.getAdapter(e.adapter||Vd.adapter,e)(e).then(function(o){return Ac(e),o.data=Ec.call(e,e.transformResponse,o),o.headers=Gn.from(o.headers),o},function(o){return Kx(o)||(Ac(e),o&&o.response&&(o.response.data=Ec.call(e,e.transformResponse,o.response),o.response.headers=Gn.from(o.response.headers))),Promise.reject(o)})}const nm="1.13.1",El={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{El[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const K1={};El.transitional=function(t,r,o){function c(d,x){return"[Axios v"+nm+"] Transitional option '"+d+"'"+x+(o?". "+o:"")}return(d,x,g)=>{if(t===!1)throw new Le(c(x," has been removed"+(r?" in "+r:"")),Le.ERR_DEPRECATED);return r&&!K1[x]&&(K1[x]=!0,console.warn(c(x," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(d,x,g):!0}};El.spelling=function(t){return(r,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function s3(e,t,r){if(typeof e!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let c=o.length;for(;c-- >0;){const d=o[c],x=t[d];if(x){const g=e[d],y=g===void 0||x(g,d,e);if(y!==!0)throw new Le("option "+d+" must be "+y,Le.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Le("Unknown option "+d,Le.ERR_BAD_OPTION)}}const va={assertOptions:s3,validators:El},nr=va.validators;class Ka{constructor(t){this.defaults=t||{},this.interceptors={request:new P1,response:new P1}}async request(t,r){try{return await this._request(t,r)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const d=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?d&&!String(o.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+d):o.stack=d}catch{}}throw o}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=vs(this.defaults,r);const{transitional:o,paramsSerializer:c,headers:d}=r;o!==void 0&&va.assertOptions(o,{silentJSONParsing:nr.transitional(nr.boolean),forcedJSONParsing:nr.transitional(nr.boolean),clarifyTimeoutError:nr.transitional(nr.boolean)},!1),c!=null&&(Z.isFunction(c)?r.paramsSerializer={serialize:c}:va.assertOptions(c,{encode:nr.function,serialize:nr.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),va.assertOptions(r,{baseUrl:nr.spelling("baseURL"),withXsrfToken:nr.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let x=d&&Z.merge(d.common,d[r.method]);d&&Z.forEach(["delete","get","head","post","put","patch","common"],_=>{delete d[_]}),r.headers=Gn.concat(x,d);const g=[];let y=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(r)===!1||(y=y&&R.synchronous,g.unshift(R.fulfilled,R.rejected))});const p=[];this.interceptors.response.forEach(function(R){p.push(R.fulfilled,R.rejected)});let N,v=0,I;if(!y){const _=[Y1.bind(this),void 0];for(_.unshift(...g),_.push(...p),I=_.length,N=Promise.resolve(r);v<I;)N=N.then(_[v++],_[v++]);return N}I=g.length;let k=r;for(;v<I;){const _=g[v++],R=g[v++];try{k=_(k)}catch(L){R.call(this,L);break}}try{N=Y1.call(this,k)}catch(_){return Promise.reject(_)}for(v=0,I=p.length;v<I;)N=N.then(p[v++],p[v++]);return N}getUri(t){t=vs(this.defaults,t);const r=$x(t.baseURL,t.url,t.allowAbsoluteUrls);return qx(r,t.params,t.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(t){Ka.prototype[t]=function(r,o){return this.request(vs(o||{},{method:t,url:r,data:(o||{}).data}))}});Z.forEach(["post","put","patch"],function(t){function r(o){return function(d,x,g){return this.request(vs(g||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:d,data:x}))}}Ka.prototype[t]=r(),Ka.prototype[t+"Form"]=r(!0)});const Na=Ka;class Wd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const o=this;this.promise.then(c=>{if(!o._listeners)return;let d=o._listeners.length;for(;d-- >0;)o._listeners[d](c);o._listeners=null}),this.promise.then=c=>{let d;const x=new Promise(g=>{o.subscribe(g),d=g}).then(c);return x.cancel=function(){o.unsubscribe(d)},x},t(function(d,x,g){o.reason||(o.reason=new wi(d,x,g),r(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=o=>{t.abort(o)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Wd(function(c){t=c}),cancel:t}}}const i3=Wd;function o3(e){return function(r){return e.apply(null,r)}}function a3(e){return Z.isObject(e)&&e.isAxiosError===!0}const Ru={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ru).forEach(([e,t])=>{Ru[t]=e});const l3=Ru;function rm(e){const t=new Na(e),r=Dx(Na.prototype.request,t);return Z.extend(r,Na.prototype,t,{allOwnKeys:!0}),Z.extend(r,t,null,{allOwnKeys:!0}),r.create=function(c){return rm(vs(e,c))},r}const It=rm(Vd);It.Axios=Na;It.CanceledError=wi;It.CancelToken=i3;It.isCancel=Kx;It.VERSION=nm;It.toFormData=Nl;It.AxiosError=Le;It.Cancel=It.CanceledError;It.all=function(t){return Promise.all(t)};It.spread=o3;It.isAxiosError=a3;It.mergeConfig=vs;It.AxiosHeaders=Gn;It.formToJSON=e=>Yx(Z.isHTMLForm(e)?new FormData(e):e);It.getAdapter=tm.getAdapter;It.HttpStatusCode=l3;It.default=It;const c3=It,u3="http://localhost:50041",Pe=c3.create({baseURL:u3,headers:{"Content-Type":"application/json"}});Pe.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});Pe.interceptors.response.use(e=>e,e=>(console.error("API Error:",e),e.response&&e.response.data&&typeof e.response.data.success<"u",Promise.reject(e)));const Al={register:e=>Pe.post("/api/auth/register",e),login:e=>Pe.post("/api/auth/login",e)},rt={createQuiz:e=>Pe.post("/api/quiz/create",e),getAllQuizzes:()=>Pe.get("/api/quiz/all"),getMyAttempts:()=>Pe.get("/api/quiz/my-attempts"),getQuiz:e=>Pe.get(`/api/quiz/${e}`),getQuizById:e=>Pe.get(`/api/quiz/${e}`),getQuizDetails:e=>Pe.get(`/api/quiz/details/${e}`),updateQuiz:(e,t)=>Pe.put(`/api/quiz/${e}`,t),deleteQuiz:e=>Pe.delete(`/api/quiz/${e}`),joinQuiz:e=>Pe.get(`/api/quiz/join/${e}`),submitQuiz:e=>Pe.post("/api/quiz/submit",e),getResult:e=>Pe.get(`/api/quiz/result/${e}`),getQuizResult:e=>Pe.get(`/api/quiz/result/${e}`),getQuizAnalytics:e=>Pe.get(`/api/quiz/analytics/${e}`),getQuizForAttempt:e=>Pe.get(`/api/quiz/attempt/${e}`),studentAccess:(e,t)=>Pe.post(`/api/quiz/student-access/${e}`,t),validateAccessKey:(e,t)=>Pe.post(`/api/quiz/validate-access-key/${e}`,t),activateQuiz:e=>Pe.put(`/api/quiz/${e}/activate`),deactivateQuiz:e=>Pe.put(`/api/quiz/${e}/deactivate`),activateQuizEarly:e=>Pe.put(`/api/quiz/${e}/activate-early`),deactivateQuizEarly:e=>Pe.put(`/api/quiz/${e}/deactivate-early`)},hr={getAllSubjects:()=>Pe.get("/api/question-bank/subjects"),getAllQuestions:e=>Pe.get("/api/question-bank/all",{params:{subject:e}}),getRandomQuestions:(e,t)=>Pe.get(`/api/question-bank/random/${e}/${t}`),createQuestion:e=>Pe.post("/api/question-bank/create",e),bulkCreateQuestions:e=>Pe.post("/api/question-bank/bulk-create",{questions:e}),updateQuestion:(e,t)=>Pe.put(`/api/question-bank/${e}`,t),deleteQuestion:e=>Pe.delete(`/api/question-bank/${e}`)},Rr={getAllTeachers:()=>Pe.get("/api/admin/teachers"),createTeacher:e=>Pe.post("/api/admin/create-teacher",e),bulkCreateTeachers:e=>Pe.post("/api/admin/bulk-create-teachers",{teachers:e}),updateTeacher:(e,t)=>Pe.put(`/api/admin/teacher/${e}`,t),deleteTeacher:e=>Pe.delete(`/api/admin/teacher/${e}`),getAllStudents:()=>Pe.get("/api/admin/students"),createStudent:e=>Pe.post("/api/admin/create-student",e),updateStudent:(e,t)=>Pe.put(`/api/admin/student/${e}`,t),deleteStudent:e=>Pe.delete(`/api/admin/student/${e}`)};function d3({onLogin:e}){const[t,r]=B.useState(""),[o,c]=B.useState(""),[d,x]=B.useState(!1),[g,y]=B.useState(""),[p,N]=B.useState(!1),v=St(),[I]=Bd(),k=async _=>{var R;_.preventDefault(),y(""),N(!0);try{const L=`${t.toLowerCase()}@student.quizquest.com`,S=await Al.login({email:L,password:o});if(S.data.user.role!=="student"){y("Access denied. This login is for students only."),N(!1);return}e(S.data.user,S.data.token),I.get("returnTo")==="quiz-access"?v("/student-access",{state:{loginSuccess:!0},replace:!0}):v("/dashboard")}catch(L){console.error("Login error:",L),L.response?L.response.status===401?y("Invalid USN or password"):y(((R=L.response.data)==null?void 0:R.message)||"Failed to login"):L.request?y("Unable to connect to server. Please check if the backend is running."):y("An error occurred. Please try again.")}finally{N(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-cyan-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 flex items-center justify-center",children:a.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),a.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-600",children:"Student Login"})]}),g&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700",children:g})})]})}),a.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl rounded-2xl sm:px-10 border border-gray-100",children:[a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"usn",className:"block text-sm font-medium text-gray-700",children:"USN"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),a.jsx("input",{id:"usn",type:"text",required:!0,value:t,onChange:_=>r(_.target.value.toUpperCase()),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 py-3 sm:text-sm border-gray-300 rounded-lg border",placeholder:"Enter your University Seat Number"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("input",{id:"password",type:d?"text":"password",required:!0,value:o,onChange:_=>c(_.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-10 py-3 sm:text-sm border-gray-300 rounded-lg border",placeholder:"Enter your password"}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>x(!d),className:"text-gray-400 hover:text-gray-500",children:d?a.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"text-sm",children:a.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500"})})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:p,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-all duration-200 shadow-lg hover:shadow-xl",children:p?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in as Student"})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Don't have an account?"})})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[a.jsx("div",{children:a.jsx(it,{to:"/signup",className:"w-full flex justify-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:"Sign up"})}),a.jsx("div",{children:a.jsx(it,{to:"/teacher-login",className:"w-full flex justify-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:"Teacher Login"})})]})]})]})]})})}function h3({onLogin:e}){const[t,r]=B.useState(""),[o,c]=B.useState(""),[d,x]=B.useState(!1),[g,y]=B.useState(""),[p,N]=B.useState(!1),v=St(),I=async k=>{var _;k.preventDefault(),y(""),N(!0);try{const R=await Al.login({email:t,password:o});if(R.data.user.role!=="teacher"){y("Access denied. This login is for teachers only."),N(!1);return}e(R.data.user,R.data.token),v("/dashboard")}catch(R){console.error("Login error:",R),R.response?y(((_=R.response.data)==null?void 0:_.message)||"Failed to login"):R.request?y("Unable to connect to server. Please check if the backend is running."):y("An error occurred. Please try again.")}finally{N(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-cyan-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 flex items-center justify-center",children:a.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),a.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-600",children:"Teacher Login"})]}),g&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700",children:g})})]})}),a.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl rounded-2xl sm:px-10 border border-gray-100",children:[a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),a.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:k=>r(k.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 py-3 sm:text-sm border-gray-300 rounded-lg border",placeholder:"Enter your email address"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("input",{id:"password",type:d?"text":"password",required:!0,value:o,onChange:k=>c(k.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-10 py-3 sm:text-sm border-gray-300 rounded-lg border",placeholder:"Enter your password"}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>x(!d),className:"text-gray-400 hover:text-gray-500",children:d?a.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]})]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"text-sm",children:a.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500"})})}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:p,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-all duration-200 shadow-lg hover:shadow-xl",children:p?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in as Teacher"})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue as"})})]}),a.jsx("div",{className:"mt-6",children:a.jsx(it,{to:"/student-login",className:"w-full flex justify-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:"Student Login"})})]})]})]})})}function f3({onLogin:e}){const[t,r]=B.useState(""),[o,c]=B.useState(""),[d,x]=B.useState(!1),[g,y]=B.useState(""),[p,N]=B.useState(!1),v=St(),I=async k=>{var _,R;k.preventDefault(),y(""),N(!0);try{const L=await Al.login({email:t,password:o});if(L.data.user.role!=="admin"){y("Access denied. Admin credentials required."),N(!1);return}e(L.data.user,L.data.token),v("/admin/dashboard")}catch(L){console.error("Login error:",L),y(((R=(_=L.response)==null?void 0:_.data)==null?void 0:R.message)||"Invalid email or password")}finally{N(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 border border-gray-200",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-full mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Admin Login"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Access the admin dashboard"})]}),g&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:g}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Email"}),a.jsx("input",{type:"email",value:t,onChange:k=>r(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your admin email",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:d?"text":"password",value:o,onChange:k=>c(k.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),a.jsx("button",{type:"button",onClick:()=>x(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:d?a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Signing in...":"Sign In as Admin"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(it,{to:"/",className:"text-gray-600 hover:text-gray-800 text-sm",children:" Back to Home"})})]}),a.jsx("div",{className:"mt-4 text-center text-sm text-gray-600",children:a.jsxs("p",{className:"flex items-center justify-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Restricted Access - Authorized Personnel Only"]})})]})})}function x3({onLogin:e}){const t=St(),[r,o]=B.useState(""),[c,d]=B.useState(""),[x,g]=B.useState(""),[y,p]=B.useState(""),[N,v]=B.useState(!1),[I,k]=B.useState(""),[_,R]=B.useState(""),[L,S]=B.useState(!1),A=[{value:"CSE",label:"Computer Science & Engineering (CSE)"},{value:"ECE",label:"Electronics & Communication Engineering (ECE)"},{value:"EEE",label:"Electrical & Electronics Engineering (EEE)"},{value:"ME",label:"Mechanical Engineering (ME)"},{value:"CV",label:"Civil Engineering (CV)"}],T=P=>/^[A-Za-z\s]+$/.test(P),O=P=>{if(P.length!==10||!/^4HG\d{2}(CS|EC|EE|ME|CV)\d{3}$/.test(P))return!1;const J=parseInt(P.slice(-3));return J>=1&&J<=499},V=P=>/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/.test(P),Q=async P=>{var Y;if(P.preventDefault(),k(""),!T(r)){k("Name should only contain alphabetic characters and spaces");return}if(!c){k("Please select a branch");return}if(!O(x)){k("USN must be exactly 10 characters in format: 4HG23CS001");return}if(!V(y)){k("Password must be at least 8 characters with letters, numbers, and special characters");return}S(!0);const J=`${x.toLowerCase()}@student.quizquest.com`;try{await Al.register({name:r,email:J,password:y,branch:c,usn:x}),R("Registration successful! Redirecting to login..."),setTimeout(()=>{t("/student-login")},2e3)}catch(xe){console.error("Registration error:",xe),xe.response?k(((Y=xe.response.data)==null?void 0:Y.message)||"Failed to register"):xe.request?k("Unable to connect to server. Please check if the backend is running."):k("An error occurred. Please try again.")}finally{S(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-50 via-white to-cyan-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-gradient-to-r from-indigo-500 to-purple-600 flex items-center justify-center",children:a.jsx("svg",{className:"h-10 w-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Create your account"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Student Registration"})]}),I&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 rounded",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-700",children:I})})]})}),_&&a.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-green-700",children:_})})]})}),a.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl rounded-2xl sm:px-10 border border-gray-100",children:[a.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name *"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsx("input",{id:"name",type:"text",required:!0,value:r,onChange:P=>{const J=P.target.value;(J===""||/^[A-Za-z\s]*$/.test(J))&&o(J)},className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 py-3 sm:text-sm border-gray-300 rounded-lg border",placeholder:"John Doe"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Only alphabetic characters and spaces allowed"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"branch",className:"block text-sm font-medium text-gray-700",children:"Branch *"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsxs("select",{id:"branch",value:c,onChange:P=>d(P.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 py-3 sm:text-sm border-gray-300 rounded-lg border",required:!0,children:[a.jsx("option",{value:"",children:"Select your branch"}),A.map(P=>a.jsx("option",{value:P.value,children:P.label},P.value))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"usn",className:"block text-sm font-medium text-gray-700",children:"USN *"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),a.jsx("input",{id:"usn",type:"text",required:!0,maxLength:"10",value:x,onChange:P=>g(P.target.value.toUpperCase()),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 py-3 sm:text-sm border-gray-300 rounded-lg border",placeholder:"4HG23CS001"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Exactly 10 characters: 4HG[Year][Branch][Serial]"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password *"}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("input",{id:"password",type:N?"text":"password",required:!0,minLength:"8",value:y,onChange:P=>p(P.target.value),className:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 pr-10 py-3 sm:text-sm border-gray-300 rounded-lg border",placeholder:"Create a strong password"}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>v(!N),className:"text-gray-400 hover:text-gray-500",children:N?a.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}):a.jsxs("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"At least 8 characters with letters, numbers, and special characters"})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:L,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 transition-all duration-200 shadow-lg hover:shadow-xl",children:L?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Sign up"})})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),a.jsx("div",{className:"mt-6",children:a.jsx(it,{to:"/student-login",className:"w-full flex justify-center py-3 px-4 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200",children:"Sign in as Student"})})]})]})]})})}function m3({isOpen:e,onClose:t,onConfirm:r,quizTitle:o}){return e?a.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white/95 backdrop-blur-md rounded-2xl p-8 max-w-md w-full mx-4 shadow-2xl border border-white/30 transform transition-all",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Delete Quiz"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete ",a.jsxs("strong",{children:['"',o,'"']}),"?"]}),a.jsx("p",{className:"text-sm text-red-600 mb-6",children:"This action cannot be undone. All quiz attempts will also be deleted."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 px-6 py-3 rounded-xl transition font-semibold",children:"Cancel"}),a.jsx("button",{type:"button",onClick:r,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-xl transition font-semibold",children:"Delete Quiz"})]})]})})}):null}function g3({quiz:e,onClose:t}){const[r,o]=B.useState(null),[c,d]=B.useState(!0),[x,g]=B.useState(""),[y,p]=B.useState(new Set),N=R=>{const L=new Set(y);L.has(R)?L.delete(R):L.add(R),p(L)},v=async()=>{var R,L;try{d(!0),g("");const S=await rt.getQuizAnalytics(e._id);o(S.data)}catch(S){console.error("Failed to load analytics:",S),g("Failed to load analytics: "+(((L=(R=S.response)==null?void 0:R.data)==null?void 0:L.message)||S.message||"Unknown error"))}finally{d(!1)}};if(B.useEffect(()=>{v()},[e._id]),c)return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full mx-4",children:a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"text-xl",children:"Loading analytics..."})})})});if(x)return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-4xl w-full mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:["Analytics for ",e.title]}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:x})]})});if(!r)return null;const{quiz:I,analytics:k,attempts:_}=r;return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto py-8",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-6xl w-full mx-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h2",{className:"text-3xl font-bold text-gray-800",children:["Analytics for ",e.title]}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 relative overflow-hidden",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-blue-500"}),a.jsx("div",{className:"text-3xl font-bold text-gray-800",children:k.totalStudents}),a.jsx("div",{className:"text-gray-500 mt-1",children:"Total Students"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 relative overflow-hidden",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-green-500"}),a.jsx("div",{className:"text-3xl font-bold text-gray-800",children:k.submittedStudents}),a.jsx("div",{className:"text-gray-500 mt-1",children:"Submitted"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 relative overflow-hidden",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-red-500"}),a.jsx("div",{className:"text-3xl font-bold text-gray-800",children:k.notSubmittedStudents}),a.jsx("div",{className:"text-gray-500 mt-1",children:"Not Submitted"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 relative overflow-hidden",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-purple-500"}),a.jsx("div",{className:"text-3xl font-bold text-gray-800",children:k.averageScore.toFixed(1)}),a.jsx("div",{className:"text-gray-500 mt-1",children:"Average Score"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 relative overflow-hidden",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-green-500"}),a.jsx("div",{className:"text-3xl font-bold text-gray-800",children:k.passedStudents}),a.jsx("div",{className:"text-gray-500 mt-1",children:"Students Passed"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200 relative overflow-hidden",children:[a.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-red-500"}),a.jsx("div",{className:"text-3xl font-bold text-gray-800",children:k.failedStudents}),a.jsx("div",{className:"text-gray-500 mt-1",children:"Students Failed"})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:["Student Attempts (",_.length,")"]}),_.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Percentage"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map((R,L)=>a.jsxs(Vu.Fragment,{children:[a.jsxs("tr",{className:L%2===0?"bg-white":"bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.student.name}),a.jsx("div",{className:"text-sm text-gray-500",children:R.student.email})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[R.score," / ",R.totalScore]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${R.percentage>=75?"bg-green-100 text-green-800":R.percentage>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[R.percentage,"%"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${R.status==="completed"?"bg-green-100 text-green-800":R.status==="in-progress"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:R.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                            ${R.isPassed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:R.isPassed?"Passed":"Failed"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:R.submittedAt?new Date(R.submittedAt).toLocaleString():"Not submitted"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("button",{onClick:()=>N(R.id),className:"text-blue-600 hover:text-blue-900 font-medium",children:y.has(R.id)?"Hide Details":"View Details"})})]}),y.has(R.id)&&a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-4 bg-gray-50",children:a.jsxs("div",{className:"ml-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Question-wise Analysis"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Question"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Selected Options"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),a.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.answers.map((S,A)=>{const T=e.questions.find(O=>O._id===S.questionId)||{question:"Unknown Question",options:[]};return a.jsxs("tr",{className:A%2===0?"bg-white":"bg-gray-50",children:[a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 max-w-xs",children:a.jsx("div",{className:"truncate",title:T.question,children:T.question})}),a.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:S.selectedOptions&&S.selectedOptions.length>0?S.selectedOptions.join(", "):"No answer selected"}),a.jsx("td",{className:"px-4 py-2 text-sm",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                                              ${S.isCorrect?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.isCorrect?"Correct":"Incorrect"})}),a.jsxs("td",{className:"px-4 py-2 text-sm text-gray-900",children:[S.pointsEarned," / ",T.points||0]})]},`${R.id}-${S.questionId}`)})})]})})]})})},`${R.id}-details`)]},R.id))})]})}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No attempts recorded for this quiz yet."})]}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition",children:"Close"})})]})})}var jo={},p3=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},sm={},An={};let Qd;const w3=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];An.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};An.getSymbolTotalCodewords=function(t){return w3[t]};An.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};An.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Qd=t};An.isKanjiModeEnabled=function(){return typeof Qd<"u"};An.toSJIS=function(t){return Qd(t)};var Sl={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},e.from=function(o,c){if(e.isValid(o))return o;try{return t(o)}catch{return c}}})(Sl);function im(){this.buffer=[],this.length=0}im.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var y3=im;function To(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}To.prototype.set=function(e,t,r,o){const c=e*this.size+t;this.data[c]=r,o&&(this.reservedBit[c]=!0)};To.prototype.get=function(e,t){return this.data[e*this.size+t]};To.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};To.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var b3=To,om={};(function(e){const t=An.getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const c=Math.floor(o/7)+2,d=t(o),x=d===145?26:Math.ceil((d-13)/(2*c-2))*2,g=[d-7];for(let y=1;y<c-1;y++)g[y]=g[y-1]-x;return g.push(6),g.reverse()},e.getPositions=function(o){const c=[],d=e.getRowColCoords(o),x=d.length;for(let g=0;g<x;g++)for(let y=0;y<x;y++)g===0&&y===0||g===0&&y===x-1||g===x-1&&y===0||c.push([d[g],d[y]]);return c}})(om);var am={};const v3=An.getSymbolSize,Z1=7;am.getPositions=function(t){const r=v3(t);return[[0,0],[r-Z1,0],[0,r-Z1]]};var lm={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(c){return c!=null&&c!==""&&!isNaN(c)&&c>=0&&c<=7},e.from=function(c){return e.isValid(c)?parseInt(c,10):void 0},e.getPenaltyN1=function(c){const d=c.size;let x=0,g=0,y=0,p=null,N=null;for(let v=0;v<d;v++){g=y=0,p=N=null;for(let I=0;I<d;I++){let k=c.get(v,I);k===p?g++:(g>=5&&(x+=t.N1+(g-5)),p=k,g=1),k=c.get(I,v),k===N?y++:(y>=5&&(x+=t.N1+(y-5)),N=k,y=1)}g>=5&&(x+=t.N1+(g-5)),y>=5&&(x+=t.N1+(y-5))}return x},e.getPenaltyN2=function(c){const d=c.size;let x=0;for(let g=0;g<d-1;g++)for(let y=0;y<d-1;y++){const p=c.get(g,y)+c.get(g,y+1)+c.get(g+1,y)+c.get(g+1,y+1);(p===4||p===0)&&x++}return x*t.N2},e.getPenaltyN3=function(c){const d=c.size;let x=0,g=0,y=0;for(let p=0;p<d;p++){g=y=0;for(let N=0;N<d;N++)g=g<<1&2047|c.get(p,N),N>=10&&(g===1488||g===93)&&x++,y=y<<1&2047|c.get(N,p),N>=10&&(y===1488||y===93)&&x++}return x*t.N3},e.getPenaltyN4=function(c){let d=0;const x=c.data.length;for(let y=0;y<x;y++)d+=c.data[y];return Math.abs(Math.ceil(d*100/x/5)-10)*t.N4};function r(o,c,d){switch(o){case e.Patterns.PATTERN000:return(c+d)%2===0;case e.Patterns.PATTERN001:return c%2===0;case e.Patterns.PATTERN010:return d%3===0;case e.Patterns.PATTERN011:return(c+d)%3===0;case e.Patterns.PATTERN100:return(Math.floor(c/2)+Math.floor(d/3))%2===0;case e.Patterns.PATTERN101:return c*d%2+c*d%3===0;case e.Patterns.PATTERN110:return(c*d%2+c*d%3)%2===0;case e.Patterns.PATTERN111:return(c*d%3+(c+d)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(c,d){const x=d.size;for(let g=0;g<x;g++)for(let y=0;y<x;y++)d.isReserved(y,g)||d.xor(y,g,r(c,y,g))},e.getBestMask=function(c,d){const x=Object.keys(e.Patterns).length;let g=0,y=1/0;for(let p=0;p<x;p++){d(p),e.applyMask(p,c);const N=e.getPenaltyN1(c)+e.getPenaltyN2(c)+e.getPenaltyN3(c)+e.getPenaltyN4(c);e.applyMask(p,c),N<y&&(y=N,g=p)}return g}})(lm);var jl={};const Fr=Sl,ia=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],oa=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];jl.getBlocksCount=function(t,r){switch(r){case Fr.L:return ia[(t-1)*4+0];case Fr.M:return ia[(t-1)*4+1];case Fr.Q:return ia[(t-1)*4+2];case Fr.H:return ia[(t-1)*4+3];default:return}};jl.getTotalCodewordsCount=function(t,r){switch(r){case Fr.L:return oa[(t-1)*4+0];case Fr.M:return oa[(t-1)*4+1];case Fr.Q:return oa[(t-1)*4+2];case Fr.H:return oa[(t-1)*4+3];default:return}};var cm={},Tl={};const Zi=new Uint8Array(512),Za=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)Zi[r]=t,Za[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)Zi[r]=Zi[r-255]})();Tl.log=function(t){if(t<1)throw new Error("log("+t+")");return Za[t]};Tl.exp=function(t){return Zi[t]};Tl.mul=function(t,r){return t===0||r===0?0:Zi[Za[t]+Za[r]]};(function(e){const t=Tl;e.mul=function(o,c){const d=new Uint8Array(o.length+c.length-1);for(let x=0;x<o.length;x++)for(let g=0;g<c.length;g++)d[x+g]^=t.mul(o[x],c[g]);return d},e.mod=function(o,c){let d=new Uint8Array(o);for(;d.length-c.length>=0;){const x=d[0];for(let y=0;y<c.length;y++)d[y]^=t.mul(c[y],x);let g=0;for(;g<d.length&&d[g]===0;)g++;d=d.slice(g)}return d},e.generateECPolynomial=function(o){let c=new Uint8Array([1]);for(let d=0;d<o;d++)c=e.mul(c,new Uint8Array([1,t.exp(d)]));return c}})(cm);const um=cm;function Gd(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Gd.prototype.initialize=function(t){this.degree=t,this.genPoly=um.generateECPolynomial(this.degree)};Gd.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const o=um.mod(r,this.genPoly),c=this.degree-o.length;if(c>0){const d=new Uint8Array(this.degree);return d.set(o,c),d}return o};var N3=Gd,dm={},ts={},qd={};qd.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var ar={};const hm="[0-9]+",C3="[A-Z $%*+\\-./:]+";let wo="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";wo=wo.replace(/u/g,"\\u");const E3="(?:(?![A-Z0-9 $%*+\\-./:]|"+wo+`)(?:.|[\r
]))+`;ar.KANJI=new RegExp(wo,"g");ar.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");ar.BYTE=new RegExp(E3,"g");ar.NUMERIC=new RegExp(hm,"g");ar.ALPHANUMERIC=new RegExp(C3,"g");const A3=new RegExp("^"+wo+"$"),S3=new RegExp("^"+hm+"$"),j3=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");ar.testKanji=function(t){return A3.test(t)};ar.testNumeric=function(t){return S3.test(t)};ar.testAlphanumeric=function(t){return j3.test(t)};(function(e){const t=qd,r=ar;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(d,x){if(!d.ccBits)throw new Error("Invalid mode: "+d);if(!t.isValid(x))throw new Error("Invalid version: "+x);return x>=1&&x<10?d.ccBits[0]:x<27?d.ccBits[1]:d.ccBits[2]},e.getBestModeForData=function(d){return r.testNumeric(d)?e.NUMERIC:r.testAlphanumeric(d)?e.ALPHANUMERIC:r.testKanji(d)?e.KANJI:e.BYTE},e.toString=function(d){if(d&&d.id)return d.id;throw new Error("Invalid mode")},e.isValid=function(d){return d&&d.bit&&d.ccBits};function o(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+c)}}e.from=function(d,x){if(e.isValid(d))return d;try{return o(d)}catch{return x}}})(ts);(function(e){const t=An,r=jl,o=Sl,c=ts,d=qd,x=7973,g=t.getBCHDigit(x);function y(I,k,_){for(let R=1;R<=40;R++)if(k<=e.getCapacity(R,_,I))return R}function p(I,k){return c.getCharCountIndicator(I,k)+4}function N(I,k){let _=0;return I.forEach(function(R){const L=p(R.mode,k);_+=L+R.getBitsLength()}),_}function v(I,k){for(let _=1;_<=40;_++)if(N(I,_)<=e.getCapacity(_,k,c.MIXED))return _}e.from=function(k,_){return d.isValid(k)?parseInt(k,10):_},e.getCapacity=function(k,_,R){if(!d.isValid(k))throw new Error("Invalid QR Code version");typeof R>"u"&&(R=c.BYTE);const L=t.getSymbolTotalCodewords(k),S=r.getTotalCodewordsCount(k,_),A=(L-S)*8;if(R===c.MIXED)return A;const T=A-p(R,k);switch(R){case c.NUMERIC:return Math.floor(T/10*3);case c.ALPHANUMERIC:return Math.floor(T/11*2);case c.KANJI:return Math.floor(T/13);case c.BYTE:default:return Math.floor(T/8)}},e.getBestVersionForData=function(k,_){let R;const L=o.from(_,o.M);if(Array.isArray(k)){if(k.length>1)return v(k,L);if(k.length===0)return 1;R=k[0]}else R=k;return y(R.mode,R.getLength(),L)},e.getEncodedBits=function(k){if(!d.isValid(k)||k<7)throw new Error("Invalid QR Code version");let _=k<<12;for(;t.getBCHDigit(_)-g>=0;)_^=x<<t.getBCHDigit(_)-g;return k<<12|_}})(dm);var fm={};const _u=An,xm=1335,T3=21522,$1=_u.getBCHDigit(xm);fm.getEncodedBits=function(t,r){const o=t.bit<<3|r;let c=o<<10;for(;_u.getBCHDigit(c)-$1>=0;)c^=xm<<_u.getBCHDigit(c)-$1;return(o<<10|c)^T3};var mm={};const I3=ts;function ai(e){this.mode=I3.NUMERIC,this.data=e.toString()}ai.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ai.prototype.getLength=function(){return this.data.length};ai.prototype.getBitsLength=function(){return ai.getBitsLength(this.data.length)};ai.prototype.write=function(t){let r,o,c;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),c=parseInt(o,10),t.put(c,10);const d=this.data.length-r;d>0&&(o=this.data.substr(r),c=parseInt(o,10),t.put(c,d*3+1))};var k3=ai;const R3=ts,Sc=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function li(e){this.mode=R3.ALPHANUMERIC,this.data=e}li.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};li.prototype.getLength=function(){return this.data.length};li.prototype.getBitsLength=function(){return li.getBitsLength(this.data.length)};li.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let o=Sc.indexOf(this.data[r])*45;o+=Sc.indexOf(this.data[r+1]),t.put(o,11)}this.data.length%2&&t.put(Sc.indexOf(this.data[r]),6)};var _3=li;const O3=ts;function ci(e){this.mode=O3.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}ci.getBitsLength=function(t){return t*8};ci.prototype.getLength=function(){return this.data.length};ci.prototype.getBitsLength=function(){return ci.getBitsLength(this.data.length)};ci.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var M3=ci;const D3=ts,L3=An;function ui(e){this.mode=D3.KANJI,this.data=e}ui.getBitsLength=function(t){return t*13};ui.prototype.getLength=function(){return this.data.length};ui.prototype.getBitsLength=function(){return ui.getBitsLength(this.data.length)};ui.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=L3.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var B3=ui,gm={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,o,c){var d={},x={};x[o]=0;var g=t.PriorityQueue.make();g.push(o,0);for(var y,p,N,v,I,k,_,R,L;!g.empty();){y=g.pop(),p=y.value,v=y.cost,I=r[p]||{};for(N in I)I.hasOwnProperty(N)&&(k=I[N],_=v+k,R=x[N],L=typeof x[N]>"u",(L||R>_)&&(x[N]=_,g.push(N,_),d[N]=p))}if(typeof c<"u"&&typeof x[c]>"u"){var S=["Could not find a path from ",o," to ",c,"."].join("");throw new Error(S)}return d},extract_shortest_path_from_predecessor_list:function(r,o){for(var c=[],d=o;d;)c.push(d),r[d],d=r[d];return c.reverse(),c},find_path:function(r,o,c){var d=t.single_source_shortest_paths(r,o,c);return t.extract_shortest_path_from_predecessor_list(d,c)},PriorityQueue:{make:function(r){var o=t.PriorityQueue,c={},d;r=r||{};for(d in o)o.hasOwnProperty(d)&&(c[d]=o[d]);return c.queue=[],c.sorter=r.sorter||o.default_sorter,c},default_sorter:function(r,o){return r.cost-o.cost},push:function(r,o){var c={value:r,cost:o};this.queue.push(c),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(gm);var P3=gm.exports;(function(e){const t=ts,r=k3,o=_3,c=M3,d=B3,x=ar,g=An,y=P3;function p(S){return unescape(encodeURIComponent(S)).length}function N(S,A,T){const O=[];let V;for(;(V=S.exec(T))!==null;)O.push({data:V[0],index:V.index,mode:A,length:V[0].length});return O}function v(S){const A=N(x.NUMERIC,t.NUMERIC,S),T=N(x.ALPHANUMERIC,t.ALPHANUMERIC,S);let O,V;return g.isKanjiModeEnabled()?(O=N(x.BYTE,t.BYTE,S),V=N(x.KANJI,t.KANJI,S)):(O=N(x.BYTE_KANJI,t.BYTE,S),V=[]),A.concat(T,O,V).sort(function(P,J){return P.index-J.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function I(S,A){switch(A){case t.NUMERIC:return r.getBitsLength(S);case t.ALPHANUMERIC:return o.getBitsLength(S);case t.KANJI:return d.getBitsLength(S);case t.BYTE:return c.getBitsLength(S)}}function k(S){return S.reduce(function(A,T){const O=A.length-1>=0?A[A.length-1]:null;return O&&O.mode===T.mode?(A[A.length-1].data+=T.data,A):(A.push(T),A)},[])}function _(S){const A=[];for(let T=0;T<S.length;T++){const O=S[T];switch(O.mode){case t.NUMERIC:A.push([O,{data:O.data,mode:t.ALPHANUMERIC,length:O.length},{data:O.data,mode:t.BYTE,length:O.length}]);break;case t.ALPHANUMERIC:A.push([O,{data:O.data,mode:t.BYTE,length:O.length}]);break;case t.KANJI:A.push([O,{data:O.data,mode:t.BYTE,length:p(O.data)}]);break;case t.BYTE:A.push([{data:O.data,mode:t.BYTE,length:p(O.data)}])}}return A}function R(S,A){const T={},O={start:{}};let V=["start"];for(let Q=0;Q<S.length;Q++){const P=S[Q],J=[];for(let Y=0;Y<P.length;Y++){const xe=P[Y],Ie=""+Q+Y;J.push(Ie),T[Ie]={node:xe,lastCount:0},O[Ie]={};for(let ge=0;ge<V.length;ge++){const ve=V[ge];T[ve]&&T[ve].node.mode===xe.mode?(O[ve][Ie]=I(T[ve].lastCount+xe.length,xe.mode)-I(T[ve].lastCount,xe.mode),T[ve].lastCount+=xe.length):(T[ve]&&(T[ve].lastCount=xe.length),O[ve][Ie]=I(xe.length,xe.mode)+4+t.getCharCountIndicator(xe.mode,A))}}V=J}for(let Q=0;Q<V.length;Q++)O[V[Q]].end=0;return{map:O,table:T}}function L(S,A){let T;const O=t.getBestModeForData(S);if(T=t.from(A,O),T!==t.BYTE&&T.bit<O.bit)throw new Error('"'+S+'" cannot be encoded with mode '+t.toString(T)+`.
 Suggested mode is: `+t.toString(O));switch(T===t.KANJI&&!g.isKanjiModeEnabled()&&(T=t.BYTE),T){case t.NUMERIC:return new r(S);case t.ALPHANUMERIC:return new o(S);case t.KANJI:return new d(S);case t.BYTE:return new c(S)}}e.fromArray=function(A){return A.reduce(function(T,O){return typeof O=="string"?T.push(L(O,null)):O.data&&T.push(L(O.data,O.mode)),T},[])},e.fromString=function(A,T){const O=v(A,g.isKanjiModeEnabled()),V=_(O),Q=R(V,T),P=y.find_path(Q.map,"start","end"),J=[];for(let Y=1;Y<P.length-1;Y++)J.push(Q.table[P[Y]].node);return e.fromArray(k(J))},e.rawSplit=function(A){return e.fromArray(v(A,g.isKanjiModeEnabled()))}})(mm);const Il=An,jc=Sl,F3=y3,z3=b3,U3=om,V3=am,Ou=lm,Mu=jl,H3=N3,$a=dm,W3=fm,Q3=ts,Tc=mm;function G3(e,t){const r=e.size,o=V3.getPositions(t);for(let c=0;c<o.length;c++){const d=o[c][0],x=o[c][1];for(let g=-1;g<=7;g++)if(!(d+g<=-1||r<=d+g))for(let y=-1;y<=7;y++)x+y<=-1||r<=x+y||(g>=0&&g<=6&&(y===0||y===6)||y>=0&&y<=6&&(g===0||g===6)||g>=2&&g<=4&&y>=2&&y<=4?e.set(d+g,x+y,!0,!0):e.set(d+g,x+y,!1,!0))}}function q3(e){const t=e.size;for(let r=8;r<t-8;r++){const o=r%2===0;e.set(r,6,o,!0),e.set(6,r,o,!0)}}function X3(e,t){const r=U3.getPositions(t);for(let o=0;o<r.length;o++){const c=r[o][0],d=r[o][1];for(let x=-2;x<=2;x++)for(let g=-2;g<=2;g++)x===-2||x===2||g===-2||g===2||x===0&&g===0?e.set(c+x,d+g,!0,!0):e.set(c+x,d+g,!1,!0)}}function Y3(e,t){const r=e.size,o=$a.getEncodedBits(t);let c,d,x;for(let g=0;g<18;g++)c=Math.floor(g/3),d=g%3+r-8-3,x=(o>>g&1)===1,e.set(c,d,x,!0),e.set(d,c,x,!0)}function Ic(e,t,r){const o=e.size,c=W3.getEncodedBits(t,r);let d,x;for(d=0;d<15;d++)x=(c>>d&1)===1,d<6?e.set(d,8,x,!0):d<8?e.set(d+1,8,x,!0):e.set(o-15+d,8,x,!0),d<8?e.set(8,o-d-1,x,!0):d<9?e.set(8,15-d-1+1,x,!0):e.set(8,15-d-1,x,!0);e.set(o-8,8,1,!0)}function K3(e,t){const r=e.size;let o=-1,c=r-1,d=7,x=0;for(let g=r-1;g>0;g-=2)for(g===6&&g--;;){for(let y=0;y<2;y++)if(!e.isReserved(c,g-y)){let p=!1;x<t.length&&(p=(t[x]>>>d&1)===1),e.set(c,g-y,p),d--,d===-1&&(x++,d=7)}if(c+=o,c<0||r<=c){c-=o,o=-o;break}}}function Z3(e,t,r){const o=new F3;r.forEach(function(y){o.put(y.mode.bit,4),o.put(y.getLength(),Q3.getCharCountIndicator(y.mode,e)),y.write(o)});const c=Il.getSymbolTotalCodewords(e),d=Mu.getTotalCodewordsCount(e,t),x=(c-d)*8;for(o.getLengthInBits()+4<=x&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const g=(x-o.getLengthInBits())/8;for(let y=0;y<g;y++)o.put(y%2?17:236,8);return $3(o,e,t)}function $3(e,t,r){const o=Il.getSymbolTotalCodewords(t),c=Mu.getTotalCodewordsCount(t,r),d=o-c,x=Mu.getBlocksCount(t,r),g=o%x,y=x-g,p=Math.floor(o/x),N=Math.floor(d/x),v=N+1,I=p-N,k=new H3(I);let _=0;const R=new Array(x),L=new Array(x);let S=0;const A=new Uint8Array(e.buffer);for(let P=0;P<x;P++){const J=P<y?N:v;R[P]=A.slice(_,_+J),L[P]=k.encode(R[P]),_+=J,S=Math.max(S,J)}const T=new Uint8Array(o);let O=0,V,Q;for(V=0;V<S;V++)for(Q=0;Q<x;Q++)V<R[Q].length&&(T[O++]=R[Q][V]);for(V=0;V<I;V++)for(Q=0;Q<x;Q++)T[O++]=L[Q][V];return T}function J3(e,t,r,o){let c;if(Array.isArray(e))c=Tc.fromArray(e);else if(typeof e=="string"){let p=t;if(!p){const N=Tc.rawSplit(e);p=$a.getBestVersionForData(N,r)}c=Tc.fromString(e,p||40)}else throw new Error("Invalid data");const d=$a.getBestVersionForData(c,r);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=d;else if(t<d)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+d+`.
`);const x=Z3(t,r,c),g=Il.getSymbolSize(t),y=new z3(g);return G3(y,t),q3(y),X3(y,t),Ic(y,r,0),t>=7&&Y3(y,t),K3(y,x),isNaN(o)&&(o=Ou.getBestMask(y,Ic.bind(null,y,r))),Ou.applyMask(o,y),Ic(y,r,o),{modules:y,version:t,errorCorrectionLevel:r,maskPattern:o,segments:c}}sm.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let o=jc.M,c,d;return typeof r<"u"&&(o=jc.from(r.errorCorrectionLevel,jc.M),c=$a.from(r.version),d=Ou.from(r.maskPattern),r.toSJISFunc&&Il.setToSJISFunction(r.toSJISFunc)),J3(t,c,o,d)};var pm={},Xd={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+r);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(d){return[d,d]}))),o.length===6&&o.push("F","F");const c=parseInt(o.join(""),16);return{r:c>>24&255,g:c>>16&255,b:c>>8&255,a:c&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const c=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,d=o.width&&o.width>=21?o.width:void 0,x=o.scale||4;return{width:d,scale:d?4:x,margin:c,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,c){return c.width&&c.width>=o+c.margin*2?c.width/(o+c.margin*2):c.scale},e.getImageWidth=function(o,c){const d=e.getScale(o,c);return Math.floor((o+c.margin*2)*d)},e.qrToImageData=function(o,c,d){const x=c.modules.size,g=c.modules.data,y=e.getScale(x,d),p=Math.floor((x+d.margin*2)*y),N=d.margin*y,v=[d.color.light,d.color.dark];for(let I=0;I<p;I++)for(let k=0;k<p;k++){let _=(I*p+k)*4,R=d.color.light;if(I>=N&&k>=N&&I<p-N&&k<p-N){const L=Math.floor((I-N)/y),S=Math.floor((k-N)/y);R=v[g[L*x+S]?1:0]}o[_++]=R.r,o[_++]=R.g,o[_++]=R.b,o[_]=R.a}}})(Xd);(function(e){const t=Xd;function r(c,d,x){c.clearRect(0,0,d.width,d.height),d.style||(d.style={}),d.height=x,d.width=x,d.style.height=x+"px",d.style.width=x+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(d,x,g){let y=g,p=x;typeof y>"u"&&(!x||!x.getContext)&&(y=x,x=void 0),x||(p=o()),y=t.getOptions(y);const N=t.getImageWidth(d.modules.size,y),v=p.getContext("2d"),I=v.createImageData(N,N);return t.qrToImageData(I.data,d,y),r(v,p,N),v.putImageData(I,0,0),p},e.renderToDataURL=function(d,x,g){let y=g;typeof y>"u"&&(!x||!x.getContext)&&(y=x,x=void 0),y||(y={});const p=e.render(d,x,y),N=y.type||"image/png",v=y.rendererOpts||{};return p.toDataURL(N,v.quality)}})(pm);var wm={};const e4=Xd;function J1(e,t){const r=e.a/255,o=t+'="'+e.hex+'"';return r<1?o+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':o}function kc(e,t,r){let o=e+t;return typeof r<"u"&&(o+=" "+r),o}function t4(e,t,r){let o="",c=0,d=!1,x=0;for(let g=0;g<e.length;g++){const y=Math.floor(g%t),p=Math.floor(g/t);!y&&!d&&(d=!0),e[g]?(x++,g>0&&y>0&&e[g-1]||(o+=d?kc("M",y+r,.5+p+r):kc("m",c,0),c=0,d=!1),y+1<t&&e[g+1]||(o+=kc("h",x),x=0)):c++}return o}wm.render=function(t,r,o){const c=e4.getOptions(r),d=t.modules.size,x=t.modules.data,g=d+c.margin*2,y=c.color.light.a?"<path "+J1(c.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",p="<path "+J1(c.color.dark,"stroke")+' d="'+t4(x,d,c.margin)+'"/>',N='viewBox="0 0 '+g+" "+g+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+N+' shape-rendering="crispEdges">'+y+p+`</svg>
`;return typeof o=="function"&&o(null,I),I};const n4=p3,Du=sm,ym=pm,r4=wm;function Yd(e,t,r,o,c){const d=[].slice.call(arguments,1),x=d.length,g=typeof d[x-1]=="function";if(!g&&!n4())throw new Error("Callback required as last argument");if(g){if(x<2)throw new Error("Too few arguments provided");x===2?(c=r,r=t,t=o=void 0):x===3&&(t.getContext&&typeof c>"u"?(c=o,o=void 0):(c=o,o=r,r=t,t=void 0))}else{if(x<1)throw new Error("Too few arguments provided");return x===1?(r=t,t=o=void 0):x===2&&!t.getContext&&(o=r,r=t,t=void 0),new Promise(function(y,p){try{const N=Du.create(r,o);y(e(N,t,o))}catch(N){p(N)}})}try{const y=Du.create(r,o);c(null,e(y,t,o))}catch(y){c(y)}}jo.create=Du.create;jo.toCanvas=Yd.bind(null,ym.render);jo.toDataURL=Yd.bind(null,ym.renderToDataURL);jo.toString=Yd.bind(null,function(e,t,r){return r4.render(e,r)});function s4({quiz:e,onClose:t}){const[r,o]=B.useState(""),c=`${window.location.origin}/student-access/${e._id}`;B.useEffect(()=>{d()},[e._id]);const d=async()=>{try{const k=`Quiz: ${e.title}
Link: ${c}
Access Key: ${e.accessKey||"N/A"}

Scan to join the quiz!`,_=await jo.toDataURL(k,{width:300,margin:2,color:{dark:"#000000",light:"#ffffff"},errorCorrectionLevel:"H"});o(_)}catch(k){console.error("Error generating QR code:",k)}},x=()=>{navigator.clipboard.writeText(c);const k=document.getElementById("copy-btn").textContent;document.getElementById("copy-btn").textContent="Copied!",setTimeout(()=>{document.getElementById("copy-btn").textContent=k},2e3)},g=()=>{const k=`Join my quiz: ${e.title}

Quiz Link: ${c}
Access Key: ${e.accessKey||"N/A"}

Scan the QR code attached to join instantly!`,_=`https://api.whatsapp.com/send?text=${encodeURIComponent(k)}`;window.open(_,"_blank"),setTimeout(()=>I(),500)},y=()=>{const k=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(c)}&quote=${encodeURIComponent(`Join my quiz: ${e.title}

Access Key: ${e.accessKey||"N/A"}

Scan the QR code below to join instantly!`)}`;window.open(k,"_blank")},p=()=>{const k=`Check out my quiz: ${e.title}

Access Key: ${e.accessKey||"N/A"}
Scan the QR code below to join!

${c}`,_=`https://twitter.com/intent/tweet?text=${encodeURIComponent(k)}`;window.open(_,"_blank"),setTimeout(()=>I(),500)},N=()=>{const k=`Join my Quiz: ${e.title}`,_=`Hi,

I'd like to invite you to take my quiz: ${e.title}

Quiz Link: ${c}
Access Key: ${e.accessKey||"N/A"}

Please download the QR code from the link above or scan it to join instantly!

Best regards`,R=`mailto:?subject=${encodeURIComponent(k)}&body=${encodeURIComponent(_)}`;window.location.href=R,setTimeout(()=>I(),500)},v=()=>{`${e.title}${e.accessKey||"N/A"}${c}`;const k=`https://t.me/share/url?url=${encodeURIComponent(c)}&text=${encodeURIComponent(e.title)}`;window.open(k,"_blank"),setTimeout(()=>I(),500)},I=()=>{const k=document.createElement("a");k.href=r,k.download=`quiz-${e._id}-qr-code.png`,document.body.appendChild(k),k.click(),document.body.removeChild(k)};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-gray-900 rounded-2xl max-w-2xl w-full mx-auto shadow-2xl overflow-y-auto max-h-[95vh] flex flex-col",children:[a.jsxs("div",{className:"px-8 py-6 border-b border-gray-700 flex justify-between items-center sticky top-0 bg-gray-900 z-10",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Share Quiz"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white rounded-full p-2 hover:bg-gray-800 transition",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"px-8 py-6 overflow-y-auto flex-1",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:e.title}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Scan QR code or share with your students"})]}),a.jsx("div",{className:"mb-6 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Access Key"}),a.jsx("p",{className:"text-white text-3xl font-bold tracking-widest",children:e.accessKey||"N/A"}),a.jsx("p",{className:"text-blue-100 text-xs mt-2",children:"Students will need this key to access the quiz"})]})}),a.jsxs("div",{className:"flex flex-col items-center mb-6",children:[r?a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"bg-white p-4 rounded-lg shadow-xl",children:a.jsx("img",{src:r,alt:"Quiz QR Code",className:"w-56 h-56 object-contain"})}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:a.jsxs("button",{onClick:I,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold flex items-center gap-2 transition text-sm",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download QR"]})})]}):a.jsx("div",{className:"bg-gray-200 border-2 border-dashed rounded-xl w-56 h-56 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-gray-900"})}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("p",{className:"text-gray-400 text-sm flex items-center justify-center",children:[a.jsx("svg",{className:"w-4 h-4 inline-block mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"QR code includes quiz link + access key"]})})]}),a.jsxs("div",{className:"border-t border-gray-700 pt-6",children:[a.jsx("h4",{className:"text-white font-semibold mb-4 text-sm",children:"Share"}),a.jsxs("div",{className:"flex gap-3 justify-center mb-5 flex-wrap",children:[a.jsxs("button",{onClick:g,className:"flex flex-col items-center justify-center gap-1 px-4 py-3 bg-green-500 hover:bg-green-600 text-white rounded-full transition transform hover:scale-110 duration-200 w-20 h-20",title:"Share on WhatsApp",children:[a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),a.jsx("span",{className:"text-xs font-medium",children:"WhatsApp"})]}),a.jsxs("button",{onClick:y,className:"flex flex-col items-center justify-center gap-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full transition transform hover:scale-110 duration-200 w-20 h-20",title:"Share on Facebook",children:[a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"})}),a.jsx("span",{className:"text-xs font-medium",children:"Facebook"})]}),a.jsxs("button",{onClick:p,className:"flex flex-col items-center justify-center gap-1 px-4 py-3 bg-sky-500 hover:bg-sky-600 text-white rounded-full transition transform hover:scale-110 duration-200 w-20 h-20",title:"Share on Twitter",children:[a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),a.jsx("span",{className:"text-xs font-medium",children:"Twitter"})]}),a.jsxs("button",{onClick:N,className:"flex flex-col items-center justify-center gap-1 px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-full transition transform hover:scale-110 duration-200 w-20 h-20",title:"Share via Gmail",children:[a.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M20 4H4C2.9 4 2 4.9 2 6v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z",fill:"#EA4335"}),a.jsx("path",{d:"M20 4H4c-1.1 0-2 .9-2 2v.5l9 7 9-7V6c0-1.1-.9-2-2-2z",fill:"#FBBC04"}),a.jsx("path",{d:"M2 6v12c0 1.1.9 2 2 2h.5V9.5l8 6.3 8-6.3v10.5H20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2z",fill:"#34A853"}),a.jsx("path",{d:"M20 4v.5l-9 7-9-7V4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2z",fill:"#4285F4"})]}),a.jsx("span",{className:"text-xs font-medium",children:"Gmail"})]}),a.jsxs("button",{onClick:v,className:"flex flex-col items-center justify-center gap-1 px-4 py-3 bg-cyan-500 hover:bg-cyan-600 text-white rounded-full transition transform hover:scale-110 duration-200 w-20 h-20",title:"Share on Telegram",children:[a.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.562 8.161c-.18 1.897-.962 6.502-1.359 8.627-.168.9-.5 1.201-.82 1.23-.697.064-1.226-.461-1.901-.902-1.056-.692-1.653-1.123-2.678-1.799-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.017-1.793 1.14-5.061 3.345-.479.329-.913.489-1.302.48-.429-.008-1.252-.242-1.865-.442-.752-.231-1.344-.354-1.293-.747.028-.183.324-.368.892-.563 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.477-1.635.099-.002.321.023.465.14.12.099.153.231.167.344.014.112.027.265.027.403z"})}),a.jsx("span",{className:"text-xs font-medium",children:"Telegram"})]})]}),a.jsxs("div",{className:"bg-gray-800 rounded-lg p-3 flex items-center gap-2",children:[a.jsx("input",{type:"text",value:c,readOnly:!0,className:"flex-1 bg-gray-800 text-gray-300 text-xs border-0 focus:outline-none truncate"}),a.jsx("button",{id:"copy-btn",onClick:x,className:"bg-blue-500 hover:bg-blue-600 text-white px-5 py-1 rounded-lg transition font-semibold whitespace-nowrap text-sm",children:"Copy"})]})]})]}),a.jsx("div",{className:"sticky bottom-0 px-8 py-4 bg-gray-900 border-t border-gray-700 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition font-semibold",children:"Close"})})]})})}var Ae;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ae||(Ae={}));var eh=new Map([[Ae.QR_CODE,"QR_CODE"],[Ae.AZTEC,"AZTEC"],[Ae.CODABAR,"CODABAR"],[Ae.CODE_39,"CODE_39"],[Ae.CODE_93,"CODE_93"],[Ae.CODE_128,"CODE_128"],[Ae.DATA_MATRIX,"DATA_MATRIX"],[Ae.MAXICODE,"MAXICODE"],[Ae.ITF,"ITF"],[Ae.EAN_13,"EAN_13"],[Ae.EAN_8,"EAN_8"],[Ae.PDF_417,"PDF_417"],[Ae.RSS_14,"RSS_14"],[Ae.RSS_EXPANDED,"RSS_EXPANDED"],[Ae.UPC_A,"UPC_A"],[Ae.UPC_E,"UPC_E"],[Ae.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),th;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(th||(th={}));function i4(e){return Object.values(Ae).includes(e)}var Ja;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ja||(Ja={}));var o4=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ja.SCAN_TYPE_CAMERA,Ja.SCAN_TYPE_FILE],e}(),bm=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!eh.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,eh.get(t))},e}(),nh=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Lu;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Lu||(Lu={}));var a4=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Lu.UNKWOWN_ERROR}},e}(),l4=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function cr(e){return typeof e>"u"||e===null}var Gs=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),vm=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var o=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),x=Object.keys(t),g=0,y=x;g<y.length;g++){var p=y[g];if(d.has(p))return r.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),Bu={exports:{}};(function(e,t){(function(r,o){o(t)})(Ti,function(r){function o(C){return C==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,n){C.__proto__=n}||function(C,n){for(var s in n)n.hasOwnProperty(s)&&(C[s]=n[s])};function d(C,n){c(C,n);function s(){this.constructor=C}C.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}function x(C,n){var s=Object.setPrototypeOf;s?s(C,n):C.__proto__=n}function g(C,n){n===void 0&&(n=C.constructor);var s=Error.captureStackTrace;s&&s(C,n)}var y=function(C){d(n,C);function n(s){var i=this.constructor,l=C.call(this,s)||this;return Object.defineProperty(l,"name",{value:i.name,enumerable:!1}),x(l,i.prototype),g(l),l}return n}(Error);class p extends y{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}p.kind="Exception";class N extends p{}N.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class I{constructor(n){if(this.binarizer=n,n===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,s){return this.binarizer.getBlackRow(n,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,s,i,l){const u=this.binarizer.getLuminanceSource().crop(n,s,i,l);return new I(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new I(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new I(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends p{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class _{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(n,s,i,l,u){for(;u--;)i[l++]=n[s++]}static currentTimeMillis(){return Date.now()}}class L extends p{}L.kind="IndexOutOfBoundsException";class S extends L{constructor(n=void 0,s=void 0){super(s),this.index=n,this.message=s}}S.kind="ArrayIndexOutOfBoundsException";class A{static fill(n,s){for(let i=0,l=n.length;i<l;i++)n[i]=s}static fillWithin(n,s,i,l){A.rangeCheck(n.length,s,i);for(let u=s;u<i;u++)n[u]=l}static rangeCheck(n,s,i){if(s>i)throw new v("fromIndex("+s+") > toIndex("+i+")");if(s<0)throw new S(s);if(i>n)throw new S(i)}static asList(...n){return n}static create(n,s,i){return Array.from({length:n}).map(u=>Array.from({length:s}).fill(i))}static createInt32Array(n,s,i){return Array.from({length:n}).map(u=>Int32Array.from({length:s}).fill(i))}static equals(n,s){if(!n||!s||!n.length||!s.length||n.length!==s.length)return!1;for(let i=0,l=n.length;i<l;i++)if(n[i]!==s[i])return!1;return!0}static hashCode(n){if(n===null)return 0;let s=1;for(const i of n)s=31*s+i;return s}static fillUint8Array(n,s){for(let i=0;i!==n.length;i++)n[i]=s}static copyOf(n,s){return n.slice(0,s)}static copyOfUint8Array(n,s){if(n.length<=s){const i=new Uint8Array(s);return i.set(n),i}return n.slice(0,s)}static copyOfRange(n,s,i){const l=i-s,u=new Int32Array(l);return R.arraycopy(n,s,u,0,l),u}static binarySearch(n,s,i){i===void 0&&(i=A.numberComparator);let l=0,u=n.length-1;for(;l<=u;){const h=u+l>>1,f=i(s,n[h]);if(f>0)l=h+1;else if(f<0)u=h-1;else return h}return-l-1}static numberComparator(n,s){return n-s}}class T{static numberOfTrailingZeros(n){let s;if(n===0)return 32;let i=31;return s=n<<16,s!==0&&(i-=16,n=s),s=n<<8,s!==0&&(i-=8,n=s),s=n<<4,s!==0&&(i-=4,n=s),s=n<<2,s!==0&&(i-=2,n=s),i-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let s=1;return n>>>16||(s+=16,n<<=16),n>>>24||(s+=8,n<<=8),n>>>28||(s+=4,n<<=4),n>>>30||(s+=2,n<<=2),s-=n>>>31,s}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,s){return Math.trunc(n/s)}static parseInt(n,s=void 0){return parseInt(n,s)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class O{constructor(n,s){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,s==null?this.bits=O.makeArray(n):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const s=O.makeArray(n);R.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const s=this.size;if(n>=s)return s;const i=this.bits;let l=Math.floor(n/32),u=i[l];u&=~((1<<(n&31))-1);const h=i.length;for(;u===0;){if(++l===h)return s;u=i[l]}const f=l*32+T.numberOfTrailingZeros(u);return f>s?s:f}getNextUnset(n){const s=this.size;if(n>=s)return s;const i=this.bits;let l=Math.floor(n/32),u=~i[l];u&=~((1<<(n&31))-1);const h=i.length;for(;u===0;){if(++l===h)return s;u=~i[l]}const f=l*32+T.numberOfTrailingZeros(u);return f>s?s:f}setBulk(n,s){this.bits[Math.floor(n/32)]=s}setRange(n,s){if(s<n||n<0||s>this.size)throw new v;if(s===n)return;s--;const i=Math.floor(n/32),l=Math.floor(s/32),u=this.bits;for(let h=i;h<=l;h++){const f=h>i?0:n&31,w=(2<<(h<l?31:s&31))-(1<<f);u[h]|=w}}clear(){const n=this.bits.length,s=this.bits;for(let i=0;i<n;i++)s[i]=0}isRange(n,s,i){if(s<n||n<0||s>this.size)throw new v;if(s===n)return!0;s--;const l=Math.floor(n/32),u=Math.floor(s/32),h=this.bits;for(let f=l;f<=u;f++){const m=f>l?0:n&31,b=(2<<(f<u?31:s&31))-(1<<m)&4294967295;if((h[f]&b)!==(i?b:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,s){if(s<0||s>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let i=s;i>0;i--)this.appendBit((n>>i-1&1)===1)}appendBitArray(n){const s=n.size;this.ensureCapacity(this.size+s);for(let i=0;i<s;i++)this.appendBit(n.get(i))}xor(n){if(this.size!==n.size)throw new v("Sizes don't match");const s=this.bits;for(let i=0,l=s.length;i<l;i++)s[i]^=n.bits[i]}toBytes(n,s,i,l){for(let u=0;u<l;u++){let h=0;for(let f=0;f<8;f++)this.get(n)&&(h|=1<<7-f),n++;s[i+u]=h}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),i=s+1,l=this.bits;for(let u=0;u<i;u++){let h=l[u];h=h>>1&1431655765|(h&1431655765)<<1,h=h>>2&858993459|(h&858993459)<<2,h=h>>4&252645135|(h&252645135)<<4,h=h>>8&16711935|(h&16711935)<<8,h=h>>16&65535|(h&65535)<<16,n[s-u]=h}if(this.size!==i*32){const u=i*32-this.size;let h=n[0]>>>u;for(let f=1;f<i;f++){const m=n[f];h|=m<<32-u,n[f-1]=h,h=m>>>u}n[i-1]=h}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof O))return!1;const s=n;return this.size===s.size&&A.equals(this.bits,s.bits)}hashCode(){return 31*this.size+A.hashCode(this.bits)}toString(){let n="";for(let s=0,i=this.size;s<i;s++)s&7||(n+=" "),n+=this.get(s)?"X":".";return n}clone(){return new O(this.size,this.bits.slice())}}var V;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(V||(V={}));var Q=V;class P extends p{static getFormatInstance(){return new P}}P.kind="FormatException";var J;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(J||(J={}));class Y{constructor(n,s,i,...l){this.valueIdentifier=n,this.name=i,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=l,Y.VALUE_IDENTIFIER_TO_ECI.set(n,this),Y.NAME_TO_ECI.set(i,this);const u=this.values;for(let h=0,f=u.length;h!==f;h++){const m=u[h];Y.VALUES_TO_ECI.set(m,this)}for(const h of l)Y.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new P("incorect value");const s=Y.VALUES_TO_ECI.get(n);if(s===void 0)throw new P("incorect value");return s}static getCharacterSetECIByName(n){const s=Y.NAME_TO_ECI.get(n);if(s===void 0)throw new P("incorect value");return s}equals(n){if(!(n instanceof Y))return!1;const s=n;return this.getName()===s.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(J.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(J.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(J.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(J.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(J.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(J.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(J.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(J.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(J.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(J.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(J.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(J.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(J.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(J.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(J.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(J.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(J.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(J.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(J.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(J.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(J.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(J.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(J.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(J.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(J.Big5,28,"Big5"),Y.GB18030=new Y(J.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(J.EUC_KR,30,"EUC_KR","EUC-KR");class xe extends p{}xe.kind="UnsupportedOperationException";class Ie{static decode(n,s){const i=this.encodingName(s);return this.customDecoder?this.customDecoder(n,i):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(i)?this.decodeFallback(n,i):new TextDecoder(i).decode(n)}static shouldDecodeOnFallback(n){return!Ie.isBrowser()&&n==="ISO-8859-1"}static encode(n,s){const i=this.encodingName(s);return this.customEncoder?this.customEncoder(n,i):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof Y?n:Y.getCharacterSetECIByName(n)}static decodeFallback(n,s){const i=this.encodingCharacterSet(s);if(Ie.isDecodeFallbackSupported(i)){let l="";for(let u=0,h=n.length;u<h;u++){let f=n[u].toString(16);f.length<2&&(f="0"+f),l+="%"+f}return decodeURIComponent(l)}if(i.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new xe(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(Y.UTF8)||n.equals(Y.ISO8859_1)||n.equals(Y.ASCII)}static encodeFallback(n){const i=btoa(unescape(encodeURIComponent(n))).split(""),l=[];for(let u=0;u<i.length;u++)l.push(i[u].charCodeAt(0));return new Uint8Array(l)}}class ge{static castAsNonUtf8Char(n,s=null){const i=s?s.getName():this.ISO88591;return Ie.decode(new Uint8Array([n]),i)}static guessEncoding(n,s){if(s!=null&&s.get(Q.CHARACTER_SET)!==void 0)return s.get(Q.CHARACTER_SET).toString();const i=n.length;let l=!0,u=!0,h=!0,f=0,m=0,w=0,b=0,E=0,j=0,D=0,F=0,U=0,G=0,$=0;const de=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let fe=0;fe<i&&(l||u||h);fe++){const oe=n[fe]&255;h&&(f>0?oe&128?f--:h=!1:oe&128&&(oe&64?(f++,oe&32?(f++,oe&16?(f++,oe&8?h=!1:b++):w++):m++):h=!1)),l&&(oe>127&&oe<160?l=!1:oe>159&&(oe<192||oe===215||oe===247)&&$++),u&&(E>0?oe<64||oe===127||oe>252?u=!1:E--:oe===128||oe===160||oe>239?u=!1:oe>160&&oe<224?(j++,F=0,D++,D>U&&(U=D)):oe>127?(E++,D=0,F++,F>G&&(G=F)):(D=0,F=0))}return h&&f>0&&(h=!1),u&&E>0&&(u=!1),h&&(de||m+w+b>0)?ge.UTF8:u&&(ge.ASSUME_SHIFT_JIS||U>=3||G>=3)?ge.SHIFT_JIS:l&&u?U===2&&j===2||$*10>=i?ge.SHIFT_JIS:ge.ISO88591:l?ge.ISO88591:u?ge.SHIFT_JIS:h?ge.UTF8:ge.PLATFORM_DEFAULT_ENCODING}static format(n,...s){let i=-1;function l(h,f,m,w,b,E){if(h==="%%")return"%";if(s[++i]===void 0)return;h=w?parseInt(w.substr(1)):void 0;let j=b?parseInt(b.substr(1)):void 0,D;switch(E){case"s":D=s[i];break;case"c":D=s[i][0];break;case"f":D=parseFloat(s[i]).toFixed(h);break;case"p":D=parseFloat(s[i]).toPrecision(h);break;case"e":D=parseFloat(s[i]).toExponential(h);break;case"x":D=parseInt(s[i]).toString(j||16);break;case"d":D=parseFloat(parseInt(s[i],j||10).toPrecision(h)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(j);let F=parseInt(m),U=m&&m[0]+""=="0"?"0":" ";for(;D.length<F;)D=f!==void 0?D+U:U+D;return D}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,l)}static getBytes(n,s){return Ie.encode(n,s)}static getCharCode(n,s=0){return n.charCodeAt(s)}static getCharAt(n){return String.fromCharCode(n)}}ge.SHIFT_JIS=Y.SJIS.getName(),ge.GB2312="GB2312",ge.ISO88591=Y.ISO8859_1.getName(),ge.EUC_JP="EUC_JP",ge.UTF8=Y.UTF8.getName(),ge.PLATFORM_DEFAULT_ENCODING=ge.UTF8,ge.ASSUME_SHIFT_JIS=!1;class ve{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ge.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,s,i){for(let l=s;s<s+i;l++)this.append(n[l]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,s){this.value=this.value.substr(0,n)+s+this.value.substr(n+1)}substring(n,s){return this.value.substring(n,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,s){this.value=this.value.substr(0,n)+s+this.value.substr(n+s.length)}}class be{constructor(n,s,i,l){if(this.width=n,this.height=s,this.rowSize=i,this.bits=l,s==null&&(s=n),this.height=s,n<1||s<1)throw new v("Both dimensions must be greater than 0");i==null&&(i=Math.floor((n+31)/32)),this.rowSize=i,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const s=n.length,i=n[0].length,l=new be(i,s);for(let u=0;u<s;u++){const h=n[u];for(let f=0;f<i;f++)h[f]&&l.set(f,u)}return l}static parseFromString(n,s,i){if(n===null)throw new v("stringRepresentation cannot be null");const l=new Array(n.length);let u=0,h=0,f=-1,m=0,w=0;for(;w<n.length;)if(n.charAt(w)===`
`||n.charAt(w)==="\r"){if(u>h){if(f===-1)f=u-h;else if(u-h!==f)throw new v("row lengths do not match");h=u,m++}w++}else if(n.substring(w,w+s.length)===s)w+=s.length,l[u]=!0,u++;else if(n.substring(w,w+i.length)===i)w+=i.length,l[u]=!1,u++;else throw new v("illegal character encountered: "+n.substring(w));if(u>h){if(f===-1)f=u-h;else if(u-h!==f)throw new v("row lengths do not match");m++}const b=new be(f,m);for(let E=0;E<u;E++)l[E]&&b.set(Math.floor(E%f),Math.floor(E/f));return b}get(n,s){const i=s*this.rowSize+Math.floor(n/32);return(this.bits[i]>>>(n&31)&1)!==0}set(n,s){const i=s*this.rowSize+Math.floor(n/32);this.bits[i]|=1<<(n&31)&4294967295}unset(n,s){const i=s*this.rowSize+Math.floor(n/32);this.bits[i]&=~(1<<(n&31)&4294967295)}flip(n,s){const i=s*this.rowSize+Math.floor(n/32);this.bits[i]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new v("input matrix dimensions do not match");const s=new O(Math.floor(this.width/32)+1),i=this.rowSize,l=this.bits;for(let u=0,h=this.height;u<h;u++){const f=u*i,m=n.getRow(u,s).getBitArray();for(let w=0;w<i;w++)l[f+w]^=m[w]}}clear(){const n=this.bits,s=n.length;for(let i=0;i<s;i++)n[i]=0}setRegion(n,s,i,l){if(s<0||n<0)throw new v("Left and top must be nonnegative");if(l<1||i<1)throw new v("Height and width must be at least 1");const u=n+i,h=s+l;if(h>this.height||u>this.width)throw new v("The region must fit inside the matrix");const f=this.rowSize,m=this.bits;for(let w=s;w<h;w++){const b=w*f;for(let E=n;E<u;E++)m[b+Math.floor(E/32)]|=1<<(E&31)&4294967295}}getRow(n,s){s==null||s.getSize()<this.width?s=new O(this.width):s.clear();const i=this.rowSize,l=this.bits,u=n*i;for(let h=0;h<i;h++)s.setBulk(h*32,l[u+h]);return s}setRow(n,s){R.arraycopy(s.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),s=this.getHeight();let i=new O(n),l=new O(n);for(let u=0,h=Math.floor((s+1)/2);u<h;u++)i=this.getRow(u,i),l=this.getRow(s-1-u,l),i.reverse(),l.reverse(),this.setRow(u,l),this.setRow(s-1-u,i)}getEnclosingRectangle(){const n=this.width,s=this.height,i=this.rowSize,l=this.bits;let u=n,h=s,f=-1,m=-1;for(let w=0;w<s;w++)for(let b=0;b<i;b++){const E=l[w*i+b];if(E!==0){if(w<h&&(h=w),w>m&&(m=w),b*32<u){let j=0;for(;!(E<<31-j&4294967295);)j++;b*32+j<u&&(u=b*32+j)}if(b*32+31>f){let j=31;for(;!(E>>>j);)j--;b*32+j>f&&(f=b*32+j)}}}return f<u||m<h?null:Int32Array.from([u,h,f-u+1,m-h+1])}getTopLeftOnBit(){const n=this.rowSize,s=this.bits;let i=0;for(;i<s.length&&s[i]===0;)i++;if(i===s.length)return null;const l=i/n;let u=i%n*32;const h=s[i];let f=0;for(;!(h<<31-f&4294967295);)f++;return u+=f,Int32Array.from([u,l])}getBottomRightOnBit(){const n=this.rowSize,s=this.bits;let i=s.length-1;for(;i>=0&&s[i]===0;)i--;if(i<0)return null;const l=Math.floor(i/n);let u=Math.floor(i%n)*32;const h=s[i];let f=31;for(;!(h>>>f);)f--;return u+=f,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof be))return!1;const s=n;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&A.equals(this.bits,s.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+A.hashCode(this.bits),n}toString(n="X ",s="  ",i=`
`){return this.buildToString(n,s,i)}buildToString(n,s,i){let l=new ve;for(let u=0,h=this.height;u<h;u++){for(let f=0,m=this.width;f<m;f++)l.append(this.get(f,u)?n:s);l.append(i)}return l.toString()}clone(){return new be(this.width,this.height,this.rowSize,this.bits.slice())}}class z extends p{static getNotFoundInstance(){return new z}}z.kind="NotFoundException";class ie extends _{constructor(n){super(n),this.luminances=ie.EMPTY,this.buckets=new Int32Array(ie.LUMINANCE_BUCKETS)}getBlackRow(n,s){const i=this.getLuminanceSource(),l=i.getWidth();s==null||s.getSize()<l?s=new O(l):s.clear(),this.initArrays(l);const u=i.getRow(n,this.luminances),h=this.buckets;for(let m=0;m<l;m++)h[(u[m]&255)>>ie.LUMINANCE_SHIFT]++;const f=ie.estimateBlackPoint(h);if(l<3)for(let m=0;m<l;m++)(u[m]&255)<f&&s.set(m);else{let m=u[0]&255,w=u[1]&255;for(let b=1;b<l-1;b++){const E=u[b+1]&255;(w*4-m-E)/2<f&&s.set(b),m=w,w=E}}return s}getBlackMatrix(){const n=this.getLuminanceSource(),s=n.getWidth(),i=n.getHeight(),l=new be(s,i);this.initArrays(s);const u=this.buckets;for(let m=1;m<5;m++){const w=Math.floor(i*m/5),b=n.getRow(w,this.luminances),E=Math.floor(s*4/5);for(let j=Math.floor(s/5);j<E;j++){const D=b[j]&255;u[D>>ie.LUMINANCE_SHIFT]++}}const h=ie.estimateBlackPoint(u),f=n.getMatrix();for(let m=0;m<i;m++){const w=m*s;for(let b=0;b<s;b++)(f[w+b]&255)<h&&l.set(b,m)}return l}createBinarizer(n){return new ie(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const s=this.buckets;for(let i=0;i<ie.LUMINANCE_BUCKETS;i++)s[i]=0}static estimateBlackPoint(n){const s=n.length;let i=0,l=0,u=0;for(let b=0;b<s;b++)n[b]>u&&(l=b,u=n[b]),n[b]>i&&(i=n[b]);let h=0,f=0;for(let b=0;b<s;b++){const E=b-l,j=n[b]*E*E;j>f&&(h=b,f=j)}if(l>h){const b=l;l=h,h=b}if(h-l<=s/16)throw new z;let m=h-1,w=-1;for(let b=h-1;b>l;b--){const E=b-l,j=E*E*(h-b)*(i-n[b]);j>w&&(m=b,w=j)}return m<<ie.LUMINANCE_SHIFT}}ie.LUMINANCE_BITS=5,ie.LUMINANCE_SHIFT=8-ie.LUMINANCE_BITS,ie.LUMINANCE_BUCKETS=1<<ie.LUMINANCE_BITS,ie.EMPTY=Uint8ClampedArray.from([0]);class Ne extends ie{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),s=n.getWidth(),i=n.getHeight();if(s>=Ne.MINIMUM_DIMENSION&&i>=Ne.MINIMUM_DIMENSION){const l=n.getMatrix();let u=s>>Ne.BLOCK_SIZE_POWER;s&Ne.BLOCK_SIZE_MASK&&u++;let h=i>>Ne.BLOCK_SIZE_POWER;i&Ne.BLOCK_SIZE_MASK&&h++;const f=Ne.calculateBlackPoints(l,u,h,s,i),m=new be(s,i);Ne.calculateThresholdForBlock(l,u,h,s,i,f,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new Ne(n)}static calculateThresholdForBlock(n,s,i,l,u,h,f){const m=u-Ne.BLOCK_SIZE,w=l-Ne.BLOCK_SIZE;for(let b=0;b<i;b++){let E=b<<Ne.BLOCK_SIZE_POWER;E>m&&(E=m);const j=Ne.cap(b,2,i-3);for(let D=0;D<s;D++){let F=D<<Ne.BLOCK_SIZE_POWER;F>w&&(F=w);const U=Ne.cap(D,2,s-3);let G=0;for(let de=-2;de<=2;de++){const fe=h[j+de];G+=fe[U-2]+fe[U-1]+fe[U]+fe[U+1]+fe[U+2]}const $=G/25;Ne.thresholdBlock(n,F,E,$,l,f)}}}static cap(n,s,i){return n<s?s:n>i?i:n}static thresholdBlock(n,s,i,l,u,h){for(let f=0,m=i*u+s;f<Ne.BLOCK_SIZE;f++,m+=u)for(let w=0;w<Ne.BLOCK_SIZE;w++)(n[m+w]&255)<=l&&h.set(s+w,i+f)}static calculateBlackPoints(n,s,i,l,u){const h=u-Ne.BLOCK_SIZE,f=l-Ne.BLOCK_SIZE,m=new Array(i);for(let w=0;w<i;w++){m[w]=new Int32Array(s);let b=w<<Ne.BLOCK_SIZE_POWER;b>h&&(b=h);for(let E=0;E<s;E++){let j=E<<Ne.BLOCK_SIZE_POWER;j>f&&(j=f);let D=0,F=255,U=0;for(let $=0,de=b*l+j;$<Ne.BLOCK_SIZE;$++,de+=l){for(let fe=0;fe<Ne.BLOCK_SIZE;fe++){const oe=n[de+fe]&255;D+=oe,oe<F&&(F=oe),oe>U&&(U=oe)}if(U-F>Ne.MIN_DYNAMIC_RANGE)for($++,de+=l;$<Ne.BLOCK_SIZE;$++,de+=l)for(let fe=0;fe<Ne.BLOCK_SIZE;fe++)D+=n[de+fe]&255}let G=D>>Ne.BLOCK_SIZE_POWER*2;if(U-F<=Ne.MIN_DYNAMIC_RANGE&&(G=F/2,w>0&&E>0)){const $=(m[w-1][E]+2*m[w][E-1]+m[w-1][E-1])/4;F<$&&(G=$)}m[w][E]=G}}return m}}Ne.BLOCK_SIZE_POWER=3,Ne.BLOCK_SIZE=1<<Ne.BLOCK_SIZE_POWER,Ne.BLOCK_SIZE_MASK=Ne.BLOCK_SIZE-1,Ne.MINIMUM_DIMENSION=Ne.BLOCK_SIZE*5,Ne.MIN_DYNAMIC_RANGE=24;class ae{constructor(n,s){this.width=n,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,s,i,l){throw new xe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new xe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new xe("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let s=new ve;for(let i=0;i<this.height;i++){const l=this.getRow(i,n);for(let u=0;u<this.width;u++){const h=l[u]&255;let f;h<64?f="#":h<128?f="+":h<192?f=".":f=" ",s.append(f)}s.append(`
`)}return s.toString()}}class Ce extends ae{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,s){const i=this.delegate.getRow(n,s),l=this.getWidth();for(let u=0;u<l;u++)i[u]=255-(i[u]&255);return i}getMatrix(){const n=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(s);for(let l=0;l<s;l++)i[l]=255-(n[l]&255);return i}isCropSupported(){return this.delegate.isCropSupported()}crop(n,s,i,l){return new Ce(this.delegate.crop(n,s,i,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ce(this.delegate.rotateCounterClockwise45())}}class W extends ae{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=W.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const s=n.getContext("2d").getImageData(0,0,n.width,n.height);return W.toGrayscaleBuffer(s.data,n.width,n.height)}static toGrayscaleBuffer(n,s,i){const l=new Uint8ClampedArray(s*i);for(let u=0,h=0,f=n.length;u<f;u+=4,h++){let m;if(n[u+3]===0)m=255;else{const b=n[u],E=n[u+1],j=n[u+2];m=306*b+601*E+117*j+512>>10}l[h]=m}return l}getRow(n,s){if(n<0||n>=this.getHeight())throw new v("Requested row is outside the image: "+n);const i=this.getWidth(),l=n*i;return s===null?s=this.buffer.slice(l,l+i):(s.length<i&&(s=new Uint8ClampedArray(i)),s.set(this.buffer.slice(l,l+i))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,s,i,l){return super.crop(n,s,i,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const s=this.getTempCanvasElement(),i=s.getContext("2d"),l=n*W.DEGREE_TO_RADIANS,u=this.canvas.width,h=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*h),m=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*h);return s.width=f,s.height=m,i.translate(f/2,m/2),i.rotate(l),i.drawImage(this.canvas,u/-2,h/-2),this.buffer=W.makeBufferFromCanvasImageData(s),this}invert(){return new Ce(this)}}W.DEGREE_TO_RADIANS=Math.PI/180;class ce{constructor(n,s,i){this.deviceId=n,this.label=s,this.kind="videoinput",this.groupId=i||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var se=(globalThis||Ti||self||window||void 0)&&(globalThis||Ti||self||window||void 0).__awaiter||function(C,n,s,i){function l(u){return u instanceof s?u:new s(function(h){h(u)})}return new(s||(s=Promise))(function(u,h){function f(b){try{w(i.next(b))}catch(E){h(E)}}function m(b){try{w(i.throw(b))}catch(E){h(E)}}function w(b){b.done?u(b.value):l(b.value).then(f,m)}w((i=i.apply(C,n||[])).next())})};class te{constructor(n,s=500,i){this.reader=n,this.timeBetweenScansMillis=s,this._hints=i,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const i of n){const l=i.kind==="video"?"videoinput":i.kind;if(l!=="videoinput")continue;const u=i.deviceId||i.id,h=i.label||`Video device ${s.length+1}`,f=i.groupId,m={deviceId:u,label:h,kind:l,groupId:f};s.push(m)}return s})}getVideoInputDevices(){return se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new ce(s.deviceId,s.label))})}findDeviceById(n){return se(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(i=>i.deviceId===n):null})}decodeFromInputVideoDevice(n,s){return se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,s)})}decodeOnceFromVideoDevice(n,s){return se(this,void 0,void 0,function*(){this.reset();let i;n?i={deviceId:{exact:n}}:i={facingMode:"environment"};const l={video:i};return yield this.decodeOnceFromConstraints(l,s)})}decodeOnceFromConstraints(n,s){return se(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(i,s)})}decodeOnceFromStream(n,s){return se(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(n,s);return yield this.decodeOnce(i)})}decodeFromInputVideoDeviceContinuously(n,s,i){return se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,s,i)})}decodeFromVideoDevice(n,s,i){return se(this,void 0,void 0,function*(){let l;n?l={deviceId:{exact:n}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,s,i)})}decodeFromConstraints(n,s,i){return se(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(l,s,i)})}decodeFromStream(n,s,i){return se(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(n,s);return yield this.decodeContinuously(l,i)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,s){return se(this,void 0,void 0,function*(){const i=this.prepareVideoElement(s);return this.addVideoSource(i,n),this.videoElement=i,this.stream=n,yield this.playVideoOnLoadAsync(i),i})}playVideoOnLoadAsync(n){return new Promise((s,i)=>this.playVideoOnLoad(n,()=>s()))}playVideoOnLoad(n,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",s),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return se(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,s){const i=document.getElementById(n);if(!i)throw new N(`element with id '${n}' not found`);if(i.nodeName.toLowerCase()!==s.toLowerCase())throw new N(`element with id '${n}' must be an ${s} element`);return i}decodeFromImage(n,s){if(!n&&!s)throw new N("either imageElement with a src set or an url must be provided");return s&&!n?this.decodeFromImageUrl(s):this.decodeFromImageElement(n)}decodeFromVideo(n,s){if(!n&&!s)throw new N("Either an element with a src set or an URL must be provided");return s&&!n?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,s,i){if(n===void 0&&s===void 0)throw new N("Either an element with a src set or an URL must be provided");return s&&!n?this.decodeFromVideoUrlContinuously(s,i):this.decodeFromVideoElementContinuously(n,i)}decodeFromImageElement(n){if(!n)throw new N("An image element must be provided.");this.reset();const s=this.prepareImageElement(n);this.imageElement=s;let i;return this.isImageLoaded(s)?i=this.decodeOnce(s,!1,!0):i=this._decodeOnLoadImage(s),i}decodeFromVideoElement(n){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(n,s){const i=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(i,s)}_decodeFromVideoElementSetup(n){if(!n)throw new N("A video element must be provided.");this.reset();const s=this.prepareVideoElement(n);return this.videoElement=s,s}decodeFromImageUrl(n){if(!n)throw new N("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const i=this._decodeOnLoadImage(s);return s.src=n,i}decodeFromVideoUrl(n){if(!n)throw new N("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),i=this.decodeFromVideoElement(s);return s.src=n,i}decodeFromVideoUrlContinuously(n,s){if(!n)throw new N("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(i,s);return i.src=n,l}_decodeOnLoadImage(n){return new Promise((s,i)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(s,i),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,s){return se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,s)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let s;return typeof n>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof n=="string"&&(s=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(s=n),s}prepareVideoElement(n){let s;return!n&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof n=="string"&&(s=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(s=n),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(n,s=!0,i=!0){this._stopAsyncDecode=!1;const l=(u,h)=>{if(this._stopAsyncDecode){h(new z("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(n);u(f)}catch(f){const m=s&&f instanceof z,b=(f instanceof k||f instanceof P)&&i;if(m||b)return setTimeout(l,this._timeBetweenDecodingAttempts,u,h);h(f)}};return new Promise((u,h)=>l(u,h))}decodeContinuously(n,s){this._stopContinuousDecode=!1;const i=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(n);s(l,null),setTimeout(i,this.timeBetweenScansMillis)}catch(l){s(null,l);const u=l instanceof k||l instanceof P,h=l instanceof z;(u||h)&&setTimeout(i,this._timeBetweenDecodingAttempts)}};i()}decode(n){const s=this.createBinaryBitmap(n);return this.decodeBitmap(s)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,s,i){s||(s={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),i||(i=this.captureCanvasContext),i.drawImage(n,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(n,s,i=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),i||(i=this.captureCanvasContext),i.drawImage(n,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const s=this.getCaptureCanvas(n),i=new W(s),l=new Ne(i);return new I(l)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const i=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=i}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const s=this.createCaptureCanvas(n);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let i,l;return typeof n<"u"&&(n instanceof HTMLVideoElement?(i=n.videoWidth,l=n.videoHeight):n instanceof HTMLImageElement&&(i=n.naturalWidth||n.width,l=n.naturalHeight||n.height)),s.style.width=i+"px",s.style.height=l+"px",s.width=i,s.height=l,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,s){try{n.srcObject=s}catch{n.src=URL.createObjectURL(s)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class ne{constructor(n,s,i=s==null?0:8*s.length,l,u,h=R.currentTimeMillis()){this.text=n,this.rawBytes=s,this.numBits=i,this.resultPoints=l,this.format=u,this.timestamp=h,this.text=n,this.rawBytes=s,i==null?this.numBits=s==null?0:8*s.length:this.numBits=i,this.resultPoints=l,this.format=u,this.resultMetadata=null,h==null?this.timestamp=R.currentTimeMillis():this.timestamp=h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,s)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const s=this.resultPoints;if(s===null)this.resultPoints=n;else if(n!==null&&n.length>0){const i=new Array(s.length+n.length);R.arraycopy(s,0,i,0,s.length),R.arraycopy(n,0,i,s.length,n.length),this.resultPoints=i}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Te;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Te||(Te={}));var ee=Te,H;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(H||(H={}));var le=H;class pe{constructor(n,s,i,l,u=-1,h=-1){this.rawBytes=n,this.text=s,this.byteSegments=i,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=h,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class X{exp(n){return this.expTable[n]}log(n){if(n===0)throw new v;return this.logTable[n]}static addOrSubtract(n,s){return n^s}}class he{constructor(n,s){if(s.length===0)throw new v;this.field=n;const i=s.length;if(i>1&&s[0]===0){let l=1;for(;l<i&&s[l]===0;)l++;l===i?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(i-l),R.arraycopy(s,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const s=this.coefficients;let i;if(n===1){i=0;for(let h=0,f=s.length;h!==f;h++){const m=s[h];i=X.addOrSubtract(i,m)}return i}i=s[0];const l=s.length,u=this.field;for(let h=1;h<l;h++)i=X.addOrSubtract(u.multiply(n,i),s[h]);return i}addOrSubtract(n){if(!this.field.equals(n.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let s=this.coefficients,i=n.coefficients;if(s.length>i.length){const h=s;s=i,i=h}let l=new Int32Array(i.length);const u=i.length-s.length;R.arraycopy(i,0,l,0,u);for(let h=u;h<i.length;h++)l[h]=X.addOrSubtract(s[h-u],i[h]);return new he(this.field,l)}multiply(n){if(!this.field.equals(n.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const s=this.coefficients,i=s.length,l=n.coefficients,u=l.length,h=new Int32Array(i+u-1),f=this.field;for(let m=0;m<i;m++){const w=s[m];for(let b=0;b<u;b++)h[m+b]=X.addOrSubtract(h[m+b],f.multiply(w,l[b]))}return new he(f,h)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const s=this.coefficients.length,i=this.field,l=new Int32Array(s),u=this.coefficients;for(let h=0;h<s;h++)l[h]=i.multiply(u[h],n);return new he(i,l)}multiplyByMonomial(n,s){if(n<0)throw new v;if(s===0)return this.field.getZero();const i=this.coefficients,l=i.length,u=new Int32Array(l+n),h=this.field;for(let f=0;f<l;f++)u[f]=h.multiply(i[f],s);return new he(h,u)}divide(n){if(!this.field.equals(n.field))throw new v("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new v("Divide by 0");const s=this.field;let i=s.getZero(),l=this;const u=n.getCoefficient(n.getDegree()),h=s.inverse(u);for(;l.getDegree()>=n.getDegree()&&!l.isZero();){const f=l.getDegree()-n.getDegree(),m=s.multiply(l.getCoefficient(l.getDegree()),h),w=n.multiplyByMonomial(f,m),b=s.buildMonomial(f,m);i=i.addOrSubtract(b),l=l.addOrSubtract(w)}return[i,l]}toString(){let n="";for(let s=this.getDegree();s>=0;s--){let i=this.getCoefficient(s);if(i!==0){if(i<0?(n+=" - ",i=-i):n.length>0&&(n+=" + "),s===0||i!==1){const l=this.field.log(i);l===0?n+="1":l===1?n+="a":(n+="a^",n+=l)}s!==0&&(s===1?n+="x":(n+="x^",n+=s))}}return n}}class we extends p{}we.kind="ArithmeticException";class me extends X{constructor(n,s,i){super(),this.primitive=n,this.size=s,this.generatorBase=i;const l=new Int32Array(s);let u=1;for(let f=0;f<s;f++)l[f]=u,u*=2,u>=s&&(u^=n,u&=s-1);this.expTable=l;const h=new Int32Array(s);for(let f=0;f<s-1;f++)h[l[f]]=f;this.logTable=h,this.zero=new he(this,Int32Array.from([0])),this.one=new he(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,s){if(n<0)throw new v;if(s===0)return this.zero;const i=new Int32Array(n+1);return i[0]=s,new he(this,i)}inverse(n){if(n===0)throw new we;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,s){return n===0||s===0?0:this.expTable[(this.logTable[n]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}me.AZTEC_DATA_12=new me(4201,4096,1),me.AZTEC_DATA_10=new me(1033,1024,1),me.AZTEC_DATA_6=new me(67,64,1),me.AZTEC_PARAM=new me(19,16,1),me.QR_CODE_FIELD_256=new me(285,256,0),me.DATA_MATRIX_FIELD_256=new me(301,256,1),me.AZTEC_DATA_8=me.DATA_MATRIX_FIELD_256,me.MAXICODE_FIELD_64=me.AZTEC_DATA_6;class Re extends p{}Re.kind="ReedSolomonException";class Ve extends p{}Ve.kind="IllegalStateException";class ze{constructor(n){this.field=n}decode(n,s){const i=this.field,l=new he(i,n),u=new Int32Array(s);let h=!0;for(let D=0;D<s;D++){const F=l.evaluateAt(i.exp(D+i.getGeneratorBase()));u[u.length-1-D]=F,F!==0&&(h=!1)}if(h)return;const f=new he(i,u),m=this.runEuclideanAlgorithm(i.buildMonomial(s,1),f,s),w=m[0],b=m[1],E=this.findErrorLocations(w),j=this.findErrorMagnitudes(b,E);for(let D=0;D<E.length;D++){const F=n.length-1-i.log(E[D]);if(F<0)throw new Re("Bad error location");n[F]=me.addOrSubtract(n[F],j[D])}}runEuclideanAlgorithm(n,s,i){if(n.getDegree()<s.getDegree()){const D=n;n=s,s=D}const l=this.field;let u=n,h=s,f=l.getZero(),m=l.getOne();for(;h.getDegree()>=(i/2|0);){let D=u,F=f;if(u=h,f=m,u.isZero())throw new Re("r_{i-1} was zero");h=D;let U=l.getZero();const G=u.getCoefficient(u.getDegree()),$=l.inverse(G);for(;h.getDegree()>=u.getDegree()&&!h.isZero();){const de=h.getDegree()-u.getDegree(),fe=l.multiply(h.getCoefficient(h.getDegree()),$);U=U.addOrSubtract(l.buildMonomial(de,fe)),h=h.addOrSubtract(u.multiplyByMonomial(de,fe))}if(m=U.multiply(f).addOrSubtract(F),h.getDegree()>=u.getDegree())throw new Ve("Division algorithm failed to reduce polynomial?")}const w=m.getCoefficient(0);if(w===0)throw new Re("sigmaTilde(0) was zero");const b=l.inverse(w),E=m.multiplyScalar(b),j=h.multiplyScalar(b);return[E,j]}findErrorLocations(n){const s=n.getDegree();if(s===1)return Int32Array.from([n.getCoefficient(1)]);const i=new Int32Array(s);let l=0;const u=this.field;for(let h=1;h<u.getSize()&&l<s;h++)n.evaluateAt(h)===0&&(i[l]=u.inverse(h),l++);if(l!==s)throw new Re("Error locator degree does not match number of roots");return i}findErrorMagnitudes(n,s){const i=s.length,l=new Int32Array(i),u=this.field;for(let h=0;h<i;h++){const f=u.inverse(s[h]);let m=1;for(let w=0;w<i;w++)if(h!==w){const b=u.multiply(s[w],f),E=b&1?b&-2:b|1;m=u.multiply(m,E)}l[h]=u.multiply(n.evaluateAt(f),u.inverse(m)),u.getGeneratorBase()!==0&&(l[h]=u.multiply(l[h],f))}return l}}var at;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(at||(at={}));class Ze{decode(n){this.ddata=n;let s=n.getBits(),i=this.extractBits(s),l=this.correctBits(i),u=Ze.convertBoolArrayToByteArray(l),h=Ze.getEncodedData(l),f=new pe(u,h,null,null);return f.setNumBits(l.length),f}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let s=n.length,i=at.UPPER,l=at.UPPER,u="",h=0;for(;h<s;)if(l===at.BINARY){if(s-h<5)break;let f=Ze.readCode(n,h,5);if(h+=5,f===0){if(s-h<11)break;f=Ze.readCode(n,h,11)+31,h+=11}for(let m=0;m<f;m++){if(s-h<8){h=s;break}const w=Ze.readCode(n,h,8);u+=ge.castAsNonUtf8Char(w),h+=8}l=i}else{let f=l===at.DIGIT?4:5;if(s-h<f)break;let m=Ze.readCode(n,h,f);h+=f;let w=Ze.getCharacter(l,m);w.startsWith("CTRL_")?(i=l,l=Ze.getTable(w.charAt(5)),w.charAt(6)==="L"&&(i=l)):(u+=w,l=i)}return u}static getTable(n){switch(n){case"L":return at.LOWER;case"P":return at.PUNCT;case"M":return at.MIXED;case"D":return at.DIGIT;case"B":return at.BINARY;case"U":default:return at.UPPER}}static getCharacter(n,s){switch(n){case at.UPPER:return Ze.UPPER_TABLE[s];case at.LOWER:return Ze.LOWER_TABLE[s];case at.MIXED:return Ze.MIXED_TABLE[s];case at.PUNCT:return Ze.PUNCT_TABLE[s];case at.DIGIT:return Ze.DIGIT_TABLE[s];default:throw new Ve("Bad table")}}correctBits(n){let s,i;this.ddata.getNbLayers()<=2?(i=6,s=me.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(i=8,s=me.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(i=10,s=me.AZTEC_DATA_10):(i=12,s=me.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=n.length/i;if(u<l)throw new P;let h=n.length%i,f=new Int32Array(u);for(let j=0;j<u;j++,h+=i)f[j]=Ze.readCode(n,h,i);try{new ze(s).decode(f,u-l)}catch(j){throw new P(j)}let m=(1<<i)-1,w=0;for(let j=0;j<l;j++){let D=f[j];if(D===0||D===m)throw new P;(D===1||D===m-1)&&w++}let b=new Array(l*i-w),E=0;for(let j=0;j<l;j++){let D=f[j];if(D===1||D===m-1)b.fill(D>1,E,E+i-1),E+=i-1;else for(let F=i-1;F>=0;--F)b[E++]=(D&1<<F)!==0}return b}extractBits(n){let s=this.ddata.isCompact(),i=this.ddata.getNbLayers(),l=(s?11:14)+i*4,u=new Int32Array(l),h=new Array(this.totalBitsInLayer(i,s));if(s)for(let f=0;f<u.length;f++)u[f]=f;else{let f=l+1+2*T.truncDivision(T.truncDivision(l,2)-1,15),m=l/2,w=T.truncDivision(f,2);for(let b=0;b<m;b++){let E=b+T.truncDivision(b,15);u[m-b-1]=w-E-1,u[m+b]=w+E+1}}for(let f=0,m=0;f<i;f++){let w=(i-f)*4+(s?9:12),b=f*2,E=l-1-b;for(let j=0;j<w;j++){let D=j*2;for(let F=0;F<2;F++)h[m+D+F]=n.get(u[b+F],u[b+j]),h[m+2*w+D+F]=n.get(u[b+j],u[E-F]),h[m+4*w+D+F]=n.get(u[E-F],u[E-j]),h[m+6*w+D+F]=n.get(u[E-j],u[b+F])}m+=w*8}return h}static readCode(n,s,i){let l=0;for(let u=s;u<s+i;u++)l<<=1,n[u]&&(l|=1);return l}static readByte(n,s){let i=n.length-s;return i>=8?Ze.readCode(n,s,8):Ze.readCode(n,s,i)<<8-i}static convertBoolArrayToByteArray(n){let s=new Uint8Array((n.length+7)/8);for(let i=0;i<s.length;i++)s[i]=Ze.readByte(n,8*i);return s}totalBitsInLayer(n,s){return((s?88:112)+16*n)*n}}Ze.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ze.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ze.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ze.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Qe{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,s,i,l){const u=n-i,h=s-l;return Math.sqrt(u*u+h*h)}static sum(n){let s=0;for(let i=0,l=n.length;i!==l;i++){const u=n[i];s+=u}return s}}class Io{static floatToIntBits(n){return n}}Io.MAX_VALUE=Number.MAX_SAFE_INTEGER;class je{constructor(n,s){this.x=n,this.y=s}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof je){const s=n;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Io.floatToIntBits(this.x)+Io.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const s=this.distance(n[0],n[1]),i=this.distance(n[1],n[2]),l=this.distance(n[0],n[2]);let u,h,f;if(i>=s&&i>=l?(h=n[0],u=n[1],f=n[2]):l>=i&&l>=s?(h=n[1],u=n[0],f=n[2]):(h=n[2],u=n[0],f=n[1]),this.crossProductZ(u,h,f)<0){const m=u;u=f,f=m}n[0]=u,n[1]=h,n[2]=f}static distance(n,s){return Qe.distance(n.x,n.y,s.x,s.y)}static crossProductZ(n,s,i){const l=s.x,u=s.y;return(i.x-l)*(n.y-u)-(i.y-u)*(n.x-l)}}class ko{constructor(n,s){this.bits=n,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Zd extends ko{constructor(n,s,i,l,u){super(n,s),this.compact=i,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class lr{constructor(n,s,i,l){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),s==null&&(s=lr.INIT_SIZE),i==null&&(i=n.getWidth()/2|0),l==null&&(l=n.getHeight()/2|0);const u=s/2|0;if(this.leftInit=i-u,this.rightInit=i+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new z}detect(){let n=this.leftInit,s=this.rightInit,i=this.upInit,l=this.downInit,u=!1,h=!0,f=!1,m=!1,w=!1,b=!1,E=!1;const j=this.width,D=this.height;for(;h;){h=!1;let F=!0;for(;(F||!m)&&s<j;)F=this.containsBlackPoint(i,l,s,!1),F?(s++,h=!0,m=!0):m||s++;if(s>=j){u=!0;break}let U=!0;for(;(U||!w)&&l<D;)U=this.containsBlackPoint(n,s,l,!0),U?(l++,h=!0,w=!0):w||l++;if(l>=D){u=!0;break}let G=!0;for(;(G||!b)&&n>=0;)G=this.containsBlackPoint(i,l,n,!1),G?(n--,h=!0,b=!0):b||n--;if(n<0){u=!0;break}let $=!0;for(;($||!E)&&i>=0;)$=this.containsBlackPoint(n,s,i,!0),$?(i--,h=!0,E=!0):E||i--;if(i<0){u=!0;break}h&&(f=!0)}if(!u&&f){const F=s-n;let U=null;for(let fe=1;U===null&&fe<F;fe++)U=this.getBlackPointOnSegment(n,l-fe,n+fe,l);if(U==null)throw new z;let G=null;for(let fe=1;G===null&&fe<F;fe++)G=this.getBlackPointOnSegment(n,i+fe,n+fe,i);if(G==null)throw new z;let $=null;for(let fe=1;$===null&&fe<F;fe++)$=this.getBlackPointOnSegment(s,i+fe,s-fe,i);if($==null)throw new z;let de=null;for(let fe=1;de===null&&fe<F;fe++)de=this.getBlackPointOnSegment(s,l-fe,s-fe,l);if(de==null)throw new z;return this.centerEdges(de,U,$,G)}else throw new z}getBlackPointOnSegment(n,s,i,l){const u=Qe.round(Qe.distance(n,s,i,l)),h=(i-n)/u,f=(l-s)/u,m=this.image;for(let w=0;w<u;w++){const b=Qe.round(n+w*h),E=Qe.round(s+w*f);if(m.get(b,E))return new je(b,E)}return null}centerEdges(n,s,i,l){const u=n.getX(),h=n.getY(),f=s.getX(),m=s.getY(),w=i.getX(),b=i.getY(),E=l.getX(),j=l.getY(),D=lr.CORR;return u<this.width/2?[new je(E-D,j+D),new je(f+D,m+D),new je(w-D,b-D),new je(u+D,h-D)]:[new je(E+D,j+D),new je(f+D,m-D),new je(w-D,b+D),new je(u-D,h-D)]}containsBlackPoint(n,s,i,l){const u=this.image;if(l){for(let h=n;h<=s;h++)if(u.get(h,i))return!0}else for(let h=n;h<=s;h++)if(u.get(i,h))return!0;return!1}}lr.INIT_SIZE=10,lr.CORR=1;class kl{static checkAndNudgePoints(n,s){const i=n.getWidth(),l=n.getHeight();let u=!0;for(let h=0;h<s.length&&u;h+=2){const f=Math.floor(s[h]),m=Math.floor(s[h+1]);if(f<-1||f>i||m<-1||m>l)throw new z;u=!1,f===-1?(s[h]=0,u=!0):f===i&&(s[h]=i-1,u=!0),m===-1?(s[h+1]=0,u=!0):m===l&&(s[h+1]=l-1,u=!0)}u=!0;for(let h=s.length-2;h>=0&&u;h-=2){const f=Math.floor(s[h]),m=Math.floor(s[h+1]);if(f<-1||f>i||m<-1||m>l)throw new z;u=!1,f===-1?(s[h]=0,u=!0):f===i&&(s[h]=i-1,u=!0),m===-1?(s[h+1]=0,u=!0):m===l&&(s[h+1]=l-1,u=!0)}}}class Bn{constructor(n,s,i,l,u,h,f,m,w){this.a11=n,this.a21=s,this.a31=i,this.a12=l,this.a22=u,this.a32=h,this.a13=f,this.a23=m,this.a33=w}static quadrilateralToQuadrilateral(n,s,i,l,u,h,f,m,w,b,E,j,D,F,U,G){const $=Bn.quadrilateralToSquare(n,s,i,l,u,h,f,m);return Bn.squareToQuadrilateral(w,b,E,j,D,F,U,G).times($)}transformPoints(n){const s=n.length,i=this.a11,l=this.a12,u=this.a13,h=this.a21,f=this.a22,m=this.a23,w=this.a31,b=this.a32,E=this.a33;for(let j=0;j<s;j+=2){const D=n[j],F=n[j+1],U=u*D+m*F+E;n[j]=(i*D+h*F+w)/U,n[j+1]=(l*D+f*F+b)/U}}transformPointsWithValues(n,s){const i=this.a11,l=this.a12,u=this.a13,h=this.a21,f=this.a22,m=this.a23,w=this.a31,b=this.a32,E=this.a33,j=n.length;for(let D=0;D<j;D++){const F=n[D],U=s[D],G=u*F+m*U+E;n[D]=(i*F+h*U+w)/G,s[D]=(l*F+f*U+b)/G}}static squareToQuadrilateral(n,s,i,l,u,h,f,m){const w=n-i+u-f,b=s-l+h-m;if(w===0&&b===0)return new Bn(i-n,u-i,n,l-s,h-l,s,0,0,1);{const E=i-u,j=f-u,D=l-h,F=m-h,U=E*F-j*D,G=(w*F-j*b)/U,$=(E*b-w*D)/U;return new Bn(i-n+G*i,f-n+$*f,n,l-s+G*l,m-s+$*m,s,G,$,1)}}static quadrilateralToSquare(n,s,i,l,u,h,f,m){return Bn.squareToQuadrilateral(n,s,i,l,u,h,f,m).buildAdjoint()}buildAdjoint(){return new Bn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new Bn(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class $d extends kl{sampleGrid(n,s,i,l,u,h,f,m,w,b,E,j,D,F,U,G,$,de,fe){const oe=Bn.quadrilateralToQuadrilateral(l,u,h,f,m,w,b,E,j,D,F,U,G,$,de,fe);return this.sampleGridWithTransform(n,s,i,oe)}sampleGridWithTransform(n,s,i,l){if(s<=0||i<=0)throw new z;const u=new be(s,i),h=new Float32Array(2*s);for(let f=0;f<i;f++){const m=h.length,w=f+.5;for(let b=0;b<m;b+=2)h[b]=b/2+.5,h[b+1]=w;l.transformPoints(h),kl.checkAndNudgePoints(n,h);try{for(let b=0;b<m;b+=2)n.get(Math.floor(h[b]),Math.floor(h[b+1]))&&u.set(b/2,f)}catch{throw new z}}return u}}class Cr{static setGridSampler(n){Cr.gridSampler=n}static getInstance(){return Cr.gridSampler}}Cr.gridSampler=new $d;class Jt{constructor(n,s){this.x=n,this.y=s}toResultPoint(){return new je(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Jd{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let s=this.getMatrixCenter(),i=this.getBullsEyeCorners(s);if(n){let h=i[0];i[0]=i[2],i[2]=h}this.extractParameters(i);let l=this.sampleGrid(this.image,i[this.shift%4],i[(this.shift+1)%4],i[(this.shift+2)%4],i[(this.shift+3)%4]),u=this.getMatrixCornerPoints(i);return new Zd(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new z;let s=2*this.nbCenterLayers,i=new Int32Array([this.sampleLine(n[0],n[1],s),this.sampleLine(n[1],n[2],s),this.sampleLine(n[2],n[3],s),this.sampleLine(n[3],n[0],s)]);this.shift=this.getRotation(i,s);let l=0;for(let h=0;h<4;h++){let f=i[(this.shift+h)%4];this.compact?(l<<=7,l+=f>>1&127):(l<<=10,l+=(f>>2&992)+(f>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(n,s){let i=0;n.forEach((l,u,h)=>{let f=(l>>s-2<<1)+(l&1);i=(i<<3)+f}),i=((i&1)<<11)+(i>>1);for(let l=0;l<4;l++)if(T.bitCount(i^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new z}getCorrectedParameterData(n,s){let i,l;s?(i=7,l=2):(i=10,l=4);let u=i-l,h=new Int32Array(i);for(let m=i-1;m>=0;--m)h[m]=n&15,n>>=4;try{new ze(me.AZTEC_PARAM).decode(h,u)}catch{throw new z}let f=0;for(let m=0;m<l;m++)f=(f<<4)+h[m];return f}getBullsEyeCorners(n){let s=n,i=n,l=n,u=n,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let E=this.getFirstDifferent(s,h,1,-1),j=this.getFirstDifferent(i,h,1,1),D=this.getFirstDifferent(l,h,-1,1),F=this.getFirstDifferent(u,h,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(F,E)*this.nbCenterLayers/(this.distancePoint(u,s)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(E,j,D,F))break}s=E,i=j,l=D,u=F,h=!h}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new z;this.compact=this.nbCenterLayers===5;let f=new je(s.getX()+.5,s.getY()-.5),m=new je(i.getX()+.5,i.getY()+.5),w=new je(l.getX()-.5,l.getY()+.5),b=new je(u.getX()-.5,u.getY()-.5);return this.expandSquare([f,m,w,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,s,i,l;try{let f=new lr(this.image).detect();n=f[0],s=f[1],i=f[2],l=f[3]}catch{let m=this.image.getWidth()/2,w=this.image.getHeight()/2;n=this.getFirstDifferent(new Jt(m+7,w-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Jt(m+7,w+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Jt(m-7,w+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Jt(m-7,w-7),!1,-1,-1).toResultPoint()}let u=Qe.round((n.getX()+l.getX()+s.getX()+i.getX())/4),h=Qe.round((n.getY()+l.getY()+s.getY()+i.getY())/4);try{let f=new lr(this.image,15,u,h).detect();n=f[0],s=f[1],i=f[2],l=f[3]}catch{n=this.getFirstDifferent(new Jt(u+7,h-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Jt(u+7,h+7),!1,1,1).toResultPoint(),i=this.getFirstDifferent(new Jt(u-7,h+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Jt(u-7,h-7),!1,-1,-1).toResultPoint()}return u=Qe.round((n.getX()+l.getX()+s.getX()+i.getX())/4),h=Qe.round((n.getY()+l.getY()+s.getY()+i.getY())/4),new Jt(u,h)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,s,i,l,u){let h=Cr.getInstance(),f=this.getDimension(),m=f/2-this.nbCenterLayers,w=f/2+this.nbCenterLayers;return h.sampleGrid(n,f,f,m,m,w,m,w,w,m,w,s.getX(),s.getY(),i.getX(),i.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(n,s,i){let l=0,u=this.distanceResultPoint(n,s),h=u/i,f=n.getX(),m=n.getY(),w=h*(s.getX()-n.getX())/u,b=h*(s.getY()-n.getY())/u;for(let E=0;E<i;E++)this.image.get(Qe.round(f+E*w),Qe.round(m+E*b))&&(l|=1<<i-E-1);return l}isWhiteOrBlackRectangle(n,s,i,l){let u=3;n=new Jt(n.getX()-u,n.getY()+u),s=new Jt(s.getX()-u,s.getY()-u),i=new Jt(i.getX()+u,i.getY()-u),l=new Jt(l.getX()+u,l.getY()+u);let h=this.getColor(l,n);if(h===0)return!1;let f=this.getColor(n,s);return f!==h||(f=this.getColor(s,i),f!==h)?!1:(f=this.getColor(i,l),f===h)}getColor(n,s){let i=this.distancePoint(n,s),l=(s.getX()-n.getX())/i,u=(s.getY()-n.getY())/i,h=0,f=n.getX(),m=n.getY(),w=this.image.get(n.getX(),n.getY()),b=Math.ceil(i);for(let j=0;j<b;j++)f+=l,m+=u,this.image.get(Qe.round(f),Qe.round(m))!==w&&h++;let E=h/i;return E>.1&&E<.9?0:E<=.1===w?1:-1}getFirstDifferent(n,s,i,l){let u=n.getX()+i,h=n.getY()+l;for(;this.isValid(u,h)&&this.image.get(u,h)===s;)u+=i,h+=l;for(u-=i,h-=l;this.isValid(u,h)&&this.image.get(u,h)===s;)u+=i;for(u-=i;this.isValid(u,h)&&this.image.get(u,h)===s;)h+=l;return h-=l,new Jt(u,h)}expandSquare(n,s,i){let l=i/(2*s),u=n[0].getX()-n[2].getX(),h=n[0].getY()-n[2].getY(),f=(n[0].getX()+n[2].getX())/2,m=(n[0].getY()+n[2].getY())/2,w=new je(f+l*u,m+l*h),b=new je(f-l*u,m-l*h);u=n[1].getX()-n[3].getX(),h=n[1].getY()-n[3].getY(),f=(n[1].getX()+n[3].getX())/2,m=(n[1].getY()+n[3].getY())/2;let E=new je(f+l*u,m+l*h),j=new je(f-l*u,m-l*h);return[w,E,b,j]}isValid(n,s){return n>=0&&n<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(n){let s=Qe.round(n.getX()),i=Qe.round(n.getY());return this.isValid(s,i)}distancePoint(n,s){return Qe.distance(n.getX(),n.getY(),s.getX(),s.getY())}distanceResultPoint(n,s){return Qe.distance(n.getX(),n.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class Ro{decode(n,s=null){let i=null,l=new Jd(n.getBlackMatrix()),u=null,h=null;try{let b=l.detectMirror(!1);u=b.getPoints(),this.reportFoundResultPoints(s,u),h=new Ze().decode(b)}catch(b){i=b}if(h==null)try{let b=l.detectMirror(!0);u=b.getPoints(),this.reportFoundResultPoints(s,u),h=new Ze().decode(b)}catch(b){throw i??b}let f=new ne(h.getText(),h.getRawBytes(),h.getNumBits(),u,ee.AZTEC,R.currentTimeMillis()),m=h.getByteSegments();m!=null&&f.putMetadata(le.BYTE_SEGMENTS,m);let w=h.getECLevel();return w!=null&&f.putMetadata(le.ERROR_CORRECTION_LEVEL,w),f}reportFoundResultPoints(n,s){if(n!=null){let i=n.get(Q.NEED_RESULT_POINT_CALLBACK);i!=null&&s.forEach((l,u,h)=>{i.foundPossibleResultPoint(l)})}}reset(){}}class Em extends te{constructor(n=500){super(new Ro,n)}}class jt{decode(n,s){try{return this.doDecode(n,s)}catch{if(s&&s.get(Q.TRY_HARDER)===!0&&n.isRotateSupported()){const u=n.rotateCounterClockwise(),h=this.doDecode(u,s),f=h.getResultMetadata();let m=270;f!==null&&f.get(le.ORIENTATION)===!0&&(m=m+f.get(le.ORIENTATION)%360),h.putMetadata(le.ORIENTATION,m);const w=h.getResultPoints();if(w!==null){const b=u.getHeight();for(let E=0;E<w.length;E++)w[E]=new je(b-w[E].getY()-1,w[E].getX())}return h}else throw new z}}reset(){}doDecode(n,s){const i=n.getWidth(),l=n.getHeight();let u=new O(i);const h=s&&s.get(Q.TRY_HARDER)===!0,f=Math.max(1,l>>(h?8:5));let m;h?m=l:m=15;const w=Math.trunc(l/2);for(let b=0;b<m;b++){const E=Math.trunc((b+1)/2),j=(b&1)===0,D=w+f*(j?E:-E);if(D<0||D>=l)break;try{u=n.getBlackRow(D,u)}catch{continue}for(let F=0;F<2;F++){if(F===1&&(u.reverse(),s&&s.get(Q.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;s.forEach((G,$)=>U.set($,G)),U.delete(Q.NEED_RESULT_POINT_CALLBACK),s=U}try{const U=this.decodeRow(D,u,s);if(F===1){U.putMetadata(le.ORIENTATION,180);const G=U.getResultPoints();G!==null&&(G[0]=new je(i-G[0].getX()-1,G[0].getY()),G[1]=new je(i-G[1].getX()-1,G[1].getY()))}return U}catch{}}}throw new z}static recordPattern(n,s,i){const l=i.length;for(let w=0;w<l;w++)i[w]=0;const u=n.getSize();if(s>=u)throw new z;let h=!n.get(s),f=0,m=s;for(;m<u;){if(n.get(m)!==h)i[f]++;else{if(++f===l)break;i[f]=1,h=!h}m++}if(!(f===l||f===l-1&&m===u))throw new z}static recordPatternInReverse(n,s,i){let l=i.length,u=n.get(s);for(;s>0&&l>=0;)n.get(--s)!==u&&(l--,u=!u);if(l>=0)throw new z;jt.recordPattern(n,s+1,i)}static patternMatchVariance(n,s,i){const l=n.length;let u=0,h=0;for(let w=0;w<l;w++)u+=n[w],h+=s[w];if(u<h)return Number.POSITIVE_INFINITY;const f=u/h;i*=f;let m=0;for(let w=0;w<l;w++){const b=n[w],E=s[w]*f,j=b>E?b-E:E-b;if(j>i)return Number.POSITIVE_INFINITY;m+=j}return m/u}}class ye extends jt{static findStartPattern(n){const s=n.getSize(),i=n.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),h=i,f=!1;const m=6;for(let w=i;w<s;w++)if(n.get(w)!==f)u[l]++;else{if(l===m-1){let b=ye.MAX_AVG_VARIANCE,E=-1;for(let j=ye.CODE_START_A;j<=ye.CODE_START_C;j++){const D=jt.patternMatchVariance(u,ye.CODE_PATTERNS[j],ye.MAX_INDIVIDUAL_VARIANCE);D<b&&(b=D,E=j)}if(E>=0&&n.isRange(Math.max(0,h-(w-h)/2),h,!1))return Int32Array.from([h,w,E]);h+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,f=!f}throw new z}static decodeCode(n,s,i){jt.recordPattern(n,i,s);let l=ye.MAX_AVG_VARIANCE,u=-1;for(let h=0;h<ye.CODE_PATTERNS.length;h++){const f=ye.CODE_PATTERNS[h],m=this.patternMatchVariance(s,f,ye.MAX_INDIVIDUAL_VARIANCE);m<l&&(l=m,u=h)}if(u>=0)return u;throw new z}decodeRow(n,s,i){const l=i&&i.get(Q.ASSUME_GS1)===!0,u=ye.findStartPattern(s),h=u[2];let f=0;const m=new Uint8Array(20);m[f++]=h;let w;switch(h){case ye.CODE_START_A:w=ye.CODE_CODE_A;break;case ye.CODE_START_B:w=ye.CODE_CODE_B;break;case ye.CODE_START_C:w=ye.CODE_CODE_C;break;default:throw new P}let b=!1,E=!1,j="",D=u[0],F=u[1];const U=Int32Array.from([0,0,0,0,0,0]);let G=0,$=0,de=h,fe=0,oe=!0,He=!1,De=!1;for(;!b;){const _s=E;switch(E=!1,G=$,$=ye.decodeCode(s,U,F),m[f++]=$,$!==ye.CODE_STOP&&(oe=!0),$!==ye.CODE_STOP&&(fe++,de+=fe*$),D=F,F+=U.reduce((Jm,eg)=>Jm+eg,0),$){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new P}switch(w){case ye.CODE_CODE_A:if($<64)De===He?j+=String.fromCharCode(" ".charCodeAt(0)+$):j+=String.fromCharCode(" ".charCodeAt(0)+$+128),De=!1;else if($<96)De===He?j+=String.fromCharCode($-64):j+=String.fromCharCode($+64),De=!1;else switch($!==ye.CODE_STOP&&(oe=!1),$){case ye.CODE_FNC_1:l&&(j.length===0?j+="]C1":j+=String.fromCharCode(29));break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!He&&De?(He=!0,De=!1):He&&De?(He=!1,De=!1):De=!0;break;case ye.CODE_SHIFT:E=!0,w=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:w=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:w=ye.CODE_CODE_C;break;case ye.CODE_STOP:b=!0;break}break;case ye.CODE_CODE_B:if($<96)De===He?j+=String.fromCharCode(" ".charCodeAt(0)+$):j+=String.fromCharCode(" ".charCodeAt(0)+$+128),De=!1;else switch($!==ye.CODE_STOP&&(oe=!1),$){case ye.CODE_FNC_1:l&&(j.length===0?j+="]C1":j+=String.fromCharCode(29));break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!He&&De?(He=!0,De=!1):He&&De?(He=!1,De=!1):De=!0;break;case ye.CODE_SHIFT:E=!0,w=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:w=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:w=ye.CODE_CODE_C;break;case ye.CODE_STOP:b=!0;break}break;case ye.CODE_CODE_C:if($<100)$<10&&(j+="0"),j+=$;else switch($!==ye.CODE_STOP&&(oe=!1),$){case ye.CODE_FNC_1:l&&(j.length===0?j+="]C1":j+=String.fromCharCode(29));break;case ye.CODE_CODE_A:w=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:w=ye.CODE_CODE_B;break;case ye.CODE_STOP:b=!0;break}break}_s&&(w=w===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const cn=F-D;if(F=s.getNextUnset(F),!s.isRange(F,Math.min(s.getSize(),F+(F-D)/2),!1))throw new z;if(de-=fe*G,de%103!==G)throw new k;const Fn=j.length;if(Fn===0)throw new z;Fn>0&&oe&&(w===ye.CODE_CODE_C?j=j.substring(0,Fn-2):j=j.substring(0,Fn-1));const un=(u[1]+u[0])/2,nt=D+cn/2,Ut=m.length,pn=new Uint8Array(Ut);for(let _s=0;_s<Ut;_s++)pn[_s]=m[_s];const Rs=[new je(un,n),new je(nt,n)];return new ne(j,pn,0,Rs,ee.CODE_128,new Date().getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class kt extends jt{constructor(n=!1,s=!1){super(),this.usingCheckDigit=n,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,s,i){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=kt.findAsteriskPattern(s,l),h=s.getNextSet(u[1]),f=s.getSize(),m,w;do{kt.recordPattern(s,h,l);let U=kt.toNarrowWidePattern(l);if(U<0)throw new z;m=kt.patternToChar(U),this.decodeRowResult+=m,w=h;for(let G of l)h+=G;h=s.getNextSet(h)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let U of l)b+=U;let E=h-w-b;if(h!==f&&E*2<b)throw new z;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,G=0;for(let $=0;$<U;$++)G+=kt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($));if(this.decodeRowResult.charAt(U)!==kt.ALPHABET_STRING.charAt(G%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new z;let j;this.extendedMode?j=kt.decodeExtended(this.decodeRowResult):j=this.decodeRowResult;let D=(u[1]+u[0])/2,F=w+b/2;return new ne(j,null,0,[new je(D,n),new je(F,n)],ee.CODE_39,new Date().getTime())}static findAsteriskPattern(n,s){let i=n.getSize(),l=n.getNextSet(0),u=0,h=l,f=!1,m=s.length;for(let w=l;w<i;w++)if(n.get(w)!==f)s[u]++;else{if(u===m-1){if(this.toNarrowWidePattern(s)===kt.ASTERISK_ENCODING&&n.isRange(Math.max(0,h-Math.floor((w-h)/2)),h,!1))return[h,w];h+=s[0]+s[1],s.copyWithin(0,2,2+u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,f=!f}throw new z}static toNarrowWidePattern(n){let s=n.length,i=0,l;do{let u=2147483647;for(let m of n)m<u&&m>i&&(u=m);i=u,l=0;let h=0,f=0;for(let m=0;m<s;m++){let w=n[m];w>i&&(f|=1<<s-1-m,l++,h+=w)}if(l===3){for(let m=0;m<s&&l>0;m++){let w=n[m];if(w>i&&(l--,w*2>=h))return-1}return f}}while(l>3);return-1}static patternToChar(n){for(let s=0;s<kt.CHARACTER_ENCODINGS.length;s++)if(kt.CHARACTER_ENCODINGS[s]===n)return kt.ALPHABET_STRING.charAt(s);if(n===kt.ASTERISK_ENCODING)return"*";throw new z}static decodeExtended(n){let s=n.length,i="";for(let l=0;l<s;l++){let u=n.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let h=n.charAt(l+1),f="\0";switch(u){case"+":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)+32);else throw new P;break;case"$":if(h>="A"&&h<="Z")f=String.fromCharCode(h.charCodeAt(0)-64);else throw new P;break;case"%":if(h>="A"&&h<="E")f=String.fromCharCode(h.charCodeAt(0)-38);else if(h>="F"&&h<="J")f=String.fromCharCode(h.charCodeAt(0)-11);else if(h>="K"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)+16);else if(h>="P"&&h<="T")f=String.fromCharCode(h.charCodeAt(0)+43);else if(h==="U")f="\0";else if(h==="V")f="@";else if(h==="W")f="`";else if(h==="X"||h==="Y"||h==="Z")f="";else throw new P;break;case"/":if(h>="A"&&h<="O")f=String.fromCharCode(h.charCodeAt(0)-32);else if(h==="Z")f=":";else throw new P;break}i+=f,l++}else i+=u}return i}}kt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",kt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],kt.ASTERISK_ENCODING=148;class et extends jt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,s,i){let l=this.decodeStart(s),u=this.decodeEnd(s),h=new ve;et.decodeMiddle(s,l[1],u[0],h);let f=h.toString(),m=null;i!=null&&(m=i.get(Q.ALLOWED_LENGTHS)),m==null&&(m=et.DEFAULT_ALLOWED_LENGTHS);let w=f.length,b=!1,E=0;for(let F of m){if(w===F){b=!0;break}F>E&&(E=F)}if(!b&&w>E&&(b=!0),!b)throw new P;const j=[new je(l[1],n),new je(u[0],n)];return new ne(f,null,0,j,ee.ITF,new Date().getTime())}static decodeMiddle(n,s,i,l){let u=new Int32Array(10),h=new Int32Array(5),f=new Int32Array(5);for(u.fill(0),h.fill(0),f.fill(0);s<i;){jt.recordPattern(n,s,u);for(let w=0;w<5;w++){let b=2*w;h[w]=u[b],f[w]=u[b+1]}let m=et.decodeDigit(h);l.append(m.toString()),m=this.decodeDigit(f),l.append(m.toString()),u.forEach(function(w){s+=w})}}decodeStart(n){let s=et.skipWhiteSpace(n),i=et.findGuardPattern(n,s,et.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(n,i[0]),i}validateQuietZone(n,s){let i=this.narrowLineWidth*10;i=i<s?i:s;for(let l=s-1;i>0&&l>=0&&!n.get(l);l--)i--;if(i!==0)throw new z}static skipWhiteSpace(n){const s=n.getSize(),i=n.getNextSet(0);if(i===s)throw new z;return i}decodeEnd(n){n.reverse();try{let s=et.skipWhiteSpace(n),i;try{i=et.findGuardPattern(n,s,et.END_PATTERN_REVERSED[0])}catch(u){u instanceof z&&(i=et.findGuardPattern(n,s,et.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,i[0]);let l=i[0];return i[0]=n.getSize()-i[1],i[1]=n.getSize()-l,i}finally{n.reverse()}}static findGuardPattern(n,s,i){let l=i.length,u=new Int32Array(l),h=n.getSize(),f=!1,m=0,w=s;u.fill(0);for(let b=s;b<h;b++)if(n.get(b)!==f)u[m]++;else{if(m===l-1){if(jt.patternMatchVariance(u,i,et.MAX_INDIVIDUAL_VARIANCE)<et.MAX_AVG_VARIANCE)return[w,b];w+=u[0]+u[1],R.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,f=!f}throw new z}static decodeDigit(n){let s=et.MAX_AVG_VARIANCE,i=-1,l=et.PATTERNS.length;for(let u=0;u<l;u++){let h=et.PATTERNS[u],f=jt.patternMatchVariance(n,h,et.MAX_INDIVIDUAL_VARIANCE);f<s?(s=f,i=u):f===s&&(i=-1)}if(i>=0)return i%10;throw new z}}et.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],et.MAX_AVG_VARIANCE=.38,et.MAX_INDIVIDUAL_VARIANCE=.5,et.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],et.START_PATTERN=Int32Array.from([1,1,1,1]),et.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class wt extends jt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let s=!1,i,l=0,u=Int32Array.from([0,0,0]);for(;!s;){u=Int32Array.from([0,0,0]),i=wt.findGuardPattern(n,l,!1,this.START_END_PATTERN,u);let h=i[0];l=i[1];let f=h-(l-h);f>=0&&(s=n.isRange(f,h,!1))}return i}static checkChecksum(n){return wt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let s=n.length;if(s===0)return!1;let i=parseInt(n.charAt(s-1),10);return wt.getStandardUPCEANChecksum(n.substring(0,s-1))===i}static getStandardUPCEANChecksum(n){let s=n.length,i=0;for(let l=s-1;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new P;i+=u}i*=3;for(let l=s-2;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new P;i+=u}return(1e3-i)%10}static decodeEnd(n,s){return wt.findGuardPattern(n,s,!1,wt.START_END_PATTERN,new Int32Array(wt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,s,i,l){return this.findGuardPattern(n,s,i,l,new Int32Array(l.length))}static findGuardPattern(n,s,i,l,u){let h=n.getSize();s=i?n.getNextUnset(s):n.getNextSet(s);let f=0,m=s,w=l.length,b=i;for(let E=s;E<h;E++)if(n.get(E)!==b)u[f]++;else{if(f===w-1){if(jt.patternMatchVariance(u,l,wt.MAX_INDIVIDUAL_VARIANCE)<wt.MAX_AVG_VARIANCE)return Int32Array.from([m,E]);m+=u[0]+u[1];let j=u.slice(2,u.length-1);for(let D=0;D<f-1;D++)u[D]=j[D];u[f-1]=0,u[f]=0,f--}else f++;u[f]=1,b=!b}throw new z}static decodeDigit(n,s,i,l){this.recordPattern(n,i,s);let u=this.MAX_AVG_VARIANCE,h=-1,f=l.length;for(let m=0;m<f;m++){let w=l[m],b=jt.patternMatchVariance(s,w,wt.MAX_INDIVIDUAL_VARIANCE);b<u&&(u=b,h=m)}if(h>=0)return h;throw new z}}wt.MAX_AVG_VARIANCE=.48,wt.MAX_INDIVIDUAL_VARIANCE=.7,wt.START_END_PATTERN=Int32Array.from([1,1,1]),wt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),wt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class yi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,s,i){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(s,i,l),h=l.toString(),f=yi.parseExtensionString(h),m=[new je((i[0]+i[1])/2,n),new je(u,n)],w=new ne(h,null,0,m,ee.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&w.putAllMetadata(f),w}decodeMiddle(n,s,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=s[1],f=0;for(let w=0;w<5&&h<u;w++){let b=wt.decodeDigit(n,l,h,wt.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+b%10);for(let E of l)h+=E;b>=10&&(f|=1<<4-w),w!==4&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(i.length!==5)throw new z;let m=this.determineCheckDigit(f);if(yi.extensionChecksum(i.toString())!==m)throw new z;return h}static extensionChecksum(n){let s=n.length,i=0;for(let l=s-2;l>=0;l-=2)i+=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);i*=3;for(let l=s-1;l>=0;l-=2)i+=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);return i*=3,i%10}determineCheckDigit(n){for(let s=0;s<10;s++)if(n===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new z}static parseExtensionString(n){if(n.length!==5)return null;let s=yi.parseExtension5String(n);return s==null?null:new Map([[le.SUGGESTED_PRICE,s]])}static parseExtension5String(n){let s;switch(n.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let i=parseInt(n.substring(1)),l=(i/100).toString(),u=i%100,h=u<10?"0"+u:u.toString();return s+l+"."+h}}class Rl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,s,i){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(s,i,l),h=l.toString(),f=Rl.parseExtensionString(h),m=[new je((i[0]+i[1])/2,n),new je(u,n)],w=new ne(h,null,0,m,ee.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&w.putAllMetadata(f),w}decodeMiddle(n,s,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=s[1],f=0;for(let m=0;m<2&&h<u;m++){let w=wt.decodeDigit(n,l,h,wt.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+w%10);for(let b of l)h+=b;w>=10&&(f|=1<<1-m),m!==1&&(h=n.getNextSet(h),h=n.getNextUnset(h))}if(i.length!==2)throw new z;if(parseInt(i.toString())%4!==f)throw new z;return h}static parseExtensionString(n){return n.length!==2?null:new Map([[le.ISSUE_NUMBER,parseInt(n)]])}}class e0{static decodeRow(n,s,i){let l=wt.findGuardPattern(s,i,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new yi().decodeRow(n,s,l)}catch{return new Rl().decodeRow(n,s,l)}}}e0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xe extends wt{constructor(){super(),this.decodeRowStringBuffer="",Xe.L_AND_G_PATTERNS=Xe.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let s=Xe.L_PATTERNS[n-10],i=new Int32Array(s.length);for(let l=0;l<s.length;l++)i[l]=s[s.length-l-1];Xe.L_AND_G_PATTERNS[n]=i}}decodeRow(n,s,i){let l=Xe.findStartGuardPattern(s),u=i==null?null:i.get(Q.NEED_RESULT_POINT_CALLBACK);if(u!=null){const oe=new je((l[0]+l[1])/2,n);u.foundPossibleResultPoint(oe)}let h=this.decodeMiddle(s,l,this.decodeRowStringBuffer),f=h.rowOffset,m=h.resultString;if(u!=null){const oe=new je(f,n);u.foundPossibleResultPoint(oe)}let w=this.decodeEnd(s,f);if(u!=null){const oe=new je((w[0]+w[1])/2,n);u.foundPossibleResultPoint(oe)}let b=w[1],E=b+(b-w[0]);if(E>=s.getSize()||!s.isRange(b,E,!1))throw new z;let j=m.toString();if(j.length<8)throw new P;if(!Xe.checkChecksum(j))throw new k;let D=(l[1]+l[0])/2,F=(w[1]+w[0])/2,U=this.getBarcodeFormat(),G=[new je(D,n),new je(F,n)],$=new ne(j,null,0,G,U,new Date().getTime()),de=0;try{let oe=e0.decodeRow(n,s,w[1]);$.putMetadata(le.UPC_EAN_EXTENSION,oe.getText()),$.putAllMetadata(oe.getResultMetadata()),$.addResultPoints(oe.getResultPoints()),de=oe.getText().length}catch{}let fe=i==null?null:i.get(Q.ALLOWED_EAN_EXTENSIONS);if(fe!=null){let oe=!1;for(let He in fe)if(de.toString()===He){oe=!0;break}if(!oe)throw new z}return $}decodeEnd(n,s){return Xe.findGuardPattern(n,s,!1,Xe.START_END_PATTERN,new Int32Array(Xe.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Xe.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let s=n.length;if(s===0)return!1;let i=parseInt(n.charAt(s-1),10);return Xe.getStandardUPCEANChecksum(n.substring(0,s-1))===i}static getStandardUPCEANChecksum(n){let s=n.length,i=0;for(let l=s-1;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new P;i+=u}i*=3;for(let l=s-2;l>=0;l-=2){let u=n.charAt(l).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new P;i+=u}return(1e3-i)%10}}class ns extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,s,i){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=s[1],f=0;for(let w=0;w<6&&h<u;w++){let b=Xe.decodeDigit(n,l,h,Xe.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+b%10);for(let E of l)h+=E;b>=10&&(f|=1<<5-w)}i=ns.determineFirstDigit(i,f),h=Xe.findGuardPattern(n,h,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&h<u;w++){let b=Xe.decodeDigit(n,l,h,Xe.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+b);for(let E of l)h+=E}return{rowOffset:h,resultString:i}}getBarcodeFormat(){return ee.EAN_13}static determineFirstDigit(n,s){for(let i=0;i<10;i++)if(s===this.FIRST_DIGIT_ENCODINGS[i])return n=String.fromCharCode("0".charCodeAt(0)+i)+n,n;throw new z}}ns.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class t0 extends Xe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,s,i){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h=s[1];for(let m=0;m<4&&h<u;m++){let w=Xe.decodeDigit(n,l,h,Xe.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+w);for(let b of l)h+=b}h=Xe.findGuardPattern(n,h,!0,Xe.MIDDLE_PATTERN,new Int32Array(Xe.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&h<u;m++){let w=Xe.decodeDigit(n,l,h,Xe.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+w);for(let b of l)h+=b}return{rowOffset:h,resultString:i}}getBarcodeFormat(){return ee.EAN_8}}class n0 extends Xe{constructor(){super(...arguments),this.ean13Reader=new ns}getBarcodeFormat(){return ee.UPC_A}decode(n,s){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,s,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,s,i))}decodeMiddle(n,s,i){return this.ean13Reader.decodeMiddle(n,s,i)}maybeReturnResult(n){let s=n.getText();if(s.charAt(0)==="0"){let i=new ne(s.substring(1),null,null,n.getResultPoints(),ee.UPC_A);return n.getResultMetadata()!=null&&i.putAllMetadata(n.getResultMetadata()),i}else throw new z}reset(){this.ean13Reader.reset()}}class Pn extends Xe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,s,i){const l=this.decodeMiddleCounters.map(w=>w);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=n.getSize();let h=s[1],f=0;for(let w=0;w<6&&h<u;w++){const b=Pn.decodeDigit(n,l,h,Pn.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+b%10);for(let E of l)h+=E;b>=10&&(f|=1<<5-w)}let m=Pn.determineNumSysAndCheckDigit(i,f);return{rowOffset:h,resultString:m}}decodeEnd(n,s){return Pn.findGuardPatternWithoutCounters(n,s,!0,Pn.MIDDLE_END_PATTERN)}checkChecksum(n){return Xe.checkChecksum(Pn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,s){for(let i=0;i<=1;i++)for(let l=0;l<10;l++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][l]){let u=String.fromCharCode("0".charCodeAt(0)+i),h=String.fromCharCode("0".charCodeAt(0)+l);return u+n+h}throw z.getNotFoundInstance()}getBarcodeFormat(){return ee.UPC_E}static convertUPCEtoUPCA(n){const s=n.slice(1,7).split("").map(u=>u.charCodeAt(0)),i=new ve;i.append(n.charAt(0));let l=s[5];switch(l){case 0:case 1:case 2:i.appendChars(s,0,2),i.append(l),i.append("0000"),i.appendChars(s,2,3);break;case 3:i.appendChars(s,0,3),i.append("00000"),i.appendChars(s,3,2);break;case 4:i.appendChars(s,0,4),i.append("00000"),i.append(s[4]);break;default:i.appendChars(s,0,5),i.append("0000"),i.append(l);break}return n.length>=8&&i.append(n.charAt(7)),i.toString()}}Pn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class _l extends jt{constructor(n){super();let s=n==null?null:n.get(Q.POSSIBLE_FORMATS),i=[];o(s)?(i.push(new ns),i.push(new n0),i.push(new t0),i.push(new Pn)):(s.indexOf(ee.EAN_13)>-1&&i.push(new ns),s.indexOf(ee.UPC_A)>-1&&i.push(new n0),s.indexOf(ee.EAN_8)>-1&&i.push(new t0),s.indexOf(ee.UPC_E)>-1&&i.push(new Pn)),this.readers=i}decodeRow(n,s,i){for(let l of this.readers)try{const u=l.decodeRow(n,s,i),h=u.getBarcodeFormat()===ee.EAN_13&&u.getText().charAt(0)==="0",f=i==null?null:i.get(Q.POSSIBLE_FORMATS),m=f==null||f.includes(ee.UPC_A);if(h&&m){const w=u.getRawBytes(),b=new ne(u.getText().substring(1),w,w?w.length:null,u.getResultPoints(),ee.UPC_A);return b.putAllMetadata(u.getResultMetadata()),b}return u}catch{}throw new z}reset(){for(let n of this.readers)n.reset()}}class Gt extends jt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,s){for(let i=0;i<s.length;i++)if(jt.patternMatchVariance(n,s[i],Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return i;throw new z}static count(n){return Qe.sum(new Int32Array(n))}static increment(n,s){let i=0,l=s[0];for(let u=1;u<n.length;u++)s[u]>l&&(l=s[u],i=u);n[i]++}static decrement(n,s){let i=0,l=s[0];for(let u=1;u<n.length;u++)s[u]<l&&(l=s[u],i=u);n[i]--}static isFinderPattern(n){let s=n[0]+n[1],i=s+n[2]+n[3],l=s/i;if(l>=Gt.MIN_FINDER_PATTERN_RATIO&&l<=Gt.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,h=Number.MIN_SAFE_INTEGER;for(let f of n)f>h&&(h=f),f<u&&(u=f);return h<10*u}return!1}}Gt.MAX_AVG_VARIANCE=.2,Gt.MAX_INDIVIDUAL_VARIANCE=.45,Gt.MIN_FINDER_PATTERN_RATIO=9.5/12,Gt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Es{constructor(n,s){this.value=n,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Es))return!1;const s=n;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class _o{constructor(n,s,i,l,u){this.value=n,this.startEnd=s,this.value=n,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new je(i,u)),this.resultPoints.push(new je(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof _o))return!1;const s=n;return this.value===s.value}hashCode(){return this.value}}class Yn{constructor(){}static getRSSvalue(n,s,i){let l=0;for(let m of n)l+=m;let u=0,h=0,f=n.length;for(let m=0;m<f-1;m++){let w;for(w=1,h|=1<<m;w<n[m];w++,h&=~(1<<m)){let b=Yn.combins(l-w-1,f-m-2);if(i&&h===0&&l-w-(f-m-1)>=f-m-1&&(b-=Yn.combins(l-w-(f-m),f-m-2)),f-m-1>1){let E=0;for(let j=l-w-(f-m-2);j>s;j--)E+=Yn.combins(l-w-j-1,f-m-3);b-=E*(f-1-m)}else l-w>s&&b--;u+=b}l-=w}return u}static combins(n,s){let i,l;n-s>s?(l=s,i=n-s):(l=n-s,i=s);let u=1,h=1;for(let f=n;f>i;f--)u*=f,h<=l&&(u/=h,h++);for(;h<=l;)u/=h,h++;return u}}class Am{static buildBitArray(n){let s=n.length*2-1;n[n.length-1].getRightChar()==null&&(s-=1);let i=12*s,l=new O(i),u=0,f=n[0].getRightChar().getValue();for(let m=11;m>=0;--m)f&1<<m&&l.set(u),u++;for(let m=1;m<n.length;++m){let w=n[m],b=w.getLeftChar().getValue();for(let E=11;E>=0;--E)b&1<<E&&l.set(u),u++;if(w.getRightChar()!=null){let E=w.getRightChar().getValue();for(let j=11;j>=0;--j)E&1<<j&&l.set(u),u++}}return l}}class rs{constructor(n,s){s?this.decodedInformation=null:(this.finished=n,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ol{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class on extends Ol{constructor(n,s){super(n),this.value=s}getValue(){return this.value}isFNC1(){return this.value===on.FNC1}}on.FNC1="$";class ss extends Ol{constructor(n,s,i){super(n),i?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Sn extends Ol{constructor(n,s,i){if(super(n),s<0||s>10||i<0||i>10)throw new P;this.firstDigit=s,this.secondDigit=i}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Sn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Sn.FNC1}isAnyFNC1(){return this.firstDigit===Sn.FNC1||this.secondDigit===Sn.FNC1}}Sn.FNC1=10;class Ee{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new z;let s=n.substring(0,2);for(let u of Ee.TWO_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(2,u[2],n):Ee.processFixedAI(2,u[1],n);if(n.length<3)throw new z;let i=n.substring(0,3);for(let u of Ee.THREE_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(3,u[2],n):Ee.processFixedAI(3,u[1],n);for(let u of Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,u[2],n):Ee.processFixedAI(4,u[1],n);if(n.length<4)throw new z;let l=n.substring(0,4);for(let u of Ee.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,u[2],n):Ee.processFixedAI(4,u[1],n);throw new z}static processFixedAI(n,s,i){if(i.length<n)throw new z;let l=i.substring(0,n);if(i.length<n+s)throw new z;let u=i.substring(n,n+s),h=i.substring(n+s),f="("+l+")"+u,m=Ee.parseFieldsInGeneralPurpose(h);return m==null?f:f+m}static processVariableAI(n,s,i){let l=i.substring(0,n),u;i.length<n+s?u=i.length:u=n+s;let h=i.substring(n,u),f=i.substring(u),m="("+l+")"+h,w=Ee.parseFieldsInGeneralPurpose(f);return w==null?m:m+w}}Ee.VARIABLE_LENGTH=[],Ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ee.VARIABLE_LENGTH,20],["22",Ee.VARIABLE_LENGTH,29],["30",Ee.VARIABLE_LENGTH,8],["37",Ee.VARIABLE_LENGTH,8],["90",Ee.VARIABLE_LENGTH,30],["91",Ee.VARIABLE_LENGTH,30],["92",Ee.VARIABLE_LENGTH,30],["93",Ee.VARIABLE_LENGTH,30],["94",Ee.VARIABLE_LENGTH,30],["95",Ee.VARIABLE_LENGTH,30],["96",Ee.VARIABLE_LENGTH,30],["97",Ee.VARIABLE_LENGTH,3],["98",Ee.VARIABLE_LENGTH,30],["99",Ee.VARIABLE_LENGTH,30]],Ee.THREE_DIGIT_DATA_LENGTH=[["240",Ee.VARIABLE_LENGTH,30],["241",Ee.VARIABLE_LENGTH,30],["242",Ee.VARIABLE_LENGTH,6],["250",Ee.VARIABLE_LENGTH,30],["251",Ee.VARIABLE_LENGTH,30],["253",Ee.VARIABLE_LENGTH,17],["254",Ee.VARIABLE_LENGTH,20],["400",Ee.VARIABLE_LENGTH,30],["401",Ee.VARIABLE_LENGTH,30],["402",17],["403",Ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ee.VARIABLE_LENGTH,20],["421",Ee.VARIABLE_LENGTH,15],["422",3],["423",Ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ee.VARIABLE_LENGTH,15],["391",Ee.VARIABLE_LENGTH,18],["392",Ee.VARIABLE_LENGTH,15],["393",Ee.VARIABLE_LENGTH,18],["703",Ee.VARIABLE_LENGTH,30]],Ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ee.VARIABLE_LENGTH,20],["8003",Ee.VARIABLE_LENGTH,30],["8004",Ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ee.VARIABLE_LENGTH,30],["8008",Ee.VARIABLE_LENGTH,12],["8018",18],["8020",Ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ee.VARIABLE_LENGTH,70],["8200",Ee.VARIABLE_LENGTH,70]];class As{constructor(n){this.buffer=new ve,this.information=n}decodeAllCodes(n,s){let i=s,l=null;do{let u=this.decodeGeneralPurposeField(i,l),h=Ee.parseFieldsInGeneralPurpose(u.getNewString());if(h!=null&&n.append(h),u.isRemaining()?l=""+u.getRemainingValue():l=null,i===u.getNewPosition())break;i=u.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let s=n;s<n+3;++s)if(this.information.get(s))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(n,4);return u===0?new Sn(this.information.getSize(),Sn.FNC1,Sn.FNC1):new Sn(this.information.getSize(),u-1,Sn.FNC1)}let s=this.extractNumericValueFromBitArray(n,7),i=(s-8)/11,l=(s-8)%11;return new Sn(n+7,i,l)}extractNumericValueFromBitArray(n,s){return As.extractNumericValueFromBitArray(this.information,n,s)}static extractNumericValueFromBitArray(n,s,i){let l=0;for(let u=0;u<i;++u)n.get(s+u)&&(l|=1<<i-u-1);return l}decodeGeneralPurposeField(n,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(n);let i=this.parseBlocks();return i!=null&&i.isRemaining()?new ss(this.current.getPosition(),this.buffer.toString(),i.getRemainingValue()):new ss(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,s;do{let i=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),n=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),n=s.isFinished()):(s=this.parseNumericBlock(),n=s.isFinished()),!(i!==this.current.getPosition())&&!n)break}while(!n);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let s;return n.isSecondDigitFNC1()?s=new ss(this.current.getPosition(),this.buffer.toString()):s=new ss(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new rs(!0,s)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let s=new ss(this.current.getPosition(),this.buffer.toString());return new rs(!0,s)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new rs(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let s=new ss(this.current.getPosition(),this.buffer.toString());return new rs(!0,s)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new rs(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let s=new ss(this.current.getPosition(),this.buffer.toString());return new rs(!0,s)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new rs(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,5);if(s>=5&&s<16)return!0;if(n+7>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,7);if(i>=64&&i<116)return!0;if(n+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(n,8);return l>=232&&l<253}decodeIsoIec646(n){let s=this.extractNumericValueFromBitArray(n,5);if(s===15)return new on(n+5,on.FNC1);if(s>=5&&s<15)return new on(n+5,"0"+(s-5));let i=this.extractNumericValueFromBitArray(n,7);if(i>=64&&i<90)return new on(n+7,""+(i+1));if(i>=90&&i<116)return new on(n+7,""+(i+7));let l=this.extractNumericValueFromBitArray(n,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new P}return new on(n+8,u)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,5);if(s>=5&&s<16)return!0;if(n+6>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(n,6);return i>=16&&i<63}decodeAlphanumeric(n){let s=this.extractNumericValueFromBitArray(n,5);if(s===15)return new on(n+5,on.FNC1);if(s>=5&&s<15)return new on(n+5,"0"+(s-5));let i=this.extractNumericValueFromBitArray(n,6);if(i>=32&&i<58)return new on(n+6,""+(i+33));let l;switch(i){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Ve("Decoding invalid alphanumeric value: "+i)}return new on(n+6,l)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let s=0;s<5&&s+n<this.information.getSize();++s)if(s===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+s))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let s=n;s<n+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let s=0;s<4&&s+n<this.information.getSize();++s)if(this.information.get(n+s))return!1;return!0}}class Ml{constructor(n){this.information=n,this.generalDecoder=new As(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class an extends Ml{constructor(n){super(n)}encodeCompressedGtin(n,s){n.append("(01)");let i=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,s,i)}encodeCompressedGtinWithoutAI(n,s,i){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*l,10);u/100===0&&n.append("0"),u/10===0&&n.append("0"),n.append(u)}an.appendCheckDigit(n,i)}static appendCheckDigit(n,s){let i=0;for(let l=0;l<13;l++){let u=n.charAt(l+s).charCodeAt(0)-"0".charCodeAt(0);i+=l&1?u:3*u}i=10-i%10,i===10&&(i=0),n.append(i)}}an.GTIN_SIZE=40;class Ss extends an{constructor(n){super(n)}parseInformation(){let n=new ve;n.append("(01)");let s=n.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ss.HEADER_SIZE,4);return n.append(i),this.encodeCompressedGtinWithoutAI(n,Ss.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(n,Ss.HEADER_SIZE+44)}}Ss.HEADER_SIZE=1+1+2;class Oo extends Ml{constructor(n){super(n)}parseInformation(){let n=new ve;return this.getGeneralDecoder().decodeAllCodes(n,Oo.HEADER_SIZE)}}Oo.HEADER_SIZE=2+1+2;class Mo extends an{constructor(n){super(n)}encodeCompressedWeight(n,s,i){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(s,i);this.addWeightCode(n,l);let u=this.checkWeight(l),h=1e5;for(let f=0;f<5;++f)u/h===0&&n.append("0"),h/=10;n.append(u)}}class Kn extends Mo{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Kn.HEADER_SIZE+Mo.GTIN_SIZE+Kn.WEIGHT_SIZE)throw new z;let n=new ve;return this.encodeCompressedGtin(n,Kn.HEADER_SIZE),this.encodeCompressedWeight(n,Kn.HEADER_SIZE+Mo.GTIN_SIZE,Kn.WEIGHT_SIZE),n.toString()}}Kn.HEADER_SIZE=4+1,Kn.WEIGHT_SIZE=15;class Sm extends Kn{constructor(n){super(n)}addWeightCode(n,s){n.append("(3103)")}checkWeight(n){return n}}class jm extends Kn{constructor(n){super(n)}addWeightCode(n,s){s<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Zn extends an{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Zn.HEADER_SIZE+an.GTIN_SIZE)throw new z;let n=new ve;this.encodeCompressedGtin(n,Zn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Zn.HEADER_SIZE+an.GTIN_SIZE,Zn.LAST_DIGIT_SIZE);n.append("(392"),n.append(s),n.append(")");let i=this.getGeneralDecoder().decodeGeneralPurposeField(Zn.HEADER_SIZE+an.GTIN_SIZE+Zn.LAST_DIGIT_SIZE,null);return n.append(i.getNewString()),n.toString()}}Zn.HEADER_SIZE=5+1+2,Zn.LAST_DIGIT_SIZE=2;class en extends an{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+an.GTIN_SIZE)throw new z;let n=new ve;this.encodeCompressedGtin(n,en.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+an.GTIN_SIZE,en.LAST_DIGIT_SIZE);n.append("(393"),n.append(s),n.append(")");let i=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+an.GTIN_SIZE+en.LAST_DIGIT_SIZE,en.FIRST_THREE_DIGITS_SIZE);i/100==0&&n.append("0"),i/10==0&&n.append("0"),n.append(i);let l=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+an.GTIN_SIZE+en.LAST_DIGIT_SIZE+en.FIRST_THREE_DIGITS_SIZE,null);return n.append(l.getNewString()),n.toString()}}en.HEADER_SIZE=5+1+2,en.LAST_DIGIT_SIZE=2,en.FIRST_THREE_DIGITS_SIZE=10;class ht extends Mo{constructor(n,s,i){super(n),this.dateCode=i,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=ht.HEADER_SIZE+ht.GTIN_SIZE+ht.WEIGHT_SIZE+ht.DATE_SIZE)throw new z;let n=new ve;return this.encodeCompressedGtin(n,ht.HEADER_SIZE),this.encodeCompressedWeight(n,ht.HEADER_SIZE+ht.GTIN_SIZE,ht.WEIGHT_SIZE),this.encodeCompressedDate(n,ht.HEADER_SIZE+ht.GTIN_SIZE+ht.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,s){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(s,ht.DATE_SIZE);if(i==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let l=i%32;i/=32;let u=i%12+1;i/=12;let h=i;h/10==0&&n.append("0"),n.append(h),u/10==0&&n.append("0"),n.append(u),l/10==0&&n.append("0"),n.append(l)}addWeightCode(n,s){n.append("("),n.append(this.firstAIdigits),n.append(s/1e5),n.append(")")}checkWeight(n){return n%1e5}}ht.HEADER_SIZE=7+1,ht.WEIGHT_SIZE=20,ht.DATE_SIZE=16;function r0(C){try{if(C.get(1))return new Ss(C);if(!C.get(2))return new Oo(C);switch(As.extractNumericValueFromBitArray(C,1,4)){case 4:return new Sm(C);case 5:return new jm(C)}switch(As.extractNumericValueFromBitArray(C,1,5)){case 12:return new Zn(C);case 13:return new en(C)}switch(As.extractNumericValueFromBitArray(C,1,7)){case 56:return new ht(C,"310","11");case 57:return new ht(C,"320","11");case 58:return new ht(C,"310","13");case 59:return new ht(C,"320","13");case 60:return new ht(C,"310","15");case 61:return new ht(C,"320","15");case 62:return new ht(C,"310","17");case 63:return new ht(C,"320","17")}}catch(n){throw console.log(n),new Ve("unknown decoder: "+C)}}class Er{constructor(n,s,i,l){this.leftchar=n,this.rightchar=s,this.finderpattern=i,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,s){return n instanceof Er?Er.equalsOrNull(n.leftchar,s.leftchar)&&Er.equalsOrNull(n.rightchar,s.rightchar)&&Er.equalsOrNull(n.finderpattern,s.finderpattern):!1}static equalsOrNull(n,s){return n===null?s===null:Er.equals(n,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Dl{constructor(n,s,i){this.pairs=n,this.rowNumber=s,this.wasReversed=i}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,s){return n instanceof Dl?this.checkEqualitity(n,s)&&n.wasReversed===s.wasReversed:!1}checkEqualitity(n,s){if(!n||!s)return;let i;return n.forEach((l,u)=>{s.forEach(h=>{l.getLeftChar().getValue()===h.getLeftChar().getValue()&&l.getRightChar().getValue()===h.getRightChar().getValue()&&l.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(i=!0)})}),i}}class re extends Gt{constructor(n){super(...arguments),this.pairs=new Array(re.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,s,i){this.pairs.length=0,this.startFromEven=!1;try{return re.constructResult(this.decodeRow2pairs(n,s))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,re.constructResult(this.decodeRow2pairs(n,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,s){let i=!1;for(;!i;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,n))}catch(u){if(u instanceof z){if(!this.pairs.length)throw new z;i=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(n,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new z}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(i){this.verbose&&console.log(i)}return n&&(this.rows=this.rows.reverse()),s}checkRows(n,s){for(let i=s;i<this.rows.length;i++){let l=this.rows[i];this.pairs.length=0;for(let h of n)this.pairs.push(h.getPairs());if(this.pairs.push(l.getPairs()),!re.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(n);u.push(l);try{return this.checkRows(u,i+1)}catch(h){this.verbose&&console.log(h)}}throw new z}static isValidSequence(n){for(let s of re.FINDER_PATTERN_SEQUENCES){if(n.length>s.length)continue;let i=!0;for(let l=0;l<n.length;l++)if(n[l].getFinderPattern().getValue()!=s[l]){i=!1;break}if(i)return!0}return!1}storeRow(n,s){let i=0,l=!1,u=!1;for(;i<this.rows.length;){let h=this.rows[i];if(h.getRowNumber()>n){u=h.isEquivalent(this.pairs);break}l=h.isEquivalent(this.pairs),i++}u||l||re.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new Dl(this.pairs,n,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,s){for(let i of s)if(i.getPairs().length!==n.length){for(let l of i.getPairs())for(let u of n)if(Er.equals(l,u))break}}static isPartialRow(n,s){for(let i of s){let l=!0;for(let u of n){let h=!1;for(let f of i.getPairs())if(u.equals(f)){h=!0;break}if(!h){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(n){let s=Am.buildBitArray(n),l=r0(s).parseInformation(),u=n[0].getFinderPattern().getResultPoints(),h=n[n.length-1].getFinderPattern().getResultPoints(),f=[u[0],u[1],h[0],h[1]];return new ne(l,null,null,f,ee.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),s=n.getLeftChar(),i=n.getRightChar();if(i==null)return!1;let l=i.getChecksumPortion(),u=2;for(let f=1;f<this.pairs.size();++f){let m=this.pairs.get(f);l+=m.getLeftChar().getChecksumPortion(),u++;let w=m.getRightChar();w!=null&&(l+=w.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==s.getValue()}static getNextSecondBar(n,s){let i;return n.get(s)?(i=n.getNextUnset(s),i=n.getNextSet(i)):(i=n.getNextSet(s),i=n.getNextUnset(i)),i}retrieveNextPair(n,s,i){let l=s.length%2==0;this.startFromEven&&(l=!l);let u,h=!0,f=-1;do this.findNextPair(n,s,f),u=this.parseFoundFinderPattern(n,i,l),u==null?f=re.getNextSecondBar(n,this.startEnd[0]):h=!1;while(h);let m=this.decodeDataCharacter(n,u,l,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new z;let w;try{w=this.decodeDataCharacter(n,u,l,!1)}catch(b){w=null,this.verbose&&console.log(b)}return new Er(m,w,u,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,s,i){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=n.getSize(),h;i>=0?h=i:this.isEmptyPair(s)?h=0:h=s[s.length-1].getFinderPattern().getStartEnd()[1];let f=s.length%2!=0;this.startFromEven&&(f=!f);let m=!1;for(;h<u&&(m=!n.get(h),!!m);)h++;let w=0,b=h;for(let E=h;E<u;E++)if(n.get(E)!=m)l[w]++;else{if(w==3){if(f&&re.reverseCounters(l),re.isFinderPattern(l)){this.startEnd[0]=b,this.startEnd[1]=E;return}f&&re.reverseCounters(l),b+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,w--}else w++;l[w]=1,m=!m}throw new z}static reverseCounters(n){let s=n.length;for(let i=0;i<s/2;++i){let l=n[i];n[i]=n[s-i-1],n[s-i-1]=l}}parseFoundFinderPattern(n,s,i){let l,u,h;if(i){let w=this.startEnd[0]-1;for(;w>=0&&!n.get(w);)w--;w++,l=this.startEnd[0]-w,u=w,h=this.startEnd[1]}else u=this.startEnd[0],h=n.getNextUnset(this.startEnd[1]+1),l=h-this.startEnd[1];let f=this.getDecodeFinderCounters();R.arraycopy(f,0,f,1,f.length-1),f[0]=l;let m;try{m=this.parseFinderValue(f,re.FINDER_PATTERNS)}catch{return null}return new _o(m,[u,h],u,h,s)}decodeDataCharacter(n,s,i,l){let u=this.getDataCharacterCounters();for(let nt=0;nt<u.length;nt++)u[nt]=0;if(l)re.recordPatternInReverse(n,s.getStartEnd()[0],u);else{re.recordPattern(n,s.getStartEnd()[1],u);for(let nt=0,Ut=u.length-1;nt<Ut;nt++,Ut--){let pn=u[nt];u[nt]=u[Ut],u[Ut]=pn}}let h=17,f=Qe.sum(new Int32Array(u))/h,m=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(f-m)/m>.3)throw new z;let w=this.getOddCounts(),b=this.getEvenCounts(),E=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let nt=0;nt<u.length;nt++){let Ut=1*u[nt]/f,pn=Ut+.5;if(pn<1){if(Ut<.3)throw new z;pn=1}else if(pn>8){if(Ut>8.7)throw new z;pn=8}let Rs=nt/2;nt&1?(b[Rs]=pn,j[Rs]=Ut-pn):(w[Rs]=pn,E[Rs]=Ut-pn)}this.adjustOddEvenCounts(h);let D=4*s.getValue()+(i?0:2)+(l?0:1)-1,F=0,U=0;for(let nt=w.length-1;nt>=0;nt--){if(re.isNotA1left(s,i,l)){let Ut=re.WEIGHTS[D][2*nt];U+=w[nt]*Ut}F+=w[nt]}let G=0;for(let nt=b.length-1;nt>=0;nt--)if(re.isNotA1left(s,i,l)){let Ut=re.WEIGHTS[D][2*nt+1];G+=b[nt]*Ut}let $=U+G;if(F&1||F>13||F<4)throw new z;let de=(13-F)/2,fe=re.SYMBOL_WIDEST[de],oe=9-fe,He=Yn.getRSSvalue(w,fe,!0),De=Yn.getRSSvalue(b,oe,!1),cn=re.EVEN_TOTAL_SUBSET[de],Fn=re.GSUM[de],un=He*cn+De+Fn;return new Es(un,$)}static isNotA1left(n,s,i){return!(n.getValue()==0&&s&&i)}adjustOddEvenCounts(n){let s=Qe.sum(new Int32Array(this.getOddCounts())),i=Qe.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;s>13?u=!0:s<4&&(l=!0);let h=!1,f=!1;i>13?f=!0:i<4&&(h=!0);let m=s+i-n,w=(s&1)==1,b=(i&1)==0;if(m==1)if(w){if(b)throw new z;u=!0}else{if(!b)throw new z;f=!0}else if(m==-1)if(w){if(b)throw new z;l=!0}else{if(!b)throw new z;h=!0}else if(m==0){if(w){if(!b)throw new z;s<i?(l=!0,f=!0):(u=!0,h=!0)}else if(b)throw new z}else throw new z;if(l){if(u)throw new z;re.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&re.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(f)throw new z;re.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&re.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}re.SYMBOL_WIDEST=[7,5,4,3,1],re.EVEN_TOTAL_SUBSET=[4,20,52,104,204],re.GSUM=[0,348,1388,2948,3988],re.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],re.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],re.FINDER_PAT_A=0,re.FINDER_PAT_B=1,re.FINDER_PAT_C=2,re.FINDER_PAT_D=3,re.FINDER_PAT_E=4,re.FINDER_PAT_F=5,re.FINDER_PATTERN_SEQUENCES=[[re.FINDER_PAT_A,re.FINDER_PAT_A],[re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B],[re.FINDER_PAT_A,re.FINDER_PAT_C,re.FINDER_PAT_B,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_C],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_E,re.FINDER_PAT_B,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F],[re.FINDER_PAT_A,re.FINDER_PAT_A,re.FINDER_PAT_B,re.FINDER_PAT_B,re.FINDER_PAT_C,re.FINDER_PAT_D,re.FINDER_PAT_D,re.FINDER_PAT_E,re.FINDER_PAT_E,re.FINDER_PAT_F,re.FINDER_PAT_F]],re.MAX_PAIRS=11;class Tm extends Es{constructor(n,s,i){super(n,s),this.count=0,this.finderPattern=i}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class yt extends Gt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,s,i){const l=this.decodePair(s,!1,n,i);yt.addOrTally(this.possibleLeftPairs,l),s.reverse();let u=this.decodePair(s,!0,n,i);yt.addOrTally(this.possibleRightPairs,u),s.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&yt.checkChecksum(h,f))return yt.constructResult(h,f)}throw new z}static addOrTally(n,s){if(s==null)return;let i=!1;for(let l of n)if(l.getValue()===s.getValue()){l.incrementCount(),i=!0;break}i||n.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,s){let i=4537077*n.getValue()+s.getValue(),l=new String(i).toString(),u=new ve;for(let w=13-l.length;w>0;w--)u.append("0");u.append(l);let h=0;for(let w=0;w<13;w++){let b=u.charAt(w).charCodeAt(0)-"0".charCodeAt(0);h+=w&1?b:3*b}h=10-h%10,h===10&&(h=0),u.append(h.toString());let f=n.getFinderPattern().getResultPoints(),m=s.getFinderPattern().getResultPoints();return new ne(u.toString(),null,0,[f[0],f[1],m[0],m[1]],ee.RSS_14,new Date().getTime())}static checkChecksum(n,s){let i=(n.getChecksumPortion()+16*s.getChecksumPortion())%79,l=9*n.getFinderPattern().getValue()+s.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,i===l}decodePair(n,s,i,l){try{let u=this.findFinderPattern(n,s),h=this.parseFoundFinderPattern(n,i,s,u),f=l==null?null:l.get(Q.NEED_RESULT_POINT_CALLBACK);if(f!=null){let b=(u[0]+u[1])/2;s&&(b=n.getSize()-1-b),f.foundPossibleResultPoint(new je(b,i))}let m=this.decodeDataCharacter(n,h,!0),w=this.decodeDataCharacter(n,h,!1);return new Tm(1597*m.getValue()+w.getValue(),m.getChecksumPortion()+4*w.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(n,s,i){let l=this.getDataCharacterCounters();for(let G=0;G<l.length;G++)l[G]=0;if(i)jt.recordPatternInReverse(n,s.getStartEnd()[0],l);else{jt.recordPattern(n,s.getStartEnd()[1]+1,l);for(let G=0,$=l.length-1;G<$;G++,$--){let de=l[G];l[G]=l[$],l[$]=de}}let u=i?16:15,h=Qe.sum(new Int32Array(l))/u,f=this.getOddCounts(),m=this.getEvenCounts(),w=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let G=0;G<l.length;G++){let $=l[G]/h,de=Math.floor($+.5);de<1?de=1:de>8&&(de=8);let fe=Math.floor(G/2);G&1?(m[fe]=de,b[fe]=$-de):(f[fe]=de,w[fe]=$-de)}this.adjustOddEvenCounts(i,u);let E=0,j=0;for(let G=f.length-1;G>=0;G--)j*=9,j+=f[G],E+=f[G];let D=0,F=0;for(let G=m.length-1;G>=0;G--)D*=9,D+=m[G],F+=m[G];let U=j+3*D;if(i){if(E&1||E>12||E<4)throw new z;let G=(12-E)/2,$=yt.OUTSIDE_ODD_WIDEST[G],de=9-$,fe=Yn.getRSSvalue(f,$,!1),oe=Yn.getRSSvalue(m,de,!0),He=yt.OUTSIDE_EVEN_TOTAL_SUBSET[G],De=yt.OUTSIDE_GSUM[G];return new Es(fe*He+oe+De,U)}else{if(F&1||F>10||F<4)throw new z;let G=(10-F)/2,$=yt.INSIDE_ODD_WIDEST[G],de=9-$,fe=Yn.getRSSvalue(f,$,!0),oe=Yn.getRSSvalue(m,de,!1),He=yt.INSIDE_ODD_TOTAL_SUBSET[G],De=yt.INSIDE_GSUM[G];return new Es(oe*He+fe+De,U)}}findFinderPattern(n,s){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let l=n.getSize(),u=!1,h=0;for(;h<l&&(u=!n.get(h),s!==u);)h++;let f=0,m=h;for(let w=h;w<l;w++)if(n.get(w)!==u)i[f]++;else{if(f===3){if(Gt.isFinderPattern(i))return[m,w];m+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,f--}else f++;i[f]=1,u=!u}throw new z}parseFoundFinderPattern(n,s,i,l){let u=n.get(l[0]),h=l[0]-1;for(;h>=0&&u!==n.get(h);)h--;h++;const f=l[0]-h,m=this.getDecodeFinderCounters(),w=new Int32Array(m.length);R.arraycopy(m,0,w,1,m.length-1),w[0]=f;const b=this.parseFinderValue(w,yt.FINDER_PATTERNS);let E=h,j=l[1];return i&&(E=n.getSize()-1-E,j=n.getSize()-1-j),new _o(b,[h,l[1]],E,j,s)}adjustOddEvenCounts(n,s){let i=Qe.sum(new Int32Array(this.getOddCounts())),l=Qe.sum(new Int32Array(this.getEvenCounts())),u=!1,h=!1,f=!1,m=!1;n?(i>12?h=!0:i<4&&(u=!0),l>12?m=!0:l<4&&(f=!0)):(i>11?h=!0:i<5&&(u=!0),l>10?m=!0:l<4&&(f=!0));let w=i+l-s,b=(i&1)===(n?1:0),E=(l&1)===1;if(w===1)if(b){if(E)throw new z;h=!0}else{if(!E)throw new z;m=!0}else if(w===-1)if(b){if(E)throw new z;u=!0}else{if(!E)throw new z;f=!0}else if(w===0){if(b){if(!E)throw new z;i<l?(u=!0,m=!0):(h=!0,f=!0)}else if(E)throw new z}else throw new z;if(u){if(h)throw new z;Gt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&Gt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(m)throw new z;Gt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&Gt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],yt.OUTSIDE_GSUM=[0,161,961,2015,2715],yt.INSIDE_GSUM=[0,336,1036,1516],yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],yt.INSIDE_ODD_WIDEST=[2,4,6,8],yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class js extends jt{constructor(n,s){super(),this.readers=[],this.verbose=s===!0;const i=n?n.get(Q.POSSIBLE_FORMATS):null,l=n&&n.get(Q.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;i?((i.includes(ee.EAN_13)||i.includes(ee.UPC_A)||i.includes(ee.EAN_8)||i.includes(ee.UPC_E))&&this.readers.push(new _l(n)),i.includes(ee.CODE_39)&&this.readers.push(new kt(l)),i.includes(ee.CODE_128)&&this.readers.push(new ye),i.includes(ee.ITF)&&this.readers.push(new et),i.includes(ee.RSS_14)&&this.readers.push(new yt),i.includes(ee.RSS_EXPANDED)&&this.readers.push(new re(this.verbose))):(this.readers.push(new _l(n)),this.readers.push(new kt),this.readers.push(new _l(n)),this.readers.push(new ye),this.readers.push(new et),this.readers.push(new yt),this.readers.push(new re(this.verbose)))}decodeRow(n,s,i){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(n,s,i)}catch{}throw new z}reset(){this.readers.forEach(n=>n.reset())}}class Im extends te{constructor(n=500,s){super(new js(s),n,s)}}class Ke{constructor(n,s,i){this.ecCodewords=n,this.ecBlocks=[s],i&&this.ecBlocks.push(i)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ye{constructor(n,s){this.count=n,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class We{constructor(n,s,i,l,u,h){this.versionNumber=n,this.symbolSizeRows=s,this.symbolSizeColumns=i,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=h;let f=0;const m=h.getECCodewords(),w=h.getECBlocks();for(let b of w)f+=b.getCount()*(b.getDataCodewords()+m);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,s){if(n&1||s&1)throw new P;for(let i of We.VERSIONS)if(i.symbolSizeRows===n&&i.symbolSizeColumns===s)return i;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new We(1,10,10,8,8,new Ke(5,new Ye(1,3))),new We(2,12,12,10,10,new Ke(7,new Ye(1,5))),new We(3,14,14,12,12,new Ke(10,new Ye(1,8))),new We(4,16,16,14,14,new Ke(12,new Ye(1,12))),new We(5,18,18,16,16,new Ke(14,new Ye(1,18))),new We(6,20,20,18,18,new Ke(18,new Ye(1,22))),new We(7,22,22,20,20,new Ke(20,new Ye(1,30))),new We(8,24,24,22,22,new Ke(24,new Ye(1,36))),new We(9,26,26,24,24,new Ke(28,new Ye(1,44))),new We(10,32,32,14,14,new Ke(36,new Ye(1,62))),new We(11,36,36,16,16,new Ke(42,new Ye(1,86))),new We(12,40,40,18,18,new Ke(48,new Ye(1,114))),new We(13,44,44,20,20,new Ke(56,new Ye(1,144))),new We(14,48,48,22,22,new Ke(68,new Ye(1,174))),new We(15,52,52,24,24,new Ke(42,new Ye(2,102))),new We(16,64,64,14,14,new Ke(56,new Ye(2,140))),new We(17,72,72,16,16,new Ke(36,new Ye(4,92))),new We(18,80,80,18,18,new Ke(48,new Ye(4,114))),new We(19,88,88,20,20,new Ke(56,new Ye(4,144))),new We(20,96,96,22,22,new Ke(68,new Ye(4,174))),new We(21,104,104,24,24,new Ke(56,new Ye(6,136))),new We(22,120,120,18,18,new Ke(68,new Ye(6,175))),new We(23,132,132,20,20,new Ke(62,new Ye(8,163))),new We(24,144,144,22,22,new Ke(62,new Ye(8,156),new Ye(2,155))),new We(25,8,18,6,16,new Ke(7,new Ye(1,5))),new We(26,8,32,6,14,new Ke(11,new Ye(1,10))),new We(27,12,26,10,24,new Ke(14,new Ye(1,16))),new We(28,12,36,10,16,new Ke(18,new Ye(1,22))),new We(29,16,36,14,16,new Ke(24,new Ye(1,32))),new We(30,16,48,14,22,new Ke(28,new Ye(1,49)))]}}We.VERSIONS=We.buildVersions();class Ll{constructor(n){const s=n.getHeight();if(s<8||s>144||s&1)throw new P;this.version=Ll.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new be(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const s=n.getHeight(),i=n.getWidth();return We.getVersionForDimensions(s,i)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let s=0,i=4,l=0;const u=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let f=!1,m=!1,w=!1,b=!1;do if(i===u&&l===0&&!f)n[s++]=this.readCorner1(u,h)&255,i-=2,l+=2,f=!0;else if(i===u-2&&l===0&&h&3&&!m)n[s++]=this.readCorner2(u,h)&255,i-=2,l+=2,m=!0;else if(i===u+4&&l===2&&!(h&7)&&!w)n[s++]=this.readCorner3(u,h)&255,i-=2,l+=2,w=!0;else if(i===u-2&&l===0&&(h&7)===4&&!b)n[s++]=this.readCorner4(u,h)&255,i-=2,l+=2,b=!0;else{do i<u&&l>=0&&!this.readMappingMatrix.get(l,i)&&(n[s++]=this.readUtah(i,l,u,h)&255),i-=2,l+=2;while(i>=0&&l<h);i+=1,l+=3;do i>=0&&l<h&&!this.readMappingMatrix.get(l,i)&&(n[s++]=this.readUtah(i,l,u,h)&255),i+=2,l-=2;while(i<u&&l>=0);i+=3,l+=1}while(i<u||l<h);if(s!==this.version.getTotalCodewords())throw new P;return n}readModule(n,s,i,l){return n<0&&(n+=i,s+=4-(i+4&7)),s<0&&(s+=l,n+=4-(l+4&7)),this.readMappingMatrix.set(s,n),this.mappingBitMatrix.get(s,n)}readUtah(n,s,i,l){let u=0;return this.readModule(n-2,s-2,i,l)&&(u|=1),u<<=1,this.readModule(n-2,s-1,i,l)&&(u|=1),u<<=1,this.readModule(n-1,s-2,i,l)&&(u|=1),u<<=1,this.readModule(n-1,s-1,i,l)&&(u|=1),u<<=1,this.readModule(n-1,s,i,l)&&(u|=1),u<<=1,this.readModule(n,s-2,i,l)&&(u|=1),u<<=1,this.readModule(n,s-1,i,l)&&(u|=1),u<<=1,this.readModule(n,s,i,l)&&(u|=1),u}readCorner1(n,s){let i=0;return this.readModule(n-1,0,n,s)&&(i|=1),i<<=1,this.readModule(n-1,1,n,s)&&(i|=1),i<<=1,this.readModule(n-1,2,n,s)&&(i|=1),i<<=1,this.readModule(0,s-2,n,s)&&(i|=1),i<<=1,this.readModule(0,s-1,n,s)&&(i|=1),i<<=1,this.readModule(1,s-1,n,s)&&(i|=1),i<<=1,this.readModule(2,s-1,n,s)&&(i|=1),i<<=1,this.readModule(3,s-1,n,s)&&(i|=1),i}readCorner2(n,s){let i=0;return this.readModule(n-3,0,n,s)&&(i|=1),i<<=1,this.readModule(n-2,0,n,s)&&(i|=1),i<<=1,this.readModule(n-1,0,n,s)&&(i|=1),i<<=1,this.readModule(0,s-4,n,s)&&(i|=1),i<<=1,this.readModule(0,s-3,n,s)&&(i|=1),i<<=1,this.readModule(0,s-2,n,s)&&(i|=1),i<<=1,this.readModule(0,s-1,n,s)&&(i|=1),i<<=1,this.readModule(1,s-1,n,s)&&(i|=1),i}readCorner3(n,s){let i=0;return this.readModule(n-1,0,n,s)&&(i|=1),i<<=1,this.readModule(n-1,s-1,n,s)&&(i|=1),i<<=1,this.readModule(0,s-3,n,s)&&(i|=1),i<<=1,this.readModule(0,s-2,n,s)&&(i|=1),i<<=1,this.readModule(0,s-1,n,s)&&(i|=1),i<<=1,this.readModule(1,s-3,n,s)&&(i|=1),i<<=1,this.readModule(1,s-2,n,s)&&(i|=1),i<<=1,this.readModule(1,s-1,n,s)&&(i|=1),i}readCorner4(n,s){let i=0;return this.readModule(n-3,0,n,s)&&(i|=1),i<<=1,this.readModule(n-2,0,n,s)&&(i|=1),i<<=1,this.readModule(n-1,0,n,s)&&(i|=1),i<<=1,this.readModule(0,s-2,n,s)&&(i|=1),i<<=1,this.readModule(0,s-1,n,s)&&(i|=1),i<<=1,this.readModule(1,s-1,n,s)&&(i|=1),i<<=1,this.readModule(2,s-1,n,s)&&(i|=1),i<<=1,this.readModule(3,s-1,n,s)&&(i|=1),i}extractDataRegion(n){const s=this.version.getSymbolSizeRows(),i=this.version.getSymbolSizeColumns();if(n.getHeight()!==s)throw new v("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),h=s/l|0,f=i/u|0,m=h*l,w=f*u,b=new be(w,m);for(let E=0;E<h;++E){const j=E*l;for(let D=0;D<f;++D){const F=D*u;for(let U=0;U<l;++U){const G=E*(l+2)+1+U,$=j+U;for(let de=0;de<u;++de){const fe=D*(u+2)+1+de;if(n.get(fe,G)){const oe=F+de;b.set(oe,$)}}}}}return b}}class Bl{constructor(n,s){this.numDataCodewords=n,this.codewords=s}static getDataBlocks(n,s){const i=s.getECBlocks();let l=0;const u=i.getECBlocks();for(let U of u)l+=U.getCount();const h=new Array(l);let f=0;for(let U of u)for(let G=0;G<U.getCount();G++){const $=U.getDataCodewords(),de=i.getECCodewords()+$;h[f++]=new Bl($,new Uint8Array(de))}const w=h[0].codewords.length-i.getECCodewords(),b=w-1;let E=0;for(let U=0;U<b;U++)for(let G=0;G<f;G++)h[G].codewords[U]=n[E++];const j=s.getVersionNumber()===24,D=j?8:f;for(let U=0;U<D;U++)h[U].codewords[w-1]=n[E++];const F=h[0].codewords.length;for(let U=w;U<F;U++)for(let G=0;G<f;G++){const $=j?(G+8)%f:G,de=j&&$>7?U-1:U;h[$].codewords[de]=n[E++]}if(E!==n.length)throw new v;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Pl{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new v(""+n);let s=0,i=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(i>0){const h=8-i,f=n<h?n:h,m=h-f,w=255>>8-f<<m;s=(u[l]&w)>>m,n-=f,i+=f,i===8&&(i=0,l++)}if(n>0){for(;n>=8;)s=s<<8|u[l]&255,l++,n-=8;if(n>0){const h=8-n,f=255>>h<<h;s=s<<n|(u[l]&f)>>h,i+=n}}return this.bitOffset=i,this.byteOffset=l,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Rt;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(Rt||(Rt={}));class Ar{static decode(n){const s=new Pl(n),i=new ve,l=new ve,u=new Array;let h=Rt.ASCII_ENCODE;do if(h===Rt.ASCII_ENCODE)h=this.decodeAsciiSegment(s,i,l);else{switch(h){case Rt.C40_ENCODE:this.decodeC40Segment(s,i);break;case Rt.TEXT_ENCODE:this.decodeTextSegment(s,i);break;case Rt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,i);break;case Rt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,i);break;case Rt.BASE256_ENCODE:this.decodeBase256Segment(s,i,u);break;default:throw new P}h=Rt.ASCII_ENCODE}while(h!==Rt.PAD_ENCODE&&s.available()>0);return l.length()>0&&i.append(l.toString()),new pe(n,i.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(n,s,i){let l=!1;do{let u=n.readBits(8);if(u===0)throw new P;if(u<=128)return l&&(u+=128),s.append(String.fromCharCode(u-1)),Rt.ASCII_ENCODE;if(u===129)return Rt.PAD_ENCODE;if(u<=229){const h=u-130;h<10&&s.append("0"),s.append(""+h)}else switch(u){case 230:return Rt.C40_ENCODE;case 231:return Rt.BASE256_ENCODE;case 232:s.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:l=!0;break;case 236:s.append("[)>05"),i.insert(0,"");break;case 237:s.append("[)>06"),i.insert(0,"");break;case 238:return Rt.ANSIX12_ENCODE;case 239:return Rt.TEXT_ENCODE;case 240:return Rt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||n.available()!==0)throw new P;break}}while(n.available()>0);return Rt.ASCII_ENCODE}static decodeC40Segment(n,s){let i=!1;const l=[];let u=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),l);for(let f=0;f<3;f++){const m=l[f];switch(u){case 0:if(m<3)u=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[m];i?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),i=!1):s.append(w)}else throw new P;break;case 1:i?(s.append(String.fromCharCode(m+128)),i=!1):s.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[m];i?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),i=!1):s.append(w)}else switch(m){case 27:s.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new P}u=0;break;case 3:i?(s.append(String.fromCharCode(m+224)),i=!1):s.append(String.fromCharCode(m+96)),u=0;break;default:throw new P}}}while(n.available()>0)}static decodeTextSegment(n,s){let i=!1,l=[],u=0;do{if(n.available()===8)return;const h=n.readBits(8);if(h===254)return;this.parseTwoBytes(h,n.readBits(8),l);for(let f=0;f<3;f++){const m=l[f];switch(u){case 0:if(m<3)u=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[m];i?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),i=!1):s.append(w)}else throw new P;break;case 1:i?(s.append(String.fromCharCode(m+128)),i=!1):s.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[m];i?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),i=!1):s.append(w)}else switch(m){case 27:s.append(String.fromCharCode(29));break;case 30:i=!0;break;default:throw new P}u=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[m];i?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),i=!1):s.append(w),u=0}else throw new P;break;default:throw new P}}}while(n.available()>0)}static decodeAnsiX12Segment(n,s){const i=[];do{if(n.available()===8)return;const l=n.readBits(8);if(l===254)return;this.parseTwoBytes(l,n.readBits(8),i);for(let u=0;u<3;u++){const h=i[u];switch(h){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(h<14)s.append(String.fromCharCode(h+44));else if(h<40)s.append(String.fromCharCode(h+51));else throw new P;break}}}while(n.available()>0)}static parseTwoBytes(n,s,i){let l=(n<<8)+s-1,u=Math.floor(l/1600);i[0]=u,l-=u*1600,u=Math.floor(l/40),i[1]=u,i[2]=l-u*40}static decodeEdifactSegment(n,s){do{if(n.available()<=16)return;for(let i=0;i<4;i++){let l=n.readBits(6);if(l===31){const u=8-n.getBitOffset();u!==8&&n.readBits(u);return}l&32||(l|=64),s.append(String.fromCharCode(l))}}while(n.available()>0)}static decodeBase256Segment(n,s,i){let l=1+n.getByteOffset();const u=this.unrandomize255State(n.readBits(8),l++);let h;if(u===0?h=n.available()/8|0:u<250?h=u:h=250*(u-249)+this.unrandomize255State(n.readBits(8),l++),h<0)throw new P;const f=new Uint8Array(h);for(let m=0;m<h;m++){if(n.available()<8)throw new P;f[m]=this.unrandomize255State(n.readBits(8),l++)}i.push(f);try{s.append(Ie.decode(f,ge.ISO88591))}catch(m){throw new Ve("Platform does not support required encoding: "+m.message)}}static unrandomize255State(n,s){const i=149*s%255+1,l=n-i;return l>=0?l:l+256}}Ar.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Ar.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Ar.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Ar.TEXT_SHIFT2_SET_CHARS=Ar.C40_SHIFT2_SET_CHARS,Ar.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class km{constructor(){this.rsDecoder=new ze(me.DATA_MATRIX_FIELD_256)}decode(n){const s=new Ll(n),i=s.getVersion(),l=s.readCodewords(),u=Bl.getDataBlocks(l,i);let h=0;for(let w of u)h+=w.getNumDataCodewords();const f=new Uint8Array(h),m=u.length;for(let w=0;w<m;w++){const b=u[w],E=b.getCodewords(),j=b.getNumDataCodewords();this.correctErrors(E,j);for(let D=0;D<j;D++)f[D*m+w]=E[D]}return Ar.decode(f)}correctErrors(n,s){const i=new Int32Array(n);try{this.rsDecoder.decode(i,n.length-s)}catch{throw new k}for(let l=0;l<s;l++)n[l]=i[l]}}class Ct{constructor(n){this.image=n,this.rectangleDetector=new lr(this.image)}detect(){const n=this.rectangleDetector.detect();let s=this.detectSolid1(n);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new z;s=this.shiftToModuleCenter(s);const i=s[0],l=s[1],u=s[2],h=s[3];let f=this.transitionsBetween(i,h)+1,m=this.transitionsBetween(u,h)+1;(f&1)===1&&(f+=1),(m&1)===1&&(m+=1),4*f<7*m&&4*m<7*f&&(f=m=Math.max(f,m));let w=Ct.sampleGrid(this.image,i,l,u,h,f,m);return new ko(w,[i,l,u,h])}static shiftPoint(n,s,i){let l=(s.getX()-n.getX())/(i+1),u=(s.getY()-n.getY())/(i+1);return new je(n.getX()+l,n.getY()+u)}static moveAway(n,s,i){let l=n.getX(),u=n.getY();return l<s?l-=1:l+=1,u<i?u-=1:u+=1,new je(l,u)}detectSolid1(n){let s=n[0],i=n[1],l=n[3],u=n[2],h=this.transitionsBetween(s,i),f=this.transitionsBetween(i,l),m=this.transitionsBetween(l,u),w=this.transitionsBetween(u,s),b=h,E=[u,s,i,l];return b>f&&(b=f,E[0]=s,E[1]=i,E[2]=l,E[3]=u),b>m&&(b=m,E[0]=i,E[1]=l,E[2]=u,E[3]=s),b>w&&(E[0]=l,E[1]=u,E[2]=s,E[3]=i),E}detectSolid2(n){let s=n[0],i=n[1],l=n[2],u=n[3],h=this.transitionsBetween(s,u),f=Ct.shiftPoint(i,l,(h+1)*4),m=Ct.shiftPoint(l,i,(h+1)*4),w=this.transitionsBetween(f,s),b=this.transitionsBetween(m,u);return w<b?(n[0]=s,n[1]=i,n[2]=l,n[3]=u):(n[0]=i,n[1]=l,n[2]=u,n[3]=s),n}correctTopRight(n){let s=n[0],i=n[1],l=n[2],u=n[3],h=this.transitionsBetween(s,u),f=this.transitionsBetween(i,u),m=Ct.shiftPoint(s,i,(f+1)*4),w=Ct.shiftPoint(l,i,(h+1)*4);h=this.transitionsBetween(m,u),f=this.transitionsBetween(w,u);let b=new je(u.getX()+(l.getX()-i.getX())/(h+1),u.getY()+(l.getY()-i.getY())/(h+1)),E=new je(u.getX()+(s.getX()-i.getX())/(f+1),u.getY()+(s.getY()-i.getY())/(f+1));if(!this.isValid(b))return this.isValid(E)?E:null;if(!this.isValid(E))return b;let j=this.transitionsBetween(m,b)+this.transitionsBetween(w,b),D=this.transitionsBetween(m,E)+this.transitionsBetween(w,E);return j>D?b:E}shiftToModuleCenter(n){let s=n[0],i=n[1],l=n[2],u=n[3],h=this.transitionsBetween(s,u)+1,f=this.transitionsBetween(l,u)+1,m=Ct.shiftPoint(s,i,f*4),w=Ct.shiftPoint(l,i,h*4);h=this.transitionsBetween(m,u)+1,f=this.transitionsBetween(w,u)+1,(h&1)===1&&(h+=1),(f&1)===1&&(f+=1);let b=(s.getX()+i.getX()+l.getX()+u.getX())/4,E=(s.getY()+i.getY()+l.getY()+u.getY())/4;s=Ct.moveAway(s,b,E),i=Ct.moveAway(i,b,E),l=Ct.moveAway(l,b,E),u=Ct.moveAway(u,b,E);let j,D;return m=Ct.shiftPoint(s,i,f*4),m=Ct.shiftPoint(m,u,h*4),j=Ct.shiftPoint(i,s,f*4),j=Ct.shiftPoint(j,l,h*4),w=Ct.shiftPoint(l,u,f*4),w=Ct.shiftPoint(w,i,h*4),D=Ct.shiftPoint(u,l,f*4),D=Ct.shiftPoint(D,s,h*4),[m,j,w,D]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,s,i,l,u,h,f){return Cr.getInstance().sampleGrid(n,h,f,.5,.5,h-.5,.5,h-.5,f-.5,.5,f-.5,s.getX(),s.getY(),u.getX(),u.getY(),l.getX(),l.getY(),i.getX(),i.getY())}transitionsBetween(n,s){let i=Math.trunc(n.getX()),l=Math.trunc(n.getY()),u=Math.trunc(s.getX()),h=Math.trunc(s.getY()),f=Math.abs(h-l)>Math.abs(u-i);if(f){let U=i;i=l,l=U,U=u,u=h,h=U}let m=Math.abs(u-i),w=Math.abs(h-l),b=-m/2,E=l<h?1:-1,j=i<u?1:-1,D=0,F=this.image.get(f?l:i,f?i:l);for(let U=i,G=l;U!==u;U+=j){let $=this.image.get(f?G:U,f?U:G);if($!==F&&(D++,F=$),b+=w,b>0){if(G===h)break;G+=E,b-=m}}return D}}class Sr{constructor(){this.decoder=new km}decode(n,s=null){let i,l;if(s!=null&&s.has(Q.PURE_BARCODE)){const w=Sr.extractPureBits(n.getBlackMatrix());i=this.decoder.decode(w),l=Sr.NO_POINTS}else{const w=new Ct(n.getBlackMatrix()).detect();i=this.decoder.decode(w.getBits()),l=w.getPoints()}const u=i.getRawBytes(),h=new ne(i.getText(),u,8*u.length,l,ee.DATA_MATRIX,R.currentTimeMillis()),f=i.getByteSegments();f!=null&&h.putMetadata(le.BYTE_SEGMENTS,f);const m=i.getECLevel();return m!=null&&h.putMetadata(le.ERROR_CORRECTION_LEVEL,m),h}reset(){}static extractPureBits(n){const s=n.getTopLeftOnBit(),i=n.getBottomRightOnBit();if(s==null||i==null)throw new z;const l=this.moduleSize(s,n);let u=s[1];const h=i[1];let f=s[0];const w=(i[0]-f+1)/l,b=(h-u+1)/l;if(w<=0||b<=0)throw new z;const E=l/2;u+=E,f+=E;const j=new be(w,b);for(let D=0;D<b;D++){const F=u+D*l;for(let U=0;U<w;U++)n.get(f+U*l,F)&&j.set(U,D)}return j}static moduleSize(n,s){const i=s.getWidth();let l=n[0];const u=n[1];for(;l<i&&s.get(l,u);)l++;if(l===i)throw new z;const h=l-n[0];if(h===0)throw new z;return h}}Sr.NO_POINTS=[];class Rm extends te{constructor(n=500){super(new Sr,n)}}var Ts;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(Ts||(Ts={}));class st{constructor(n,s,i){this.value=n,this.stringValue=s,this.bits=i,st.FOR_BITS.set(i,this),st.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return st.L;case"M":return st.M;case"Q":return st.Q;case"H":return st.H;default:throw new N(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof st))return!1;const s=n;return this.value===s.value}static forBits(n){if(n<0||n>=st.FOR_BITS.size)throw new v;return st.FOR_BITS.get(n)}}st.FOR_BITS=new Map,st.FOR_VALUE=new Map,st.L=new st(Ts.L,"L",1),st.M=new st(Ts.M,"M",0),st.Q=new st(Ts.Q,"Q",3),st.H=new st(Ts.H,"H",2);class qt{constructor(n){this.errorCorrectionLevel=st.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,s){return T.bitCount(n^s)}static decodeFormatInformation(n,s){const i=qt.doDecodeFormatInformation(n,s);return i!==null?i:qt.doDecodeFormatInformation(n^qt.FORMAT_INFO_MASK_QR,s^qt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,s){let i=Number.MAX_SAFE_INTEGER,l=0;for(const u of qt.FORMAT_INFO_DECODE_LOOKUP){const h=u[0];if(h===n||h===s)return new qt(u[1]);let f=qt.numBitsDiffering(n,h);f<i&&(l=u[1],i=f),n!==s&&(f=qt.numBitsDiffering(s,h),f<i&&(l=u[1],i=f))}return i<=3?new qt(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof qt))return!1;const s=n;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}qt.FORMAT_INFO_MASK_QR=21522,qt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class q{constructor(n,...s){this.ecCodewordsPerBlock=n,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const s=this.ecBlocks;for(const i of s)n+=i.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(n,s){this.count=n,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ke{constructor(n,s,...i){this.versionNumber=n,this.alignmentPatternCenters=s,this.ecBlocks=i;let l=0;const u=i[0].getECCodewordsPerBlock(),h=i[0].getECBlocks();for(const f of h)l+=f.getCount()*(f.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new P;try{return this.getVersionForNumber((n-17)/4)}catch{throw new P}}static getVersionForNumber(n){if(n<1||n>40)throw new v;return ke.VERSIONS[n-1]}static decodeVersionInformation(n){let s=Number.MAX_SAFE_INTEGER,i=0;for(let l=0;l<ke.VERSION_DECODE_INFO.length;l++){const u=ke.VERSION_DECODE_INFO[l];if(u===n)return ke.getVersionForNumber(l+7);const h=qt.numBitsDiffering(n,u);h<s&&(i=l+7,s=h)}return s<=3?ke.getVersionForNumber(i):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),s=new be(n);s.setRegion(0,0,9,9),s.setRegion(n-8,0,8,9),s.setRegion(0,n-8,9,8);const i=this.alignmentPatternCenters.length;for(let l=0;l<i;l++){const u=this.alignmentPatternCenters[l]-2;for(let h=0;h<i;h++)l===0&&(h===0||h===i-1)||l===i-1&&h===0||s.setRegion(this.alignmentPatternCenters[h]-2,u,5,5)}return s.setRegion(6,9,1,n-17),s.setRegion(9,6,n-17,1),this.versionNumber>6&&(s.setRegion(n-11,0,3,6),s.setRegion(0,n-11,6,3)),s}toString(){return""+this.versionNumber}}ke.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ke.VERSIONS=[new ke(1,new Int32Array(0),new q(7,new M(1,19)),new q(10,new M(1,16)),new q(13,new M(1,13)),new q(17,new M(1,9))),new ke(2,Int32Array.from([6,18]),new q(10,new M(1,34)),new q(16,new M(1,28)),new q(22,new M(1,22)),new q(28,new M(1,16))),new ke(3,Int32Array.from([6,22]),new q(15,new M(1,55)),new q(26,new M(1,44)),new q(18,new M(2,17)),new q(22,new M(2,13))),new ke(4,Int32Array.from([6,26]),new q(20,new M(1,80)),new q(18,new M(2,32)),new q(26,new M(2,24)),new q(16,new M(4,9))),new ke(5,Int32Array.from([6,30]),new q(26,new M(1,108)),new q(24,new M(2,43)),new q(18,new M(2,15),new M(2,16)),new q(22,new M(2,11),new M(2,12))),new ke(6,Int32Array.from([6,34]),new q(18,new M(2,68)),new q(16,new M(4,27)),new q(24,new M(4,19)),new q(28,new M(4,15))),new ke(7,Int32Array.from([6,22,38]),new q(20,new M(2,78)),new q(18,new M(4,31)),new q(18,new M(2,14),new M(4,15)),new q(26,new M(4,13),new M(1,14))),new ke(8,Int32Array.from([6,24,42]),new q(24,new M(2,97)),new q(22,new M(2,38),new M(2,39)),new q(22,new M(4,18),new M(2,19)),new q(26,new M(4,14),new M(2,15))),new ke(9,Int32Array.from([6,26,46]),new q(30,new M(2,116)),new q(22,new M(3,36),new M(2,37)),new q(20,new M(4,16),new M(4,17)),new q(24,new M(4,12),new M(4,13))),new ke(10,Int32Array.from([6,28,50]),new q(18,new M(2,68),new M(2,69)),new q(26,new M(4,43),new M(1,44)),new q(24,new M(6,19),new M(2,20)),new q(28,new M(6,15),new M(2,16))),new ke(11,Int32Array.from([6,30,54]),new q(20,new M(4,81)),new q(30,new M(1,50),new M(4,51)),new q(28,new M(4,22),new M(4,23)),new q(24,new M(3,12),new M(8,13))),new ke(12,Int32Array.from([6,32,58]),new q(24,new M(2,92),new M(2,93)),new q(22,new M(6,36),new M(2,37)),new q(26,new M(4,20),new M(6,21)),new q(28,new M(7,14),new M(4,15))),new ke(13,Int32Array.from([6,34,62]),new q(26,new M(4,107)),new q(22,new M(8,37),new M(1,38)),new q(24,new M(8,20),new M(4,21)),new q(22,new M(12,11),new M(4,12))),new ke(14,Int32Array.from([6,26,46,66]),new q(30,new M(3,115),new M(1,116)),new q(24,new M(4,40),new M(5,41)),new q(20,new M(11,16),new M(5,17)),new q(24,new M(11,12),new M(5,13))),new ke(15,Int32Array.from([6,26,48,70]),new q(22,new M(5,87),new M(1,88)),new q(24,new M(5,41),new M(5,42)),new q(30,new M(5,24),new M(7,25)),new q(24,new M(11,12),new M(7,13))),new ke(16,Int32Array.from([6,26,50,74]),new q(24,new M(5,98),new M(1,99)),new q(28,new M(7,45),new M(3,46)),new q(24,new M(15,19),new M(2,20)),new q(30,new M(3,15),new M(13,16))),new ke(17,Int32Array.from([6,30,54,78]),new q(28,new M(1,107),new M(5,108)),new q(28,new M(10,46),new M(1,47)),new q(28,new M(1,22),new M(15,23)),new q(28,new M(2,14),new M(17,15))),new ke(18,Int32Array.from([6,30,56,82]),new q(30,new M(5,120),new M(1,121)),new q(26,new M(9,43),new M(4,44)),new q(28,new M(17,22),new M(1,23)),new q(28,new M(2,14),new M(19,15))),new ke(19,Int32Array.from([6,30,58,86]),new q(28,new M(3,113),new M(4,114)),new q(26,new M(3,44),new M(11,45)),new q(26,new M(17,21),new M(4,22)),new q(26,new M(9,13),new M(16,14))),new ke(20,Int32Array.from([6,34,62,90]),new q(28,new M(3,107),new M(5,108)),new q(26,new M(3,41),new M(13,42)),new q(30,new M(15,24),new M(5,25)),new q(28,new M(15,15),new M(10,16))),new ke(21,Int32Array.from([6,28,50,72,94]),new q(28,new M(4,116),new M(4,117)),new q(26,new M(17,42)),new q(28,new M(17,22),new M(6,23)),new q(30,new M(19,16),new M(6,17))),new ke(22,Int32Array.from([6,26,50,74,98]),new q(28,new M(2,111),new M(7,112)),new q(28,new M(17,46)),new q(30,new M(7,24),new M(16,25)),new q(24,new M(34,13))),new ke(23,Int32Array.from([6,30,54,78,102]),new q(30,new M(4,121),new M(5,122)),new q(28,new M(4,47),new M(14,48)),new q(30,new M(11,24),new M(14,25)),new q(30,new M(16,15),new M(14,16))),new ke(24,Int32Array.from([6,28,54,80,106]),new q(30,new M(6,117),new M(4,118)),new q(28,new M(6,45),new M(14,46)),new q(30,new M(11,24),new M(16,25)),new q(30,new M(30,16),new M(2,17))),new ke(25,Int32Array.from([6,32,58,84,110]),new q(26,new M(8,106),new M(4,107)),new q(28,new M(8,47),new M(13,48)),new q(30,new M(7,24),new M(22,25)),new q(30,new M(22,15),new M(13,16))),new ke(26,Int32Array.from([6,30,58,86,114]),new q(28,new M(10,114),new M(2,115)),new q(28,new M(19,46),new M(4,47)),new q(28,new M(28,22),new M(6,23)),new q(30,new M(33,16),new M(4,17))),new ke(27,Int32Array.from([6,34,62,90,118]),new q(30,new M(8,122),new M(4,123)),new q(28,new M(22,45),new M(3,46)),new q(30,new M(8,23),new M(26,24)),new q(30,new M(12,15),new M(28,16))),new ke(28,Int32Array.from([6,26,50,74,98,122]),new q(30,new M(3,117),new M(10,118)),new q(28,new M(3,45),new M(23,46)),new q(30,new M(4,24),new M(31,25)),new q(30,new M(11,15),new M(31,16))),new ke(29,Int32Array.from([6,30,54,78,102,126]),new q(30,new M(7,116),new M(7,117)),new q(28,new M(21,45),new M(7,46)),new q(30,new M(1,23),new M(37,24)),new q(30,new M(19,15),new M(26,16))),new ke(30,Int32Array.from([6,26,52,78,104,130]),new q(30,new M(5,115),new M(10,116)),new q(28,new M(19,47),new M(10,48)),new q(30,new M(15,24),new M(25,25)),new q(30,new M(23,15),new M(25,16))),new ke(31,Int32Array.from([6,30,56,82,108,134]),new q(30,new M(13,115),new M(3,116)),new q(28,new M(2,46),new M(29,47)),new q(30,new M(42,24),new M(1,25)),new q(30,new M(23,15),new M(28,16))),new ke(32,Int32Array.from([6,34,60,86,112,138]),new q(30,new M(17,115)),new q(28,new M(10,46),new M(23,47)),new q(30,new M(10,24),new M(35,25)),new q(30,new M(19,15),new M(35,16))),new ke(33,Int32Array.from([6,30,58,86,114,142]),new q(30,new M(17,115),new M(1,116)),new q(28,new M(14,46),new M(21,47)),new q(30,new M(29,24),new M(19,25)),new q(30,new M(11,15),new M(46,16))),new ke(34,Int32Array.from([6,34,62,90,118,146]),new q(30,new M(13,115),new M(6,116)),new q(28,new M(14,46),new M(23,47)),new q(30,new M(44,24),new M(7,25)),new q(30,new M(59,16),new M(1,17))),new ke(35,Int32Array.from([6,30,54,78,102,126,150]),new q(30,new M(12,121),new M(7,122)),new q(28,new M(12,47),new M(26,48)),new q(30,new M(39,24),new M(14,25)),new q(30,new M(22,15),new M(41,16))),new ke(36,Int32Array.from([6,24,50,76,102,128,154]),new q(30,new M(6,121),new M(14,122)),new q(28,new M(6,47),new M(34,48)),new q(30,new M(46,24),new M(10,25)),new q(30,new M(2,15),new M(64,16))),new ke(37,Int32Array.from([6,28,54,80,106,132,158]),new q(30,new M(17,122),new M(4,123)),new q(28,new M(29,46),new M(14,47)),new q(30,new M(49,24),new M(10,25)),new q(30,new M(24,15),new M(46,16))),new ke(38,Int32Array.from([6,32,58,84,110,136,162]),new q(30,new M(4,122),new M(18,123)),new q(28,new M(13,46),new M(32,47)),new q(30,new M(48,24),new M(14,25)),new q(30,new M(42,15),new M(32,16))),new ke(39,Int32Array.from([6,26,54,82,110,138,166]),new q(30,new M(20,117),new M(4,118)),new q(28,new M(40,47),new M(7,48)),new q(30,new M(43,24),new M(22,25)),new q(30,new M(10,15),new M(67,16))),new ke(40,Int32Array.from([6,30,58,86,114,142,170]),new q(30,new M(19,118),new M(6,119)),new q(28,new M(18,47),new M(31,48)),new q(30,new M(34,24),new M(34,25)),new q(30,new M(20,15),new M(61,16)))];var Dt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(Dt||(Dt={}));class jn{constructor(n,s){this.value=n,this.isMasked=s}unmaskBitMatrix(n,s){for(let i=0;i<s;i++)for(let l=0;l<s;l++)this.isMasked(i,l)&&n.flip(l,i)}}jn.values=new Map([[Dt.DATA_MASK_000,new jn(Dt.DATA_MASK_000,(C,n)=>(C+n&1)===0)],[Dt.DATA_MASK_001,new jn(Dt.DATA_MASK_001,(C,n)=>(C&1)===0)],[Dt.DATA_MASK_010,new jn(Dt.DATA_MASK_010,(C,n)=>n%3===0)],[Dt.DATA_MASK_011,new jn(Dt.DATA_MASK_011,(C,n)=>(C+n)%3===0)],[Dt.DATA_MASK_100,new jn(Dt.DATA_MASK_100,(C,n)=>(Math.floor(C/2)+Math.floor(n/3)&1)===0)],[Dt.DATA_MASK_101,new jn(Dt.DATA_MASK_101,(C,n)=>C*n%6===0)],[Dt.DATA_MASK_110,new jn(Dt.DATA_MASK_110,(C,n)=>C*n%6<3)],[Dt.DATA_MASK_111,new jn(Dt.DATA_MASK_111,(C,n)=>(C+n+C*n%3&1)===0)]]);class _m{constructor(n){const s=n.getHeight();if(s<21||(s&3)!==1)throw new P;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let u=0;u<6;u++)n=this.copyBit(u,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let u=5;u>=0;u--)n=this.copyBit(8,u,n);const s=this.bitMatrix.getHeight();let i=0;const l=s-7;for(let u=s-1;u>=l;u--)i=this.copyBit(8,u,i);for(let u=s-8;u<s;u++)i=this.copyBit(u,8,i);if(this.parsedFormatInfo=qt.decodeFormatInformation(n,i),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),s=Math.floor((n-17)/4);if(s<=6)return ke.getVersionForNumber(s);let i=0;const l=n-11;for(let h=5;h>=0;h--)for(let f=n-9;f>=l;f--)i=this.copyBit(f,h,i);let u=ke.decodeVersionInformation(i);if(u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;i=0;for(let h=5;h>=0;h--)for(let f=n-9;f>=l;f--)i=this.copyBit(h,f,i);if(u=ke.decodeVersionInformation(i),u!==null&&u.getDimensionForVersion()===n)return this.parsedVersion=u,u;throw new P}copyBit(n,s,i){return(this.isMirror?this.bitMatrix.get(s,n):this.bitMatrix.get(n,s))?i<<1|1:i<<1}readCodewords(){const n=this.readFormatInformation(),s=this.readVersion(),i=jn.values.get(n.getDataMask()),l=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,l);const u=s.buildFunctionPattern();let h=!0;const f=new Uint8Array(s.getTotalCodewords());let m=0,w=0,b=0;for(let E=l-1;E>0;E-=2){E===6&&E--;for(let j=0;j<l;j++){const D=h?l-1-j:j;for(let F=0;F<2;F++)u.get(E-F,D)||(b++,w<<=1,this.bitMatrix.get(E-F,D)&&(w|=1),b===8&&(f[m++]=w,b=0,w=0))}h=!h}if(m!==s.getTotalCodewords())throw new P;return f}remask(){if(this.parsedFormatInfo===null)return;const n=jn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,s)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let s=0,i=n.getWidth();s<i;s++)for(let l=s+1,u=n.getHeight();l<u;l++)n.get(s,l)!==n.get(l,s)&&(n.flip(l,s),n.flip(s,l))}}class Fl{constructor(n,s){this.numDataCodewords=n,this.codewords=s}static getDataBlocks(n,s,i){if(n.length!==s.getTotalCodewords())throw new v;const l=s.getECBlocksForLevel(i);let u=0;const h=l.getECBlocks();for(const F of h)u+=F.getCount();const f=new Array(u);let m=0;for(const F of h)for(let U=0;U<F.getCount();U++){const G=F.getDataCodewords(),$=l.getECCodewordsPerBlock()+G;f[m++]=new Fl(G,new Uint8Array($))}const w=f[0].codewords.length;let b=f.length-1;for(;b>=0&&f[b].codewords.length!==w;)b--;b++;const E=w-l.getECCodewordsPerBlock();let j=0;for(let F=0;F<E;F++)for(let U=0;U<m;U++)f[U].codewords[F]=n[j++];for(let F=b;F<m;F++)f[F].codewords[E]=n[j++];const D=f[0].codewords.length;for(let F=E;F<D;F++)for(let U=0;U<m;U++){const G=U<b?F:F+1;f[U].codewords[G]=n[j++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Tn;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(Tn||(Tn={}));class _e{constructor(n,s,i,l){this.value=n,this.stringValue=s,this.characterCountBitsForVersions=i,this.bits=l,_e.FOR_BITS.set(l,this),_e.FOR_VALUE.set(n,this)}static forBits(n){const s=_e.FOR_BITS.get(n);if(s===void 0)throw new v;return s}getCharacterCountBits(n){const s=n.getVersionNumber();let i;return s<=9?i=0:s<=26?i=1:i=2,this.characterCountBitsForVersions[i]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof _e))return!1;const s=n;return this.value===s.value}toString(){return this.stringValue}}_e.FOR_BITS=new Map,_e.FOR_VALUE=new Map,_e.TERMINATOR=new _e(Tn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),_e.NUMERIC=new _e(Tn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),_e.ALPHANUMERIC=new _e(Tn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),_e.STRUCTURED_APPEND=new _e(Tn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),_e.BYTE=new _e(Tn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),_e.ECI=new _e(Tn.ECI,"ECI",Int32Array.from([0,0,0]),7),_e.KANJI=new _e(Tn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),_e.FNC1_FIRST_POSITION=new _e(Tn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),_e.FNC1_SECOND_POSITION=new _e(Tn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),_e.HANZI=new _e(Tn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class xt{static decode(n,s,i,l){const u=new Pl(n);let h=new ve;const f=new Array;let m=-1,w=-1;try{let b=null,E=!1,j;do{if(u.available()<4)j=_e.TERMINATOR;else{const D=u.readBits(4);j=_e.forBits(D)}switch(j){case _e.TERMINATOR:break;case _e.FNC1_FIRST_POSITION:case _e.FNC1_SECOND_POSITION:E=!0;break;case _e.STRUCTURED_APPEND:if(u.available()<16)throw new P;m=u.readBits(8),w=u.readBits(8);break;case _e.ECI:const D=xt.parseECIValue(u);if(b=Y.getCharacterSetECIByValue(D),b===null)throw new P;break;case _e.HANZI:const F=u.readBits(4),U=u.readBits(j.getCharacterCountBits(s));F===xt.GB2312_SUBSET&&xt.decodeHanziSegment(u,h,U);break;default:const G=u.readBits(j.getCharacterCountBits(s));switch(j){case _e.NUMERIC:xt.decodeNumericSegment(u,h,G);break;case _e.ALPHANUMERIC:xt.decodeAlphanumericSegment(u,h,G,E);break;case _e.BYTE:xt.decodeByteSegment(u,h,G,b,f,l);break;case _e.KANJI:xt.decodeKanjiSegment(u,h,G);break;default:throw new P}break}}while(j!==_e.TERMINATOR)}catch{throw new P}return new pe(n,h.toString(),f.length===0?null:f,i===null?null:i.toString(),m,w)}static decodeHanziSegment(n,s,i){if(i*13>n.available())throw new P;const l=new Uint8Array(2*i);let u=0;for(;i>0;){const h=n.readBits(13);let f=h/96<<8&4294967295|h%96;f<959?f+=41377:f+=42657,l[u]=f>>8&255,l[u+1]=f&255,u+=2,i--}try{s.append(Ie.decode(l,ge.GB2312))}catch(h){throw new P(h)}}static decodeKanjiSegment(n,s,i){if(i*13>n.available())throw new P;const l=new Uint8Array(2*i);let u=0;for(;i>0;){const h=n.readBits(13);let f=h/192<<8&4294967295|h%192;f<7936?f+=33088:f+=49472,l[u]=f>>8,l[u+1]=f,u+=2,i--}try{s.append(Ie.decode(l,ge.SHIFT_JIS))}catch(h){throw new P(h)}}static decodeByteSegment(n,s,i,l,u,h){if(8*i>n.available())throw new P;const f=new Uint8Array(i);for(let w=0;w<i;w++)f[w]=n.readBits(8);let m;l===null?m=ge.guessEncoding(f,h):m=l.getName();try{s.append(Ie.decode(f,m))}catch(w){throw new P(w)}u.push(f)}static toAlphaNumericChar(n){if(n>=xt.ALPHANUMERIC_CHARS.length)throw new P;return xt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,s,i,l){const u=s.length();for(;i>1;){if(n.available()<11)throw new P;const h=n.readBits(11);s.append(xt.toAlphaNumericChar(Math.floor(h/45))),s.append(xt.toAlphaNumericChar(h%45)),i-=2}if(i===1){if(n.available()<6)throw new P;s.append(xt.toAlphaNumericChar(n.readBits(6)))}if(l)for(let h=u;h<s.length();h++)s.charAt(h)==="%"&&(h<s.length()-1&&s.charAt(h+1)==="%"?s.deleteCharAt(h+1):s.setCharAt(h,String.fromCharCode(29)))}static decodeNumericSegment(n,s,i){for(;i>=3;){if(n.available()<10)throw new P;const l=n.readBits(10);if(l>=1e3)throw new P;s.append(xt.toAlphaNumericChar(Math.floor(l/100))),s.append(xt.toAlphaNumericChar(Math.floor(l/10)%10)),s.append(xt.toAlphaNumericChar(l%10)),i-=3}if(i===2){if(n.available()<7)throw new P;const l=n.readBits(7);if(l>=100)throw new P;s.append(xt.toAlphaNumericChar(Math.floor(l/10))),s.append(xt.toAlphaNumericChar(l%10))}else if(i===1){if(n.available()<4)throw new P;const l=n.readBits(4);if(l>=10)throw new P;s.append(xt.toAlphaNumericChar(l))}}static parseECIValue(n){const s=n.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const i=n.readBits(8);return(s&63)<<8&4294967295|i}if((s&224)===192){const i=n.readBits(16);return(s&31)<<16&4294967295|i}throw new P}}xt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",xt.GB2312_SUBSET=1;class s0{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const s=n[0];n[0]=n[2],n[2]=s}}class Om{constructor(){this.rsDecoder=new ze(me.QR_CODE_FIELD_256)}decodeBooleanArray(n,s){return this.decodeBitMatrix(be.parseFromBooleanArray(n),s)}decodeBitMatrix(n,s){const i=new _m(n);let l=null;try{return this.decodeBitMatrixParser(i,s)}catch(u){l=u}try{i.remask(),i.setMirror(!0),i.readVersion(),i.readFormatInformation(),i.mirror();const u=this.decodeBitMatrixParser(i,s);return u.setOther(new s0(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(n,s){const i=n.readVersion(),l=n.readFormatInformation().getErrorCorrectionLevel(),u=n.readCodewords(),h=Fl.getDataBlocks(u,i,l);let f=0;for(const b of h)f+=b.getNumDataCodewords();const m=new Uint8Array(f);let w=0;for(const b of h){const E=b.getCodewords(),j=b.getNumDataCodewords();this.correctErrors(E,j);for(let D=0;D<j;D++)m[w++]=E[D]}return xt.decode(m,i,l,s)}correctErrors(n,s){const i=new Int32Array(n);try{this.rsDecoder.decode(i,n.length-s)}catch{throw new k}for(let l=0;l<s;l++)n[l]=i[l]}}class zl extends je{constructor(n,s,i){super(n,s),this.estimatedModuleSize=i}aboutEquals(n,s,i){if(Math.abs(s-this.getY())<=n&&Math.abs(i-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,s,i){const l=(this.getX()+s)/2,u=(this.getY()+n)/2,h=(this.estimatedModuleSize+i)/2;return new zl(l,u,h)}}class Do{constructor(n,s,i,l,u,h,f){this.image=n,this.startX=s,this.startY=i,this.width=l,this.height=u,this.moduleSize=h,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,s=this.height,i=this.width,l=n+i,u=this.startY+s/2,h=new Int32Array(3),f=this.image;for(let m=0;m<s;m++){const w=u+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));h[0]=0,h[1]=0,h[2]=0;let b=n;for(;b<l&&!f.get(b,w);)b++;let E=0;for(;b<l;){if(f.get(b,w))if(E===1)h[1]++;else if(E===2){if(this.foundPatternCross(h)){const j=this.handlePossibleCenter(h,w,b);if(j!==null)return j}h[0]=h[2],h[1]=1,h[2]=0,E=1}else h[++E]++;else E===1&&E++,h[E]++;b++}if(this.foundPatternCross(h)){const j=this.handlePossibleCenter(h,w,l);if(j!==null)return j}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new z}static centerFromEnd(n,s){return s-n[2]-n[1]/2}foundPatternCross(n){const s=this.moduleSize,i=s/2;for(let l=0;l<3;l++)if(Math.abs(s-n[l])>=i)return!1;return!0}crossCheckVertical(n,s,i,l){const u=this.image,h=u.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let m=n;for(;m>=0&&u.get(s,m)&&f[1]<=i;)f[1]++,m--;if(m<0||f[1]>i)return NaN;for(;m>=0&&!u.get(s,m)&&f[0]<=i;)f[0]++,m--;if(f[0]>i)return NaN;for(m=n+1;m<h&&u.get(s,m)&&f[1]<=i;)f[1]++,m++;if(m===h||f[1]>i)return NaN;for(;m<h&&!u.get(s,m)&&f[2]<=i;)f[2]++,m++;if(f[2]>i)return NaN;const w=f[0]+f[1]+f[2];return 5*Math.abs(w-l)>=2*l?NaN:this.foundPatternCross(f)?Do.centerFromEnd(f,m):NaN}handlePossibleCenter(n,s,i){const l=n[0]+n[1]+n[2],u=Do.centerFromEnd(n,i),h=this.crossCheckVertical(s,u,2*n[1],l);if(!isNaN(h)){const f=(n[0]+n[1]+n[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(f,h,u))return w.combineEstimate(h,u,f);const m=new zl(u,h,f);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class Ul extends je{constructor(n,s,i,l){super(n,s),this.estimatedModuleSize=i,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,s,i){if(Math.abs(s-this.getY())<=n&&Math.abs(i-this.getX())<=n){const l=Math.abs(n-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(n,s,i){const l=this.count+1,u=(this.count*this.getX()+s)/l,h=(this.count*this.getY()+n)/l,f=(this.count*this.estimatedModuleSize+i)/l;return new Ul(u,h,f,l)}}class Mm{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Lt{constructor(n,s){this.image=n,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const s=n!=null&&n.get(Q.TRY_HARDER)!==void 0,i=n!=null&&n.get(Q.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),h=l.getWidth();let f=Math.floor(3*u/(4*Lt.MAX_MODULES));(f<Lt.MIN_SKIP||s)&&(f=Lt.MIN_SKIP);let m=!1;const w=new Int32Array(5);for(let E=f-1;E<u&&!m;E+=f){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let j=0;for(let D=0;D<h;D++)if(l.get(D,E))(j&1)===1&&j++,w[j]++;else if(j&1)w[j]++;else if(j===4)if(Lt.foundPatternCross(w)){if(this.handlePossibleCenter(w,E,D,i)===!0)if(f=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>w[2]&&(E+=U-w[2]-f,D=h-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,j=3;continue}j=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,j=3;else w[++j]++;Lt.foundPatternCross(w)&&this.handlePossibleCenter(w,E,h,i)===!0&&(f=w[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return je.orderBestPatterns(b),new Mm(b)}static centerFromEnd(n,s){return s-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let s=0;for(let u=0;u<5;u++){const h=n[u];if(h===0)return!1;s+=h}if(s<7)return!1;const i=s/7,l=i/2;return Math.abs(i-n[0])<l&&Math.abs(i-n[1])<l&&Math.abs(3*i-n[2])<3*l&&Math.abs(i-n[3])<l&&Math.abs(i-n[4])<l}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,s,i,l){const u=this.getCrossCheckStateCount();let h=0;const f=this.image;for(;n>=h&&s>=h&&f.get(s-h,n-h);)u[2]++,h++;if(n<h||s<h)return!1;for(;n>=h&&s>=h&&!f.get(s-h,n-h)&&u[1]<=i;)u[1]++,h++;if(n<h||s<h||u[1]>i)return!1;for(;n>=h&&s>=h&&f.get(s-h,n-h)&&u[0]<=i;)u[0]++,h++;if(u[0]>i)return!1;const m=f.getHeight(),w=f.getWidth();for(h=1;n+h<m&&s+h<w&&f.get(s+h,n+h);)u[2]++,h++;if(n+h>=m||s+h>=w)return!1;for(;n+h<m&&s+h<w&&!f.get(s+h,n+h)&&u[3]<i;)u[3]++,h++;if(n+h>=m||s+h>=w||u[3]>=i)return!1;for(;n+h<m&&s+h<w&&f.get(s+h,n+h)&&u[4]<i;)u[4]++,h++;if(u[4]>=i)return!1;const b=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(b-l)<2*l&&Lt.foundPatternCross(u)}crossCheckVertical(n,s,i,l){const u=this.image,h=u.getHeight(),f=this.getCrossCheckStateCount();let m=n;for(;m>=0&&u.get(s,m);)f[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(s,m)&&f[1]<=i;)f[1]++,m--;if(m<0||f[1]>i)return NaN;for(;m>=0&&u.get(s,m)&&f[0]<=i;)f[0]++,m--;if(f[0]>i)return NaN;for(m=n+1;m<h&&u.get(s,m);)f[2]++,m++;if(m===h)return NaN;for(;m<h&&!u.get(s,m)&&f[3]<i;)f[3]++,m++;if(m===h||f[3]>=i)return NaN;for(;m<h&&u.get(s,m)&&f[4]<i;)f[4]++,m++;if(f[4]>=i)return NaN;const w=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(w-l)>=2*l?NaN:Lt.foundPatternCross(f)?Lt.centerFromEnd(f,m):NaN}crossCheckHorizontal(n,s,i,l){const u=this.image,h=u.getWidth(),f=this.getCrossCheckStateCount();let m=n;for(;m>=0&&u.get(m,s);)f[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(m,s)&&f[1]<=i;)f[1]++,m--;if(m<0||f[1]>i)return NaN;for(;m>=0&&u.get(m,s)&&f[0]<=i;)f[0]++,m--;if(f[0]>i)return NaN;for(m=n+1;m<h&&u.get(m,s);)f[2]++,m++;if(m===h)return NaN;for(;m<h&&!u.get(m,s)&&f[3]<i;)f[3]++,m++;if(m===h||f[3]>=i)return NaN;for(;m<h&&u.get(m,s)&&f[4]<i;)f[4]++,m++;if(f[4]>=i)return NaN;const w=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(w-l)>=l?NaN:Lt.foundPatternCross(f)?Lt.centerFromEnd(f,m):NaN}handlePossibleCenter(n,s,i,l){const u=n[0]+n[1]+n[2]+n[3]+n[4];let h=Lt.centerFromEnd(n,i),f=this.crossCheckVertical(s,Math.floor(h),n[2],u);if(!isNaN(f)&&(h=this.crossCheckHorizontal(Math.floor(h),Math.floor(f),n[2],u),!isNaN(h)&&(!l||this.crossCheckDiagonal(Math.floor(f),Math.floor(h),n[2],u)))){const m=u/7;let w=!1;const b=this.possibleCenters;for(let E=0,j=b.length;E<j;E++){const D=b[E];if(D.aboutEquals(m,f,h)){b[E]=D.combineEstimate(f,h,m),w=!0;break}}if(!w){const E=new Ul(h,f,m);b.push(E),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(E)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const i of this.possibleCenters)if(i.getCount()>=Lt.CENTER_QUORUM)if(s==null)s=i;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-i.getX())-Math.abs(s.getY()-i.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,s=0;const i=this.possibleCenters.length;for(const h of this.possibleCenters)h.getCount()>=Lt.CENTER_QUORUM&&(n++,s+=h.getEstimatedModuleSize());if(n<3)return!1;const l=s/i;let u=0;for(const h of this.possibleCenters)u+=Math.abs(h.getEstimatedModuleSize()-l);return u<=.05*s}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new z;const s=this.possibleCenters;let i;if(n>3){let l=0,u=0;for(const m of this.possibleCenters){const w=m.getEstimatedModuleSize();l+=w,u+=w*w}i=l/n;let h=Math.sqrt(u/n-i*i);s.sort((m,w)=>{const b=Math.abs(w.getEstimatedModuleSize()-i),E=Math.abs(m.getEstimatedModuleSize()-i);return b<E?-1:b>E?1:0});const f=Math.max(.2*i,h);for(let m=0;m<s.length&&s.length>3;m++){const w=s[m];Math.abs(w.getEstimatedModuleSize()-i)>f&&(s.splice(m,1),m--)}}if(s.length>3){let l=0;for(const u of s)l+=u.getEstimatedModuleSize();i=l/s.length,s.sort((u,h)=>{if(h.getCount()===u.getCount()){const f=Math.abs(h.getEstimatedModuleSize()-i),m=Math.abs(u.getEstimatedModuleSize()-i);return f<m?1:f>m?-1:0}else return h.getCount()-u.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}Lt.CENTER_QUORUM=2,Lt.MIN_SKIP=3,Lt.MAX_MODULES=57;class bi{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(Q.NEED_RESULT_POINT_CALLBACK);const i=new Lt(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(i)}processFinderPatternInfo(n){const s=n.getTopLeft(),i=n.getTopRight(),l=n.getBottomLeft(),u=this.calculateModuleSize(s,i,l);if(u<1)throw new z("No pattern found in proccess finder.");const h=bi.computeDimension(s,i,l,u),f=ke.getProvisionalVersionForDimension(h),m=f.getDimensionForVersion()-7;let w=null;if(f.getAlignmentPatternCenters().length>0){const D=i.getX()-s.getX()+l.getX(),F=i.getY()-s.getY()+l.getY(),U=1-3/m,G=Math.floor(s.getX()+U*(D-s.getX())),$=Math.floor(s.getY()+U*(F-s.getY()));for(let de=4;de<=16;de<<=1)try{w=this.findAlignmentInRegion(u,G,$,de);break}catch(fe){if(!(fe instanceof z))throw fe}}const b=bi.createTransform(s,i,l,w,h),E=bi.sampleGrid(this.image,b,h);let j;return w===null?j=[l,s,i]:j=[l,s,i,w],new ko(E,j)}static createTransform(n,s,i,l,u){const h=u-3.5;let f,m,w,b;return l!==null?(f=l.getX(),m=l.getY(),w=h-3,b=w):(f=s.getX()-n.getX()+i.getX(),m=s.getY()-n.getY()+i.getY(),w=h,b=h),Bn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,w,b,3.5,h,n.getX(),n.getY(),s.getX(),s.getY(),f,m,i.getX(),i.getY())}static sampleGrid(n,s,i){return Cr.getInstance().sampleGridWithTransform(n,i,i,s)}static computeDimension(n,s,i,l){const u=Qe.round(je.distance(n,s)/l),h=Qe.round(je.distance(n,i)/l);let f=Math.floor((u+h)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new z("Dimensions could be not found.")}return f}calculateModuleSize(n,s,i){return(this.calculateModuleSizeOneWay(n,s)+this.calculateModuleSizeOneWay(n,i))/2}calculateModuleSizeOneWay(n,s){const i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(s.getX()),Math.floor(s.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(i)?l/7:isNaN(l)?i/7:(i+l)/14}sizeOfBlackWhiteBlackRunBothWays(n,s,i,l){let u=this.sizeOfBlackWhiteBlackRun(n,s,i,l),h=1,f=n-(i-n);f<0?(h=n/(n-f),f=0):f>=this.image.getWidth()&&(h=(this.image.getWidth()-1-n)/(f-n),f=this.image.getWidth()-1);let m=Math.floor(s-(l-s)*h);return h=1,m<0?(h=s/(s-m),m=0):m>=this.image.getHeight()&&(h=(this.image.getHeight()-1-s)/(m-s),m=this.image.getHeight()-1),f=Math.floor(n+(f-n)*h),u+=this.sizeOfBlackWhiteBlackRun(n,s,f,m),u-1}sizeOfBlackWhiteBlackRun(n,s,i,l){const u=Math.abs(l-s)>Math.abs(i-n);if(u){let D=n;n=s,s=D,D=i,i=l,l=D}const h=Math.abs(i-n),f=Math.abs(l-s);let m=-h/2;const w=n<i?1:-1,b=s<l?1:-1;let E=0;const j=i+w;for(let D=n,F=s;D!==j;D+=w){const U=u?F:D,G=u?D:F;if(E===1===this.image.get(U,G)){if(E===2)return Qe.distance(D,F,n,s);E++}if(m+=f,m>0){if(F===l)break;F+=b,m-=h}}return E===2?Qe.distance(i+w,l,n,s):NaN}findAlignmentInRegion(n,s,i,l){const u=Math.floor(l*n),h=Math.max(0,s-u),f=Math.min(this.image.getWidth()-1,s+u);if(f-h<n*3)throw new z("Alignment top exceeds estimated module size.");const m=Math.max(0,i-u),w=Math.min(this.image.getHeight()-1,i+u);if(w-m<n*3)throw new z("Alignment bottom exceeds estimated module size.");return new Do(this.image,h,m,f-h,w-m,n,this.resultPointCallback).find()}}class jr{constructor(){this.decoder=new Om}getDecoder(){return this.decoder}decode(n,s){let i,l;if(s!=null&&s.get(Q.PURE_BARCODE)!==void 0){const m=jr.extractPureBits(n.getBlackMatrix());i=this.decoder.decodeBitMatrix(m,s),l=jr.NO_POINTS}else{const m=new bi(n.getBlackMatrix()).detect(s);i=this.decoder.decodeBitMatrix(m.getBits(),s),l=m.getPoints()}i.getOther()instanceof s0&&i.getOther().applyMirroredCorrection(l);const u=new ne(i.getText(),i.getRawBytes(),void 0,l,ee.QR_CODE,void 0),h=i.getByteSegments();h!==null&&u.putMetadata(le.BYTE_SEGMENTS,h);const f=i.getECLevel();return f!==null&&u.putMetadata(le.ERROR_CORRECTION_LEVEL,f),i.hasStructuredAppend()&&(u.putMetadata(le.STRUCTURED_APPEND_SEQUENCE,i.getStructuredAppendSequenceNumber()),u.putMetadata(le.STRUCTURED_APPEND_PARITY,i.getStructuredAppendParity())),u}reset(){}static extractPureBits(n){const s=n.getTopLeftOnBit(),i=n.getBottomRightOnBit();if(s===null||i===null)throw new z;const l=this.moduleSize(s,n);let u=s[1],h=i[1],f=s[0],m=i[0];if(f>=m||u>=h)throw new z;if(h-u!==m-f&&(m=f+(h-u),m>=n.getWidth()))throw new z;const w=Math.round((m-f+1)/l),b=Math.round((h-u+1)/l);if(w<=0||b<=0)throw new z;if(b!==w)throw new z;const E=Math.floor(l/2);u+=E,f+=E;const j=f+Math.floor((w-1)*l)-m;if(j>0){if(j>E)throw new z;f-=j}const D=u+Math.floor((b-1)*l)-h;if(D>0){if(D>E)throw new z;u-=D}const F=new be(w,b);for(let U=0;U<b;U++){const G=u+Math.floor(U*l);for(let $=0;$<w;$++)n.get(f+Math.floor($*l),G)&&F.set($,U)}return F}static moduleSize(n,s){const i=s.getHeight(),l=s.getWidth();let u=n[0],h=n[1],f=!0,m=0;for(;u<l&&h<i;){if(f!==s.get(u,h)){if(++m===5)break;f=!f}u++,h++}if(u===l||h===i)throw new z;return(u-n[0])/7}}jr.NO_POINTS=new Array;class Me{PDF417Common(){}static getBitCountSum(n){return Qe.sum(n)}static toIntArray(n){if(n==null||!n.length)return Me.EMPTY_INT_ARRAY;const s=new Int32Array(n.length);let i=0;for(const l of n)s[i++]=l;return s}static getCodeword(n){const s=A.binarySearch(Me.SYMBOL_TABLE,n&262143);return s<0?-1:(Me.CODEWORD_TABLE[s]-1)%Me.NUMBER_OF_CODEWORDS}}Me.NUMBER_OF_CODEWORDS=929,Me.MAX_CODEWORDS_IN_BARCODE=Me.NUMBER_OF_CODEWORDS-1,Me.MIN_ROWS_IN_BARCODE=3,Me.MAX_ROWS_IN_BARCODE=90,Me.MODULES_IN_CODEWORD=17,Me.MODULES_IN_STOP_PATTERN=18,Me.BARS_IN_MODULE=8,Me.EMPTY_INT_ARRAY=new Int32Array([]),Me.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Me.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Dm{constructor(n,s){this.bits=n,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Be{static detectMultiple(n,s,i){let l=n.getBlackMatrix(),u=Be.detect(i,l);return u.length||(l=l.clone(),l.rotate180(),u=Be.detect(i,l)),new Dm(l,u)}static detect(n,s){const i=new Array;let l=0,u=0,h=!1;for(;l<s.getHeight();){const f=Be.findVertices(s,l,u);if(f[0]==null&&f[3]==null){if(!h)break;h=!1,u=0;for(const m of i)m[1]!=null&&(l=Math.trunc(Math.max(l,m[1].getY()))),m[3]!=null&&(l=Math.max(l,Math.trunc(m[3].getY())));l+=Be.ROW_STEP;continue}if(h=!0,i.push(f),!n)break;f[2]!=null?(u=Math.trunc(f[2].getX()),l=Math.trunc(f[2].getY())):(u=Math.trunc(f[4].getX()),l=Math.trunc(f[4].getY()))}return i}static findVertices(n,s,i){const l=n.getHeight(),u=n.getWidth(),h=new Array(8);return Be.copyToResult(h,Be.findRowsWithPattern(n,l,u,s,i,Be.START_PATTERN),Be.INDEXES_START_PATTERN),h[4]!=null&&(i=Math.trunc(h[4].getX()),s=Math.trunc(h[4].getY())),Be.copyToResult(h,Be.findRowsWithPattern(n,l,u,s,i,Be.STOP_PATTERN),Be.INDEXES_STOP_PATTERN),h}static copyToResult(n,s,i){for(let l=0;l<i.length;l++)n[i[l]]=s[l]}static findRowsWithPattern(n,s,i,l,u,h){const f=new Array(4);let m=!1;const w=new Int32Array(h.length);for(;l<s;l+=Be.ROW_STEP){let E=Be.findGuardPattern(n,u,l,i,!1,h,w);if(E!=null){for(;l>0;){const j=Be.findGuardPattern(n,u,--l,i,!1,h,w);if(j!=null)E=j;else{l++;break}}f[0]=new je(E[0],l),f[1]=new je(E[1],l),m=!0;break}}let b=l+1;if(m){let E=0,j=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;b<s;b++){const D=Be.findGuardPattern(n,j[0],b,i,!1,h,w);if(D!=null&&Math.abs(j[0]-D[0])<Be.MAX_PATTERN_DRIFT&&Math.abs(j[1]-D[1])<Be.MAX_PATTERN_DRIFT)j=D,E=0;else{if(E>Be.SKIPPED_ROW_COUNT_MAX)break;E++}}b-=E+1,f[2]=new je(j[0],b),f[3]=new je(j[1],b)}return b-l<Be.BARCODE_MIN_HEIGHT&&A.fill(f,null),f}static findGuardPattern(n,s,i,l,u,h,f){A.fillWithin(f,0,f.length,0);let m=s,w=0;for(;n.get(m,i)&&m>0&&w++<Be.MAX_PIXEL_DRIFT;)m--;let b=m,E=0,j=h.length;for(let D=u;b<l;b++)if(n.get(b,i)!==D)f[E]++;else{if(E===j-1){if(Be.patternMatchVariance(f,h,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE)return new Int32Array([m,b]);m+=f[0]+f[1],R.arraycopy(f,2,f,0,E-1),f[E-1]=0,f[E]=0,E--}else E++;f[E]=1,D=!D}return E===j-1&&Be.patternMatchVariance(f,h,Be.MAX_INDIVIDUAL_VARIANCE)<Be.MAX_AVG_VARIANCE?new Int32Array([m,b-1]):null}static patternMatchVariance(n,s,i){let l=n.length,u=0,h=0;for(let w=0;w<l;w++)u+=n[w],h+=s[w];if(u<h)return 1/0;let f=u/h;i*=f;let m=0;for(let w=0;w<l;w++){let b=n[w],E=s[w]*f,j=b>E?b-E:E-b;if(j>i)return 1/0;m+=j}return m/u}}Be.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Be.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Be.MAX_AVG_VARIANCE=.42,Be.MAX_INDIVIDUAL_VARIANCE=.8,Be.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Be.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Be.MAX_PIXEL_DRIFT=3,Be.MAX_PATTERN_DRIFT=5,Be.SKIPPED_ROW_COUNT_MAX=25,Be.ROW_STEP=5,Be.BARCODE_MIN_HEIGHT=10;class Ft{constructor(n,s){if(s.length===0)throw new v;this.field=n;let i=s.length;if(i>1&&s[0]===0){let l=1;for(;l<i&&s[l]===0;)l++;l===i?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(i-l),R.arraycopy(s,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let s=this.coefficients[0],i=this.coefficients.length;for(let l=1;l<i;l++)s=this.field.add(this.field.multiply(n,s),this.coefficients[l]);return s}add(n){if(!this.field.equals(n.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let s=this.coefficients,i=n.coefficients;if(s.length>i.length){let h=s;s=i,i=h}let l=new Int32Array(i.length),u=i.length-s.length;R.arraycopy(i,0,l,0,u);for(let h=u;h<i.length;h++)l[h]=this.field.add(s[h-u],i[h]);return new Ft(this.field,l)}subtract(n){if(!this.field.equals(n.field))throw new v("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof Ft?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new Ft(this.field,new Int32Array([0]));let s=this.coefficients,i=s.length,l=n.coefficients,u=l.length,h=new Int32Array(i+u-1);for(let f=0;f<i;f++){let m=s[f];for(let w=0;w<u;w++)h[f+w]=this.field.add(h[f+w],this.field.multiply(m,l[w]))}return new Ft(this.field,h)}negative(){let n=this.coefficients.length,s=new Int32Array(n);for(let i=0;i<n;i++)s[i]=this.field.subtract(0,this.coefficients[i]);return new Ft(this.field,s)}multiplyScalar(n){if(n===0)return new Ft(this.field,new Int32Array([0]));if(n===1)return this;let s=this.coefficients.length,i=new Int32Array(s);for(let l=0;l<s;l++)i[l]=this.field.multiply(this.coefficients[l],n);return new Ft(this.field,i)}multiplyByMonomial(n,s){if(n<0)throw new v;if(s===0)return new Ft(this.field,new Int32Array([0]));let i=this.coefficients.length,l=new Int32Array(i+n);for(let u=0;u<i;u++)l[u]=this.field.multiply(this.coefficients[u],s);return new Ft(this.field,l)}toString(){let n=new ve;for(let s=this.getDegree();s>=0;s--){let i=this.getCoefficient(s);i!==0&&(i<0?(n.append(" - "),i=-i):n.length()>0&&n.append(" + "),(s===0||i!==1)&&n.append(i),s!==0&&(s===1?n.append("x"):(n.append("x^"),n.append(s))))}return n.toString()}}class Lm{add(n,s){return(n+s)%this.modulus}subtract(n,s){return(this.modulus+n-s)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new v;return this.logTable[n]}inverse(n){if(n===0)throw new we;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,s){return n===0||s===0?0:this.expTable[(this.logTable[n]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Vl extends Lm{constructor(n,s){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let i=1;for(let l=0;l<n;l++)this.expTable[l]=i,i=i*s%n;for(let l=0;l<n-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Ft(this,new Int32Array([0])),this.one=new Ft(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,s){if(n<0)throw new v;if(s===0)return this.zero;let i=new Int32Array(n+1);return i[0]=s,new Ft(this,i)}}Vl.PDF417_GF=new Vl(Me.NUMBER_OF_CODEWORDS,3);class i0{constructor(){this.field=Vl.PDF417_GF}decode(n,s,i){let l=new Ft(this.field,n),u=new Int32Array(s),h=!1;for(let F=s;F>0;F--){let U=l.evaluateAt(this.field.exp(F));u[s-F]=U,U!==0&&(h=!0)}if(!h)return 0;let f=this.field.getOne();if(i!=null)for(const F of i){let U=this.field.exp(n.length-1-F),G=new Ft(this.field,new Int32Array([this.field.subtract(0,U),1]));f=f.multiply(G)}let m=new Ft(this.field,u),w=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),m,s),b=w[0],E=w[1],j=this.findErrorLocations(b),D=this.findErrorMagnitudes(E,b,j);for(let F=0;F<j.length;F++){let U=n.length-1-this.field.log(j[F]);if(U<0)throw k.getChecksumInstance();n[U]=this.field.subtract(n[U],D[F])}return j.length}runEuclideanAlgorithm(n,s,i){if(n.getDegree()<s.getDegree()){let j=n;n=s,s=j}let l=n,u=s,h=this.field.getZero(),f=this.field.getOne();for(;u.getDegree()>=Math.round(i/2);){let j=l,D=h;if(l=u,h=f,l.isZero())throw k.getChecksumInstance();u=j;let F=this.field.getZero(),U=l.getCoefficient(l.getDegree()),G=this.field.inverse(U);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let $=u.getDegree()-l.getDegree(),de=this.field.multiply(u.getCoefficient(u.getDegree()),G);F=F.add(this.field.buildMonomial($,de)),u=u.subtract(l.multiplyByMonomial($,de))}f=F.multiply(h).subtract(D).negative()}let m=f.getCoefficient(0);if(m===0)throw k.getChecksumInstance();let w=this.field.inverse(m),b=f.multiply(w),E=u.multiply(w);return[b,E]}findErrorLocations(n){let s=n.getDegree(),i=new Int32Array(s),l=0;for(let u=1;u<this.field.getSize()&&l<s;u++)n.evaluateAt(u)===0&&(i[l]=this.field.inverse(u),l++);if(l!==s)throw k.getChecksumInstance();return i}findErrorMagnitudes(n,s,i){let l=s.getDegree(),u=new Int32Array(l);for(let w=1;w<=l;w++)u[l-w]=this.field.multiply(w,s.getCoefficient(w));let h=new Ft(this.field,u),f=i.length,m=new Int32Array(f);for(let w=0;w<f;w++){let b=this.field.inverse(i[w]),E=this.field.subtract(0,n.evaluateAt(b)),j=this.field.inverse(h.evaluateAt(b));m[w]=this.field.multiply(E,j)}return m}}class is{constructor(n,s,i,l,u){n instanceof is?this.constructor_2(n):this.constructor_1(n,s,i,l,u)}constructor_1(n,s,i,l,u){const h=s==null||i==null,f=l==null||u==null;if(h&&f)throw new z;h?(s=new je(0,l.getY()),i=new je(0,u.getY())):f&&(l=new je(n.getWidth()-1,s.getY()),u=new je(n.getWidth()-1,i.getY())),this.image=n,this.topLeft=s,this.bottomLeft=i,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(s.getX(),i.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(s.getY(),l.getY())),this.maxY=Math.trunc(Math.max(i.getY(),u.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,s){return n==null?s:s==null?n:new is(n.image,n.topLeft,n.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(n,s,i){let l=this.topLeft,u=this.bottomLeft,h=this.topRight,f=this.bottomRight;if(n>0){let m=i?this.topLeft:this.topRight,w=Math.trunc(m.getY()-n);w<0&&(w=0);let b=new je(m.getX(),w);i?l=b:h=b}if(s>0){let m=i?this.bottomLeft:this.bottomRight,w=Math.trunc(m.getY()+s);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let b=new je(m.getX(),w);i?u=b:f=b}return new is(this.image,l,u,h,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Bm{constructor(n,s,i,l){this.columnCount=n,this.errorCorrectionLevel=l,this.rowCountUpperPart=s,this.rowCountLowerPart=i,this.rowCount=s+i}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class vi{constructor(){this.buffer=""}static form(n,s){let i=-1;function l(h,f,m,w,b,E){if(h==="%%")return"%";if(s[++i]===void 0)return;h=w?parseInt(w.substr(1)):void 0;let j=b?parseInt(b.substr(1)):void 0,D;switch(E){case"s":D=s[i];break;case"c":D=s[i][0];break;case"f":D=parseFloat(s[i]).toFixed(h);break;case"p":D=parseFloat(s[i]).toPrecision(h);break;case"e":D=parseFloat(s[i]).toExponential(h);break;case"x":D=parseInt(s[i]).toString(j||16);break;case"d":D=parseFloat(parseInt(s[i],j||10).toPrecision(h)).toFixed(0);break}D=typeof D=="object"?JSON.stringify(D):(+D).toString(j);let F=parseInt(m),U=m&&m[0]+""=="0"?"0":" ";for(;D.length<F;)D=f!==void 0?D+U:U+D;return D}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(u,l)}format(n,...s){this.buffer+=vi.form(n,s)}toString(){return this.buffer}}class Ni{constructor(n){this.boundingBox=new is(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let s=this.getCodeword(n);if(s!=null)return s;for(let i=1;i<Ni.MAX_NEARBY_DISTANCE;i++){let l=this.imageRowToCodewordIndex(n)-i;if(l>=0&&(s=this.codewords[l],s!=null)||(l=this.imageRowToCodewordIndex(n)+i,l<this.codewords.length&&(s=this.codewords[l],s!=null)))return s}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,s){this.codewords[this.imageRowToCodewordIndex(n)]=s}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new vi;let s=0;for(const i of this.codewords){if(i==null){n.format("%3d:    |   %n",s++);continue}n.format("%3d: %3d|%3d%n",s++,i.getRowNumber(),i.getValue())}return n.toString()}}Ni.MAX_NEARBY_DISTANCE=5;class Ci{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let s=this.values.get(n);s==null&&(s=0),s++,this.values.set(n,s)}getValue(){let n=-1,s=new Array;for(const[i,l]of this.values.entries()){const u={getKey:()=>i,getValue:()=>l};u.getValue()>n?(n=u.getValue(),s=[],s.push(u.getKey())):u.getValue()===n&&s.push(u.getKey())}return Me.toIntArray(s)}getConfidence(n){return this.values.get(n)}}class o0 extends Ni{constructor(n,s){super(n),this._isLeft=s}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,n);let i=this.getBoundingBox(),l=this._isLeft?i.getTopLeft():i.getTopRight(),u=this._isLeft?i.getBottomLeft():i.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=-1,w=1,b=0;for(let E=h;E<f;E++){if(s[E]==null)continue;let j=s[E],D=j.getRowNumber()-m;if(D===0)b++;else if(D===1)w=Math.max(w,b),b=1,m=j.getRowNumber();else if(D<0||j.getRowNumber()>=n.getRowCount()||D>E)s[E]=null;else{let F;w>2?F=(w-2)*D:F=D;let U=F>=E;for(let G=1;G<=F&&!U;G++)U=s[E-G]!=null;U?s[E]=null:(m=j.getRowNumber(),b=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let s=new Int32Array(n.getRowCount());for(let i of this.getCodewords())if(i!=null){let l=i.getRowNumber();if(l>=s.length)continue;s[l]++}return s}adjustIncompleteIndicatorColumnRowNumbers(n){let s=this.getBoundingBox(),i=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(i.getY())),h=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.getCodewords(),m=-1;for(let w=u;w<h;w++){if(f[w]==null)continue;let b=f[w];b.setRowNumberAsRowIndicatorColumn();let E=b.getRowNumber()-m;E===0||(E===1?m=b.getRowNumber():b.getRowNumber()>=n.getRowCount()?f[w]=null:m=b.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),s=new Ci,i=new Ci,l=new Ci,u=new Ci;for(let f of n){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let m=f.getValue()%30,w=f.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:i.setValue(m*3+1);break;case 1:u.setValue(m/3),l.setValue(m%3);break;case 2:s.setValue(m+1);break}}if(s.getValue().length===0||i.getValue().length===0||l.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||i.getValue()[0]+l.getValue()[0]<Me.MIN_ROWS_IN_BARCODE||i.getValue()[0]+l.getValue()[0]>Me.MAX_ROWS_IN_BARCODE)return null;let h=new Bm(s.getValue()[0],i.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(n,h),h}removeIncorrectCodewords(n,s){for(let i=0;i<n.length;i++){let l=n[i];if(n[i]==null)continue;let u=l.getValue()%30,h=l.getRowNumber();if(h>s.getRowCount()){n[i]=null;continue}switch(this._isLeft||(h+=2),h%3){case 0:u*3+1!==s.getRowCountUpperPart()&&(n[i]=null);break;case 1:(Math.trunc(u/3)!==s.getErrorCorrectionLevel()||u%3!==s.getRowCountLowerPart())&&(n[i]=null);break;case 2:u+1!==s.getColumnCount()&&(n[i]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ei{constructor(n,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=Me.MAX_CODEWORDS_IN_BARCODE,s;do s=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let i=this.detectionResultColumns[s].getCodewords();for(let l=0;l<i.length;l++)i[l]!=null&&(i[l].hasValidRowNumber()||this.adjustRowNumbers(s,l,i))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<n.length;i++)if(n[i]!=null&&s[i]!=null&&n[i].getRowNumber()===s[i].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[i];u!=null&&(u.setRowNumber(n[i].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[i]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let i=0;i<s.length;i++){if(s[i]==null)continue;let l=s[i].getRowNumber(),u=0;for(let h=this.barcodeColumnCount+1;h>0&&u<this.ADJUST_ROW_NUMBER_SKIP;h--){let f=this.detectionResultColumns[h].getCodewords()[i];f!=null&&(u=Ei.adjustRowNumberIfValid(l,u,f),f.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,s=this.detectionResultColumns[0].getCodewords();for(let i=0;i<s.length;i++){if(s[i]==null)continue;let l=s[i].getRowNumber(),u=0;for(let h=1;h<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;h++){let f=this.detectionResultColumns[h].getCodewords()[i];f!=null&&(u=Ei.adjustRowNumberIfValid(l,u,f),f.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,s,i){return i==null||i.hasValidRowNumber()||(i.isValidRowNumber(n)?(i.setRowNumber(n),s=0):++s),s}adjustRowNumbers(n,s,i){if(!this.detectionResultColumns[n-1])return;let l=i[s],u=this.detectionResultColumns[n-1].getCodewords(),h=u;this.detectionResultColumns[n+1]!=null&&(h=this.detectionResultColumns[n+1].getCodewords());let f=new Array(14);f[2]=u[s],f[3]=h[s],s>0&&(f[0]=i[s-1],f[4]=u[s-1],f[5]=h[s-1]),s>1&&(f[8]=i[s-2],f[10]=u[s-2],f[11]=h[s-2]),s<i.length-1&&(f[1]=i[s+1],f[6]=u[s+1],f[7]=h[s+1]),s<i.length-2&&(f[9]=i[s+2],f[12]=u[s+2],f[13]=h[s+2]);for(let m of f)if(Ei.adjustRowNumber(l,m))return}static adjustRowNumber(n,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===n.getBucket()?(n.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,s){this.detectionResultColumns[n]=s}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new vi;for(let i=0;i<n.getCodewords().length;i++){s.format("CW %3d:",i);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){s.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[i];if(u==null){s.format("    |   ");continue}s.format(" %3d|%3d",u.getRowNumber(),u.getValue())}s.format("%n")}return s.toString()}}class Ai{constructor(n,s,i,l){this.rowNumber=Ai.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(s),this.bucket=Math.trunc(i),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Ai.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Ai.BARCODE_ROW_UNKNOWN=-1;class ln{static initialize(){for(let n=0;n<Me.SYMBOL_TABLE.length;n++){let s=Me.SYMBOL_TABLE[n],i=s&1;for(let l=0;l<Me.BARS_IN_MODULE;l++){let u=0;for(;(s&1)===i;)u+=1,s>>=1;i=s&1,ln.RATIOS_TABLE[n]||(ln.RATIOS_TABLE[n]=new Array(Me.BARS_IN_MODULE)),ln.RATIOS_TABLE[n][Me.BARS_IN_MODULE-l-1]=Math.fround(u/Me.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let s=ln.getDecodedCodewordValue(ln.sampleBitCounts(n));return s!==-1?s:ln.getClosestDecodedValue(n)}static sampleBitCounts(n){let s=Qe.sum(n),i=new Int32Array(Me.BARS_IN_MODULE),l=0,u=0;for(let h=0;h<Me.MODULES_IN_CODEWORD;h++){let f=s/(2*Me.MODULES_IN_CODEWORD)+h*s/Me.MODULES_IN_CODEWORD;u+n[l]<=f&&(u+=n[l],l++),i[l]++}return i}static getDecodedCodewordValue(n){let s=ln.getBitValue(n);return Me.getCodeword(s)===-1?-1:s}static getBitValue(n){let s=0;for(let i=0;i<n.length;i++)for(let l=0;l<n[i];l++)s=s<<1|(i%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(n){let s=Qe.sum(n),i=new Array(Me.BARS_IN_MODULE);if(s>1)for(let h=0;h<i.length;h++)i[h]=Math.fround(n[h]/s);let l=Io.MAX_VALUE,u=-1;this.bSymbolTableReady||ln.initialize();for(let h=0;h<ln.RATIOS_TABLE.length;h++){let f=0,m=ln.RATIOS_TABLE[h];for(let w=0;w<Me.BARS_IN_MODULE;w++){let b=Math.fround(m[w]-i[w]);if(f+=Math.fround(b*b),f>=l)break}f<l&&(l=f,u=Me.SYMBOL_TABLE[h])}return u}}ln.bSymbolTableReady=!1,ln.RATIOS_TABLE=new Array(Me.SYMBOL_TABLE.length).map(C=>new Array(Me.BARS_IN_MODULE));class a0{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class l0{static parseLong(n,s=void 0){return parseInt(n,s)}}class c0 extends p{}c0.kind="NullPointerException";class Pm{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,s,i){if(n==null)throw new c0;if(s<0||s>n.length||i<0||s+i>n.length||s+i<0)throw new L;if(i===0)return;for(let l=0;l<i;l++)this.write(n[s+l])}flush(){}close(){}}class Fm extends p{}class zm extends Pm{constructor(n=32){if(super(),this.count=0,n<0)throw new v("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let i=this.buf.length<<1;if(i-n<0&&(i=n),i<0){if(n<0)throw new Fm;i=T.MAX_VALUE}this.buf=A.copyOfUint8Array(this.buf,i)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,s,i){if(s<0||s>n.length||i<0||s+i-n.length>0)throw new L;this.ensureCapacity(this.count+i),R.arraycopy(n,s,this.buf,this.count,i),this.count+=i}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return A.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Je;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Je||(Je={}));function u0(){if(typeof window<"u")return window.BigInt||null;if(typeof Ti<"u")return Ti.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Lo;function Tr(C){if(typeof Lo>"u"&&(Lo=u0()),Lo===null)throw new Error("BigInt is not supported!");return Lo(C)}function Um(){let C=[];C[0]=Tr(1);let n=Tr(900);C[1]=n;for(let s=2;s<16;s++)C[s]=C[s-1]*n;return C}class K{static decode(n,s){let i=new ve(""),l=Y.ISO8859_1;i.enableDecoding(l);let u=1,h=n[u++],f=new a0;for(;u<n[0];){switch(h){case K.TEXT_COMPACTION_MODE_LATCH:u=K.textCompaction(n,u,i);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:u=K.byteCompaction(h,n,l,u,i);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[u++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:u=K.numericCompaction(n,u,i);break;case K.ECI_CHARSET:Y.getCharacterSetECIByValue(n[u++]);break;case K.ECI_GENERAL_PURPOSE:u+=2;break;case K.ECI_USER_DEFINED:u++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=K.decodeMacroBlock(n,u,f);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new P;default:u--,u=K.textCompaction(n,u,i);break}if(u<n.length)h=n[u++];else throw P.getFormatInstance()}if(i.length()===0)throw P.getFormatInstance();let m=new pe(null,i.toString(),null,s);return m.setOther(f),m}static decodeMacroBlock(n,s,i){if(s+K.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw P.getFormatInstance();let l=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<K.NUMBER_OF_SEQUENCE_CODEWORDS;f++,s++)l[f]=n[s];i.setSegmentIndex(T.parseInt(K.decodeBase900toBase10(l,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new ve;s=K.textCompaction(n,s,u),i.setFileId(u.toString());let h=-1;for(n[s]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=s+1);s<n[0];)switch(n[s]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,n[s]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new ve;s=K.textCompaction(n,s+1,f),i.setFileName(f.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new ve;s=K.textCompaction(n,s+1,m),i.setSender(m.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new ve;s=K.textCompaction(n,s+1,w),i.setAddressee(w.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new ve;s=K.numericCompaction(n,s+1,b),i.setSegmentCount(T.parseInt(b.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let E=new ve;s=K.numericCompaction(n,s+1,E),i.setTimestamp(l0.parseLong(E.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let j=new ve;s=K.numericCompaction(n,s+1,j),i.setChecksum(T.parseInt(j.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let D=new ve;s=K.numericCompaction(n,s+1,D),i.setFileSize(l0.parseLong(D.toString()));break;default:throw P.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:s++,i.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(h!==-1){let f=s-h;i.isLastSegment()&&f--,i.setOptionalData(A.copyOfRange(n,h,h+f))}return s}static textCompaction(n,s,i){let l=new Int32Array((n[0]-s)*2),u=new Int32Array((n[0]-s)*2),h=0,f=!1;for(;s<n[0]&&!f;){let m=n[s++];if(m<K.TEXT_COMPACTION_MODE_LATCH)l[h]=m/30,l[h+1]=m%30,h+=2;else switch(m){case K.TEXT_COMPACTION_MODE_LATCH:l[h++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,f=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[h]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=n[s++],u[h]=m,h++;break}}return K.decodeTextCompaction(l,u,h,i),s}static decodeTextCompaction(n,s,i,l){let u=Je.ALPHA,h=Je.ALPHA,f=0;for(;f<i;){let m=n[f],w="";switch(u){case Je.ALPHA:if(m<26)w=String.fromCharCode(65+m);else switch(m){case 26:w=" ";break;case K.LL:u=Je.LOWER;break;case K.ML:u=Je.MIXED;break;case K.PS:h=u,u=Je.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[f]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break;case Je.LOWER:if(m<26)w=String.fromCharCode(97+m);else switch(m){case 26:w=" ";break;case K.AS:h=u,u=Je.ALPHA_SHIFT;break;case K.ML:u=Je.MIXED;break;case K.PS:h=u,u=Je.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[f]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break;case Je.MIXED:if(m<K.PL)w=K.MIXED_CHARS[m];else switch(m){case K.PL:u=Je.PUNCT;break;case 26:w=" ";break;case K.LL:u=Je.LOWER;break;case K.AL:u=Je.ALPHA;break;case K.PS:h=u,u=Je.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[f]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break;case Je.PUNCT:if(m<K.PAL)w=K.PUNCT_CHARS[m];else switch(m){case K.PAL:u=Je.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[f]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break;case Je.ALPHA_SHIFT:if(u=h,m<26)w=String.fromCharCode(65+m);else switch(m){case 26:w=" ";break;case K.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break;case Je.PUNCT_SHIFT:if(u=h,m<K.PAL)w=K.PUNCT_CHARS[m];else switch(m){case K.PAL:u=Je.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[f]);break;case K.TEXT_COMPACTION_MODE_LATCH:u=Je.ALPHA;break}break}w!==""&&l.append(w),f++}}static byteCompaction(n,s,i,l,u){let h=new zm,f=0,m=0,w=!1;switch(n){case K.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),E=s[l++];for(;l<s[0]&&!w;)switch(b[f++]=E,m=900*m+E,E=s[l++],E){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:l--,w=!0;break;default:if(f%5===0&&f>0){for(let j=0;j<6;++j)h.write(Number(Tr(m)>>Tr(8*(5-j))));m=0,f=0}break}l===s[0]&&E<K.TEXT_COMPACTION_MODE_LATCH&&(b[f++]=E);for(let j=0;j<f;j++)h.write(b[j]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;l<s[0]&&!w;){let j=s[l++];if(j<K.TEXT_COMPACTION_MODE_LATCH)f++,m=900*m+j;else switch(j){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:l--,w=!0;break}if(f%5===0&&f>0){for(let D=0;D<6;++D)h.write(Number(Tr(m)>>Tr(8*(5-D))));m=0,f=0}}break}return u.append(Ie.decode(h.toByteArray(),i)),l}static numericCompaction(n,s,i){let l=0,u=!1,h=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;s<n[0]&&!u;){let f=n[s++];if(s===n[0]&&(u=!0),f<K.TEXT_COMPACTION_MODE_LATCH)h[l]=f,l++;else switch(f){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:s--,u=!0;break}(l%K.MAX_NUMERIC_CODEWORDS===0||f===K.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(i.append(K.decodeBase900toBase10(h,l)),l=0)}return s}static decodeBase900toBase10(n,s){let i=Tr(0);for(let u=0;u<s;u++)i+=K.EXP900[s-u-1]*Tr(n[u]);let l=i.toString();if(l.charAt(0)!=="1")throw new P;return l.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",K.EXP900=u0()?Um():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Fe{constructor(){}static decode(n,s,i,l,u,h,f){let m=new is(n,s,i,l,u),w=null,b=null,E;for(let F=!0;;F=!1){if(s!=null&&(w=Fe.getRowIndicatorColumn(n,m,s,!0,h,f)),l!=null&&(b=Fe.getRowIndicatorColumn(n,m,l,!1,h,f)),E=Fe.merge(w,b),E==null)throw z.getNotFoundInstance();let U=E.getBoundingBox();if(F&&U!=null&&(U.getMinY()<m.getMinY()||U.getMaxY()>m.getMaxY()))m=U;else break}E.setBoundingBox(m);let j=E.getBarcodeColumnCount()+1;E.setDetectionResultColumn(0,w),E.setDetectionResultColumn(j,b);let D=w!=null;for(let F=1;F<=j;F++){let U=D?F:j-F;if(E.getDetectionResultColumn(U)!==void 0)continue;let G;U===0||U===j?G=new o0(m,U===0):G=new Ni(m),E.setDetectionResultColumn(U,G);let $=-1,de=$;for(let fe=m.getMinY();fe<=m.getMaxY();fe++){if($=Fe.getStartColumn(E,U,fe,D),$<0||$>m.getMaxX()){if(de===-1)continue;$=de}let oe=Fe.detectCodeword(n,m.getMinX(),m.getMaxX(),D,$,fe,h,f);oe!=null&&(G.setCodeword(fe,oe),de=$,h=Math.min(h,oe.getWidth()),f=Math.max(f,oe.getWidth()))}}return Fe.createDecoderResult(E)}static merge(n,s){if(n==null&&s==null)return null;let i=Fe.getBarcodeMetadata(n,s);if(i==null)return null;let l=is.merge(Fe.adjustBoundingBox(n),Fe.adjustBoundingBox(s));return new Ei(i,l)}static adjustBoundingBox(n){if(n==null)return null;let s=n.getRowHeights();if(s==null)return null;let i=Fe.getMax(s),l=0;for(let f of s)if(l+=i-f,f>0)break;let u=n.getCodewords();for(let f=0;l>0&&u[f]==null;f++)l--;let h=0;for(let f=s.length-1;f>=0&&(h+=i-s[f],!(s[f]>0));f--);for(let f=u.length-1;h>0&&u[f]==null;f--)h--;return n.getBoundingBox().addMissingRows(l,h,n.isLeft())}static getMax(n){let s=-1;for(let i of n)s=Math.max(s,i);return s}static getBarcodeMetadata(n,s){let i;if(n==null||(i=n.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let l;return s==null||(l=s.getBarcodeMetadata())==null?i:i.getColumnCount()!==l.getColumnCount()&&i.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&i.getRowCount()!==l.getRowCount()?null:i}static getRowIndicatorColumn(n,s,i,l,u,h){let f=new o0(s,l);for(let m=0;m<2;m++){let w=m===0?1:-1,b=Math.trunc(Math.trunc(i.getX()));for(let E=Math.trunc(Math.trunc(i.getY()));E<=s.getMaxY()&&E>=s.getMinY();E+=w){let j=Fe.detectCodeword(n,0,n.getWidth(),l,b,E,u,h);j!=null&&(f.setCodeword(E,j),l?b=j.getStartX():b=j.getEndX())}}return f}static adjustCodewordCount(n,s){let i=s[0][1],l=i.getValue(),u=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Fe.getNumberOfECCodeWords(n.getBarcodeECLevel());if(l.length===0){if(u<1||u>Me.MAX_CODEWORDS_IN_BARCODE)throw z.getNotFoundInstance();i.setValue(u)}else l[0]!==u&&i.setValue(u)}static createDecoderResult(n){let s=Fe.createBarcodeMatrix(n);Fe.adjustCodewordCount(n,s);let i=new Array,l=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),u=[],h=new Array;for(let m=0;m<n.getBarcodeRowCount();m++)for(let w=0;w<n.getBarcodeColumnCount();w++){let b=s[m][w+1].getValue(),E=m*n.getBarcodeColumnCount()+w;b.length===0?i.push(E):b.length===1?l[E]=b[0]:(h.push(E),u.push(b))}let f=new Array(u.length);for(let m=0;m<f.length;m++)f[m]=u[m];return Fe.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),l,Me.toIntArray(i),Me.toIntArray(h),f)}static createDecoderResultFromAmbiguousValues(n,s,i,l,u){let h=new Int32Array(l.length),f=100;for(;f-- >0;){for(let m=0;m<h.length;m++)s[l[m]]=u[m][h[m]];try{return Fe.decodeCodewords(s,n,i)}catch(m){if(!(m instanceof k))throw m}if(h.length===0)throw k.getChecksumInstance();for(let m=0;m<h.length;m++)if(h[m]<u[m].length-1){h[m]++;break}else if(h[m]=0,m===h.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(n){let s=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let l=0;l<s.length;l++)for(let u=0;u<s[l].length;u++)s[l][u]=new Ci;let i=0;for(let l of n.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let h=u.getRowNumber();if(h>=0){if(h>=s.length)continue;s[h][i].setValue(u.getValue())}}}i++}return s}static isValidBarcodeColumn(n,s){return s>=0&&s<=n.getBarcodeColumnCount()+1}static getStartColumn(n,s,i,l){let u=l?1:-1,h=null;if(Fe.isValidBarcodeColumn(n,s-u)&&(h=n.getDetectionResultColumn(s-u).getCodeword(i)),h!=null)return l?h.getEndX():h.getStartX();if(h=n.getDetectionResultColumn(s).getCodewordNearby(i),h!=null)return l?h.getStartX():h.getEndX();if(Fe.isValidBarcodeColumn(n,s-u)&&(h=n.getDetectionResultColumn(s-u).getCodewordNearby(i)),h!=null)return l?h.getEndX():h.getStartX();let f=0;for(;Fe.isValidBarcodeColumn(n,s-u);){s-=u;for(let m of n.getDetectionResultColumn(s).getCodewords())if(m!=null)return(l?m.getEndX():m.getStartX())+u*f*(m.getEndX()-m.getStartX());f++}return l?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,s,i,l,u,h,f,m){u=Fe.adjustCodewordStartColumn(n,s,i,l,u,h);let w=Fe.getModuleBitCount(n,s,i,l,u,h);if(w==null)return null;let b,E=Qe.sum(w);if(l)b=u+E;else{for(let F=0;F<w.length/2;F++){let U=w[F];w[F]=w[w.length-1-F],w[w.length-1-F]=U}b=u,u=b-E}if(!Fe.checkCodewordSkew(E,f,m))return null;let j=ln.getDecodedValue(w),D=Me.getCodeword(j);return D===-1?null:new Ai(u,b,Fe.getCodewordBucketNumber(j),D)}static getModuleBitCount(n,s,i,l,u,h){let f=u,m=new Int32Array(8),w=0,b=l?1:-1,E=l;for(;(l?f<i:f>=s)&&w<m.length;)n.get(f,h)===E?(m[w]++,f+=b):(w++,E=!E);return w===m.length||f===(l?i:s)&&w===m.length-1?m:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,s,i,l,u,h){let f=u,m=l?-1:1;for(let w=0;w<2;w++){for(;(l?f>=s:f<i)&&l===n.get(f,h);){if(Math.abs(u-f)>Fe.CODEWORD_SKEW_SIZE)return u;f+=m}m=-m,l=!l}return f}static checkCodewordSkew(n,s,i){return s-Fe.CODEWORD_SKEW_SIZE<=n&&n<=i+Fe.CODEWORD_SKEW_SIZE}static decodeCodewords(n,s,i){if(n.length===0)throw P.getFormatInstance();let l=1<<s+1,u=Fe.correctErrors(n,i,l);Fe.verifyCodewordCount(n,l);let h=K.decode(n,""+s);return h.setErrorsCorrected(u),h.setErasures(i.length),h}static correctErrors(n,s,i){if(s!=null&&s.length>i/2+Fe.MAX_ERRORS||i<0||i>Fe.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return Fe.errorCorrection.decode(n,i,s)}static verifyCodewordCount(n,s){if(n.length<4)throw P.getFormatInstance();let i=n[0];if(i>n.length)throw P.getFormatInstance();if(i===0)if(s<n.length)n[0]=n.length-s;else throw P.getFormatInstance()}static getBitCountForCodeword(n){let s=new Int32Array(8),i=0,l=s.length-1;for(;!((n&1)!==i&&(i=n&1,l--,l<0));)s[l]++,n>>=1;return s}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Fe.getCodewordBucketNumber(Fe.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let s=new vi;for(let i=0;i<n.length;i++){s.format("Row %2d: ",i);for(let l=0;l<n[i].length;l++){let u=n[i][l];u.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}s.format("%n")}return s.toString()}}Fe.CODEWORD_SKEW_SIZE=2,Fe.MAX_ERRORS=3,Fe.MAX_EC_CODEWORDS=512,Fe.errorCorrection=new i0;class zt{decode(n,s=null){let i=zt.decode(n,s,!1);if(i==null||i.length===0||i[0]==null)throw z.getNotFoundInstance();return i[0]}decodeMultiple(n,s=null){try{return zt.decode(n,s,!0)}catch(i){throw i instanceof P||i instanceof k?z.getNotFoundInstance():i}}static decode(n,s,i){const l=new Array,u=Be.detectMultiple(n,s,i);for(const h of u.getPoints()){const f=Fe.decode(u.getBits(),h[4],h[5],h[6],h[7],zt.getMinCodewordWidth(h),zt.getMaxCodewordWidth(h)),m=new ne(f.getText(),f.getRawBytes(),void 0,h,ee.PDF_417);m.putMetadata(le.ERROR_CORRECTION_LEVEL,f.getECLevel());const w=f.getOther();w!=null&&m.putMetadata(le.PDF417_EXTRA_METADATA,w),l.push(m)}return l.map(h=>h)}static getMaxWidth(n,s){return n==null||s==null?0:Math.trunc(Math.abs(n.getX()-s.getX()))}static getMinWidth(n,s){return n==null||s==null?T.MAX_VALUE:Math.trunc(Math.abs(n.getX()-s.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(zt.getMaxWidth(n[0],n[4]),zt.getMaxWidth(n[6],n[2])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN),Math.max(zt.getMaxWidth(n[1],n[5]),zt.getMaxWidth(n[7],n[3])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(zt.getMinWidth(n[0],n[4]),zt.getMinWidth(n[6],n[2])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN),Math.min(zt.getMinWidth(n[1],n[5]),zt.getMinWidth(n[7],n[3])*Me.MODULES_IN_CODEWORD/Me.MODULES_IN_STOP_PATTERN)))}reset(){}}class Bo extends p{}Bo.kind="ReaderException";class d0{constructor(n,s){this.verbose=n===!0,s&&this.setHints(s)}decode(n,s){return s&&this.setHints(s),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const s=!o(n)&&n.get(Q.TRY_HARDER)===!0,i=o(n)?null:n.get(Q.POSSIBLE_FORMATS),l=new Array;if(!o(i)){const u=i.some(h=>h===ee.UPC_A||h===ee.UPC_E||h===ee.EAN_13||h===ee.EAN_8||h===ee.CODABAR||h===ee.CODE_39||h===ee.CODE_93||h===ee.CODE_128||h===ee.ITF||h===ee.RSS_14||h===ee.RSS_EXPANDED);u&&!s&&l.push(new js(n,this.verbose)),i.includes(ee.QR_CODE)&&l.push(new jr),i.includes(ee.DATA_MATRIX)&&l.push(new Sr),i.includes(ee.AZTEC)&&l.push(new Ro),i.includes(ee.PDF_417)&&l.push(new zt),u&&s&&l.push(new js(n,this.verbose))}l.length===0&&(s||l.push(new js(n,this.verbose)),l.push(new jr),l.push(new Sr),l.push(new Ro),l.push(new zt),s&&l.push(new js(n,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Bo("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(n,this.hints)}catch(i){if(i instanceof Bo)continue}throw new z("No MultiFormat Readers were able to detect the code.")}}class Vm extends te{constructor(n=null,s=500){const i=new d0;i.setHints(n),super(i,s)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class Hm extends te{constructor(n=500){super(new zt,n)}}class Wm extends te{constructor(n=500){super(new jr,n)}}var Hl;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(Hl||(Hl={}));var _t=Hl;class Wl{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new he(n,Int32Array.from([1])))}buildGenerator(n){const s=this.cachedGenerators;if(n>=s.length){let i=s[s.length-1];const l=this.field;for(let u=s.length;u<=n;u++){const h=i.multiply(new he(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));s.push(h),i=h}}return s[n]}encode(n,s){if(s===0)throw new v("No error correction bytes");const i=n.length-s;if(i<=0)throw new v("No data bytes provided");const l=this.buildGenerator(s),u=new Int32Array(i);R.arraycopy(n,0,u,0,i);let h=new he(this.field,u);h=h.multiplyByMonomial(s,1);const m=h.divide(l)[1].getCoefficients(),w=s-m.length;for(let b=0;b<w;b++)n[i+b]=0;R.arraycopy(m,0,n,i+w,m.length)}}class bt{constructor(){}static applyMaskPenaltyRule1(n){return bt.applyMaskPenaltyRule1Internal(n,!0)+bt.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let s=0;const i=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let h=0;h<u-1;h++){const f=i[h];for(let m=0;m<l-1;m++){const w=f[m];w===f[m+1]&&w===i[h+1][m]&&w===i[h+1][m+1]&&s++}}return bt.N2*s}static applyMaskPenaltyRule3(n){let s=0;const i=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let h=0;h<u;h++)for(let f=0;f<l;f++){const m=i[h];f+6<l&&m[f]===1&&m[f+1]===0&&m[f+2]===1&&m[f+3]===1&&m[f+4]===1&&m[f+5]===0&&m[f+6]===1&&(bt.isWhiteHorizontal(m,f-4,f)||bt.isWhiteHorizontal(m,f+7,f+11))&&s++,h+6<u&&i[h][f]===1&&i[h+1][f]===0&&i[h+2][f]===1&&i[h+3][f]===1&&i[h+4][f]===1&&i[h+5][f]===0&&i[h+6][f]===1&&(bt.isWhiteVertical(i,f,h-4,h)||bt.isWhiteVertical(i,f,h+7,h+11))&&s++}return s*bt.N3}static isWhiteHorizontal(n,s,i){s=Math.max(s,0),i=Math.min(i,n.length);for(let l=s;l<i;l++)if(n[l]===1)return!1;return!0}static isWhiteVertical(n,s,i,l){i=Math.max(i,0),l=Math.min(l,n.length);for(let u=i;u<l;u++)if(n[u][s]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let s=0;const i=n.getArray(),l=n.getWidth(),u=n.getHeight();for(let m=0;m<u;m++){const w=i[m];for(let b=0;b<l;b++)w[b]===1&&s++}const h=n.getHeight()*n.getWidth();return Math.floor(Math.abs(s*2-h)*10/h)*bt.N4}static getDataMaskBit(n,s,i){let l,u;switch(n){case 0:l=i+s&1;break;case 1:l=i&1;break;case 2:l=s%3;break;case 3:l=(i+s)%3;break;case 4:l=Math.floor(i/2)+Math.floor(s/3)&1;break;case 5:u=i*s,l=(u&1)+u%3;break;case 6:u=i*s,l=(u&1)+u%3&1;break;case 7:u=i*s,l=u%3+(i+s&1)&1;break;default:throw new v("Invalid mask pattern: "+n)}return l===0}static applyMaskPenaltyRule1Internal(n,s){let i=0;const l=s?n.getHeight():n.getWidth(),u=s?n.getWidth():n.getHeight(),h=n.getArray();for(let f=0;f<l;f++){let m=0,w=-1;for(let b=0;b<u;b++){const E=s?h[f][b]:h[b][f];E===w?m++:(m>=5&&(i+=bt.N1+(m-5)),m=1,w=E)}m>=5&&(i+=bt.N1+(m-5))}return i}}bt.N1=3,bt.N2=3,bt.N3=40,bt.N4=10;class Po{constructor(n,s){this.width=n,this.height=s;const i=new Array(s);for(let l=0;l!==s;l++)i[l]=new Uint8Array(n);this.bytes=i}getHeight(){return this.height}getWidth(){return this.width}get(n,s){return this.bytes[s][n]}getArray(){return this.bytes}setNumber(n,s,i){this.bytes[s][n]=i}setBoolean(n,s,i){this.bytes[s][n]=i?1:0}clear(n){for(const s of this.bytes)A.fill(s,n)}equals(n){if(!(n instanceof Po))return!1;const s=n;if(this.width!==s.width||this.height!==s.height)return!1;for(let i=0,l=this.height;i<l;++i){const u=this.bytes[i],h=s.bytes[i];for(let f=0,m=this.width;f<m;++f)if(u[f]!==h[f])return!1}return!0}toString(){const n=new ve;for(let s=0,i=this.height;s<i;++s){const l=this.bytes[s];for(let u=0,h=this.width;u<h;++u)switch(l[u]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class os{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new ve;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<os.NUM_MASK_PATTERNS}}os.NUM_MASK_PATTERNS=8;class tt extends p{}tt.kind="WriterException";class Oe{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,s,i,l,u){Oe.clearMatrix(u),Oe.embedBasicPatterns(i,u),Oe.embedTypeInfo(s,l,u),Oe.maybeEmbedVersionInfo(i,u),Oe.embedDataBits(n,l,u)}static embedBasicPatterns(n,s){Oe.embedPositionDetectionPatternsAndSeparators(s),Oe.embedDarkDotAtLeftBottomCorner(s),Oe.maybeEmbedPositionAdjustmentPatterns(n,s),Oe.embedTimingPatterns(s)}static embedTypeInfo(n,s,i){const l=new O;Oe.makeTypeInfoBits(n,s,l);for(let u=0,h=l.getSize();u<h;++u){const f=l.get(l.getSize()-1-u),m=Oe.TYPE_INFO_COORDINATES[u],w=m[0],b=m[1];if(i.setBoolean(w,b,f),u<8){const E=i.getWidth()-u-1,j=8;i.setBoolean(E,j,f)}else{const j=i.getHeight()-7+(u-8);i.setBoolean(8,j,f)}}}static maybeEmbedVersionInfo(n,s){if(n.getVersionNumber()<7)return;const i=new O;Oe.makeVersionInfoBits(n,i);let l=6*3-1;for(let u=0;u<6;++u)for(let h=0;h<3;++h){const f=i.get(l);l--,s.setBoolean(u,s.getHeight()-11+h,f),s.setBoolean(s.getHeight()-11+h,u,f)}}static embedDataBits(n,s,i){let l=0,u=-1,h=i.getWidth()-1,f=i.getHeight()-1;for(;h>0;){for(h===6&&(h-=1);f>=0&&f<i.getHeight();){for(let m=0;m<2;++m){const w=h-m;if(!Oe.isEmpty(i.get(w,f)))continue;let b;l<n.getSize()?(b=n.get(l),++l):b=!1,s!==255&&bt.getDataMaskBit(s,w,f)&&(b=!b),i.setBoolean(w,f,b)}f+=u}u=-u,f+=u,h-=2}if(l!==n.getSize())throw new tt("Not all bits consumed: "+l+"/"+n.getSize())}static findMSBSet(n){return 32-T.numberOfLeadingZeros(n)}static calculateBCHCode(n,s){if(s===0)throw new v("0 polynomial");const i=Oe.findMSBSet(s);for(n<<=i-1;Oe.findMSBSet(n)>=i;)n^=s<<Oe.findMSBSet(n)-i;return n}static makeTypeInfoBits(n,s,i){if(!os.isValidMaskPattern(s))throw new tt("Invalid mask pattern");const l=n.getBits()<<3|s;i.appendBits(l,5);const u=Oe.calculateBCHCode(l,Oe.TYPE_INFO_POLY);i.appendBits(u,10);const h=new O;if(h.appendBits(Oe.TYPE_INFO_MASK_PATTERN,15),i.xor(h),i.getSize()!==15)throw new tt("should not happen but we got: "+i.getSize())}static makeVersionInfoBits(n,s){s.appendBits(n.getVersionNumber(),6);const i=Oe.calculateBCHCode(n.getVersionNumber(),Oe.VERSION_INFO_POLY);if(s.appendBits(i,12),s.getSize()!==18)throw new tt("should not happen but we got: "+s.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let s=8;s<n.getWidth()-8;++s){const i=(s+1)%2;Oe.isEmpty(n.get(s,6))&&n.setNumber(s,6,i),Oe.isEmpty(n.get(6,s))&&n.setNumber(6,s,i)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new tt;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,s,i){for(let l=0;l<8;++l){if(!Oe.isEmpty(i.get(n+l,s)))throw new tt;i.setNumber(n+l,s,0)}}static embedVerticalSeparationPattern(n,s,i){for(let l=0;l<7;++l){if(!Oe.isEmpty(i.get(n,s+l)))throw new tt;i.setNumber(n,s+l,0)}}static embedPositionAdjustmentPattern(n,s,i){for(let l=0;l<5;++l){const u=Oe.POSITION_ADJUSTMENT_PATTERN[l];for(let h=0;h<5;++h)i.setNumber(n+h,s+l,u[h])}}static embedPositionDetectionPattern(n,s,i){for(let l=0;l<7;++l){const u=Oe.POSITION_DETECTION_PATTERN[l];for(let h=0;h<7;++h)i.setNumber(n+h,s+l,u[h])}}static embedPositionDetectionPatternsAndSeparators(n){const s=Oe.POSITION_DETECTION_PATTERN[0].length;Oe.embedPositionDetectionPattern(0,0,n),Oe.embedPositionDetectionPattern(n.getWidth()-s,0,n),Oe.embedPositionDetectionPattern(0,n.getWidth()-s,n);const i=8;Oe.embedHorizontalSeparationPattern(0,i-1,n),Oe.embedHorizontalSeparationPattern(n.getWidth()-i,i-1,n),Oe.embedHorizontalSeparationPattern(0,n.getWidth()-i,n);const l=7;Oe.embedVerticalSeparationPattern(l,0,n),Oe.embedVerticalSeparationPattern(n.getHeight()-l-1,0,n),Oe.embedVerticalSeparationPattern(l,n.getHeight()-l,n)}static maybeEmbedPositionAdjustmentPatterns(n,s){if(n.getVersionNumber()<2)return;const i=n.getVersionNumber()-1,l=Oe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[i];for(let u=0,h=l.length;u!==h;u++){const f=l[u];if(f>=0)for(let m=0;m!==h;m++){const w=l[m];w>=0&&Oe.isEmpty(s.get(w,f))&&Oe.embedPositionAdjustmentPattern(w-2,f-2,s)}}}}Oe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Oe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Oe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Oe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Oe.VERSION_INFO_POLY=7973,Oe.TYPE_INFO_POLY=1335,Oe.TYPE_INFO_MASK_PATTERN=21522;class Qm{constructor(n,s){this.dataBytes=n,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class lt{constructor(){}static calculateMaskPenalty(n){return bt.applyMaskPenaltyRule1(n)+bt.applyMaskPenaltyRule2(n)+bt.applyMaskPenaltyRule3(n)+bt.applyMaskPenaltyRule4(n)}static encode(n,s,i=null){let l=lt.DEFAULT_BYTE_MODE_ENCODING;const u=i!==null&&i.get(_t.CHARACTER_SET)!==void 0;u&&(l=i.get(_t.CHARACTER_SET).toString());const h=this.chooseMode(n,l),f=new O;if(h===_e.BYTE&&(u||lt.DEFAULT_BYTE_MODE_ENCODING!==l)){const fe=Y.getCharacterSetECIByName(l);fe!==void 0&&this.appendECI(fe,f)}this.appendModeInfo(h,f);const m=new O;this.appendBytes(n,h,m,l);let w;if(i!==null&&i.get(_t.QR_VERSION)!==void 0){const fe=Number.parseInt(i.get(_t.QR_VERSION).toString(),10);w=ke.getVersionForNumber(fe);const oe=this.calculateBitsNeeded(h,f,m,w);if(!this.willFit(oe,w,s))throw new tt("Data too big for requested version")}else w=this.recommendVersion(s,h,f,m);const b=new O;b.appendBitArray(f);const E=h===_e.BYTE?m.getSizeInBytes():n.length;this.appendLengthInfo(E,w,h,b),b.appendBitArray(m);const j=w.getECBlocksForLevel(s),D=w.getTotalCodewords()-j.getTotalECCodewords();this.terminateBits(D,b);const F=this.interleaveWithECBytes(b,w.getTotalCodewords(),D,j.getNumBlocks()),U=new os;U.setECLevel(s),U.setMode(h),U.setVersion(w);const G=w.getDimensionForVersion(),$=new Po(G,G),de=this.chooseMaskPattern(F,s,w,$);return U.setMaskPattern(de),Oe.buildMatrix(F,s,w,de,$),U.setMatrix($),U}static recommendVersion(n,s,i,l){const u=this.calculateBitsNeeded(s,i,l,ke.getVersionForNumber(1)),h=this.chooseVersion(u,n),f=this.calculateBitsNeeded(s,i,l,h);return this.chooseVersion(f,n)}static calculateBitsNeeded(n,s,i,l){return s.getSize()+n.getCharacterCountBits(l)+i.getSize()}static getAlphanumericCode(n){return n<lt.ALPHANUMERIC_TABLE.length?lt.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,s=null){if(Y.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(n))return _e.KANJI;let i=!1,l=!1;for(let u=0,h=n.length;u<h;++u){const f=n.charAt(u);if(lt.isDigit(f))i=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)l=!0;else return _e.BYTE}return l?_e.ALPHANUMERIC:i?_e.NUMERIC:_e.BYTE}static isOnlyDoubleByteKanji(n){let s;try{s=Ie.encode(n,Y.SJIS)}catch{return!1}const i=s.length;if(i%2!==0)return!1;for(let l=0;l<i;l+=2){const u=s[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(n,s,i,l){let u=Number.MAX_SAFE_INTEGER,h=-1;for(let f=0;f<os.NUM_MASK_PATTERNS;f++){Oe.buildMatrix(n,s,i,f,l);let m=this.calculateMaskPenalty(l);m<u&&(u=m,h=f)}return h}static chooseVersion(n,s){for(let i=1;i<=40;i++){const l=ke.getVersionForNumber(i);if(lt.willFit(n,l,s))return l}throw new tt("Data too big")}static willFit(n,s,i){const l=s.getTotalCodewords(),h=s.getECBlocksForLevel(i).getTotalECCodewords(),f=l-h,m=(n+7)/8;return f>=m}static terminateBits(n,s){const i=n*8;if(s.getSize()>i)throw new tt("data bits cannot fit in the QR Code"+s.getSize()+" > "+i);for(let h=0;h<4&&s.getSize()<i;++h)s.appendBit(!1);const l=s.getSize()&7;if(l>0)for(let h=l;h<8;h++)s.appendBit(!1);const u=n-s.getSizeInBytes();for(let h=0;h<u;++h)s.appendBits(h&1?17:236,8);if(s.getSize()!==i)throw new tt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,s,i,l,u,h){if(l>=i)throw new tt("Block ID too large");const f=n%i,m=i-f,w=Math.floor(n/i),b=w+1,E=Math.floor(s/i),j=E+1,D=w-E,F=b-j;if(D!==F)throw new tt("EC bytes mismatch");if(i!==m+f)throw new tt("RS blocks mismatch");if(n!==(E+D)*m+(j+F)*f)throw new tt("Total bytes mismatch");l<m?(u[0]=E,h[0]=D):(u[0]=j,h[0]=F)}static interleaveWithECBytes(n,s,i,l){if(n.getSizeInBytes()!==i)throw new tt("Number of bits and data bytes does not match");let u=0,h=0,f=0;const m=new Array;for(let b=0;b<l;++b){const E=new Int32Array(1),j=new Int32Array(1);lt.getNumDataBytesAndNumECBytesForBlockID(s,i,l,b,E,j);const D=E[0],F=new Uint8Array(D);n.toBytes(8*u,F,0,D);const U=lt.generateECBytes(F,j[0]);m.push(new Qm(F,U)),h=Math.max(h,D),f=Math.max(f,U.length),u+=E[0]}if(i!==u)throw new tt("Data bytes does not match offset");const w=new O;for(let b=0;b<h;++b)for(const E of m){const j=E.getDataBytes();b<j.length&&w.appendBits(j[b],8)}for(let b=0;b<f;++b)for(const E of m){const j=E.getErrorCorrectionBytes();b<j.length&&w.appendBits(j[b],8)}if(s!==w.getSizeInBytes())throw new tt("Interleaving error: "+s+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(n,s){const i=n.length,l=new Int32Array(i+s);for(let h=0;h<i;h++)l[h]=n[h]&255;new Wl(me.QR_CODE_FIELD_256).encode(l,s);const u=new Uint8Array(s);for(let h=0;h<s;h++)u[h]=l[i+h];return u}static appendModeInfo(n,s){s.appendBits(n.getBits(),4)}static appendLengthInfo(n,s,i,l){const u=i.getCharacterCountBits(s);if(n>=1<<u)throw new tt(n+" is bigger than "+((1<<u)-1));l.appendBits(n,u)}static appendBytes(n,s,i,l){switch(s){case _e.NUMERIC:lt.appendNumericBytes(n,i);break;case _e.ALPHANUMERIC:lt.appendAlphanumericBytes(n,i);break;case _e.BYTE:lt.append8BitBytes(n,i,l);break;case _e.KANJI:lt.appendKanjiBytes(n,i);break;default:throw new tt("Invalid mode: "+s)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const s=lt.getDigit(n);return s>=0&&s<=9}static appendNumericBytes(n,s){const i=n.length;let l=0;for(;l<i;){const u=lt.getDigit(n.charAt(l));if(l+2<i){const h=lt.getDigit(n.charAt(l+1)),f=lt.getDigit(n.charAt(l+2));s.appendBits(u*100+h*10+f,10),l+=3}else if(l+1<i){const h=lt.getDigit(n.charAt(l+1));s.appendBits(u*10+h,7),l+=2}else s.appendBits(u,4),l++}}static appendAlphanumericBytes(n,s){const i=n.length;let l=0;for(;l<i;){const u=lt.getAlphanumericCode(n.charCodeAt(l));if(u===-1)throw new tt;if(l+1<i){const h=lt.getAlphanumericCode(n.charCodeAt(l+1));if(h===-1)throw new tt;s.appendBits(u*45+h,11),l+=2}else s.appendBits(u,6),l++}}static append8BitBytes(n,s,i){let l;try{l=Ie.encode(n,i)}catch(u){throw new tt(u)}for(let u=0,h=l.length;u!==h;u++){const f=l[u];s.appendBits(f,8)}}static appendKanjiBytes(n,s){let i;try{i=Ie.encode(n,Y.SJIS)}catch(u){throw new tt(u)}const l=i.length;for(let u=0;u<l;u+=2){const h=i[u]&255,f=i[u+1]&255,m=h<<8&4294967295|f;let w=-1;if(m>=33088&&m<=40956?w=m-33088:m>=57408&&m<=60351&&(w=m-49472),w===-1)throw new tt("Invalid byte sequence");const b=(w>>8)*192+(w&255);s.appendBits(b,13)}}static appendECI(n,s){s.appendBits(_e.ECI.getBits(),4),s.appendBits(n.getValue(),8)}}lt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),lt.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class as{write(n,s,i,l=null){if(n.length===0)throw new v("Found empty contents");if(s<0||i<0)throw new v("Requested dimensions are too small: "+s+"x"+i);let u=st.L,h=as.QUIET_ZONE_SIZE;l!==null&&(l.get(_t.ERROR_CORRECTION)!==void 0&&(u=st.fromString(l.get(_t.ERROR_CORRECTION).toString())),l.get(_t.MARGIN)!==void 0&&(h=Number.parseInt(l.get(_t.MARGIN).toString(),10)));const f=lt.encode(n,u,l);return this.renderResult(f,s,i,h)}writeToDom(n,s,i,l,u=null){typeof n=="string"&&(n=document.querySelector(n));const h=this.write(s,i,l,u);n&&n.appendChild(h)}renderResult(n,s,i,l){const u=n.getMatrix();if(u===null)throw new Ve;const h=u.getWidth(),f=u.getHeight(),m=h+l*2,w=f+l*2,b=Math.max(s,m),E=Math.max(i,w),j=Math.min(Math.floor(b/m),Math.floor(E/w)),D=Math.floor((b-h*j)/2),F=Math.floor((E-f*j)/2),U=this.createSVGElement(b,E);for(let G=0,$=F;G<f;G++,$+=j)for(let de=0,fe=D;de<h;de++,fe+=j)if(u.get(de,G)===1){const oe=this.createSvgRectElement(fe,$,j,j);U.appendChild(oe)}return U}createSVGElement(n,s){const i=document.createElementNS(as.SVG_NS,"svg");return i.setAttributeNS(null,"height",n.toString()),i.setAttributeNS(null,"width",s.toString()),i}createSvgRectElement(n,s,i,l){const u=document.createElementNS(as.SVG_NS,"rect");return u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",s.toString()),u.setAttributeNS(null,"height",i.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}as.QUIET_ZONE_SIZE=4,as.SVG_NS="http://www.w3.org/2000/svg";class Is{encode(n,s,i,l,u){if(n.length===0)throw new v("Found empty contents");if(s!==ee.QR_CODE)throw new v("Can only encode QR_CODE, but got "+s);if(i<0||l<0)throw new v(`Requested dimensions are too small: ${i}x${l}`);let h=st.L,f=Is.QUIET_ZONE_SIZE;u!==null&&(u.get(_t.ERROR_CORRECTION)!==void 0&&(h=st.fromString(u.get(_t.ERROR_CORRECTION).toString())),u.get(_t.MARGIN)!==void 0&&(f=Number.parseInt(u.get(_t.MARGIN).toString(),10)));const m=lt.encode(n,h,u);return Is.renderResult(m,i,l,f)}static renderResult(n,s,i,l){const u=n.getMatrix();if(u===null)throw new Ve;const h=u.getWidth(),f=u.getHeight(),m=h+l*2,w=f+l*2,b=Math.max(s,m),E=Math.max(i,w),j=Math.min(Math.floor(b/m),Math.floor(E/w)),D=Math.floor((b-h*j)/2),F=Math.floor((E-f*j)/2),U=new be(b,E);for(let G=0,$=F;G<f;G++,$+=j)for(let de=0,fe=D;de<h;de++,fe+=j)u.get(de,G)===1&&U.setRegion(fe,$,j,j);return U}}Is.QUIET_ZONE_SIZE=4;class Gm{encode(n,s,i,l,u){let h;switch(s){case ee.QR_CODE:h=new Is;break;default:throw new v("No encoder available for format "+s)}return h.encode(n,s,i,l,u)}}class $n extends ae{constructor(n,s,i,l,u,h,f,m){if(super(h,f),this.yuvData=n,this.dataWidth=s,this.dataHeight=i,this.left=l,this.top=u,l+h>s||u+f>i)throw new v("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(h,f)}getRow(n,s){if(n<0||n>=this.getHeight())throw new v("Requested row is outside the image: "+n);const i=this.getWidth();(s==null||s.length<i)&&(s=new Uint8ClampedArray(i));const l=(n+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,l,s,0,i),s}getMatrix(){const n=this.getWidth(),s=this.getHeight();if(n===this.dataWidth&&s===this.dataHeight)return this.yuvData;const i=n*s,l=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return R.arraycopy(this.yuvData,u,l,0,i),l;for(let h=0;h<s;h++){const f=h*n;R.arraycopy(this.yuvData,u,l,f,n),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,s,i,l){return new $n(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+s,i,l,!1)}renderThumbnail(){const n=this.getWidth()/$n.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/$n.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(n*s),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let h=0;h<s;h++){const f=h*n;for(let m=0;m<n;m++){const w=l[u+m*$n.THUMBNAIL_SCALE_FACTOR]&255;i[f+m]=4278190080|w*65793}u+=this.dataWidth*$n.THUMBNAIL_SCALE_FACTOR}return i}getThumbnailWidth(){return this.getWidth()/$n.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/$n.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,s){const i=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<s;l++,u+=this.dataWidth){const h=u+n/2;for(let f=u,m=u+n-1;f<h;f++,m--){const w=i[f];i[f]=i[m],i[m]=w}}}invert(){return new Ce(this)}}$n.THUMBNAIL_SCALE_FACTOR=2;class Ql extends ae{constructor(n,s,i,l,u,h,f){if(super(s,i),this.dataWidth=l,this.dataHeight=u,this.left=h,this.top=f,n.BYTES_PER_ELEMENT===4){const m=s*i,w=new Uint8ClampedArray(m);for(let b=0;b<m;b++){const E=n[b],j=E>>16&255,D=E>>7&510,F=E&255;w[b]=(j+D+F)/4&255}this.luminances=w}else this.luminances=n;if(l===void 0&&(this.dataWidth=s),u===void 0&&(this.dataHeight=i),h===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+i>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(n,s){if(n<0||n>=this.getHeight())throw new v("Requested row is outside the image: "+n);const i=this.getWidth();(s==null||s.length<i)&&(s=new Uint8ClampedArray(i));const l=(n+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,l,s,0,i),s}getMatrix(){const n=this.getWidth(),s=this.getHeight();if(n===this.dataWidth&&s===this.dataHeight)return this.luminances;const i=n*s,l=new Uint8ClampedArray(i);let u=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return R.arraycopy(this.luminances,u,l,0,i),l;for(let h=0;h<s;h++){const f=h*n;R.arraycopy(this.luminances,u,l,f,n),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(n,s,i,l){return new Ql(this.luminances,i,l,this.dataWidth,this.dataHeight,this.left+n,this.top+s)}invert(){return new Ce(this)}}class h0 extends Y{static forName(n){return this.getCharacterSetECIByName(n)}}class Gl{}Gl.ISO_8859_1=Y.ISO8859_1;class f0{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class x0{static singletonList(n){return[n]}static min(n,s){return n.sort(s)[0]}}class qm{constructor(n){this.previous=n}getPrevious(){return this.previous}}class ks extends qm{constructor(n,s,i){super(n),this.value=s,this.bitCount=i}appendTo(n,s){n.appendBits(this.value,this.bitCount)}add(n,s){return new ks(this,n,s)}addBinaryShift(n,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ks(this,n,s)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+T.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class ql extends ks{constructor(n,s,i){super(n,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=i}appendTo(n,s){for(let i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):i===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(s[this.binaryShiftStart+i],8)}addBinaryShift(n,s){return new ql(this,n,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Xm(C,n,s){return new ql(C,n,s)}function Si(C,n,s){return new ks(C,n,s)}const Ym=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ir=0,Fo=1,In=2,m0=3,Jn=4,Km=new ks(null,0,0),Xl=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function Zm(C){for(let n of C)A.fill(n,-1);return C[Ir][Jn]=0,C[Fo][Jn]=0,C[Fo][Ir]=28,C[m0][Jn]=0,C[In][Jn]=0,C[In][Ir]=15,C}const g0=Zm(A.createInt32Array(6,6));class er{constructor(n,s,i,l){this.token=n,this.mode=s,this.binaryShiftByteCount=i,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,s){let i=this.bitCount,l=this.token;if(n!==this.mode){let h=Xl[this.mode][n];l=Si(l,h&65535,h>>16),i+=h>>16}let u=n===In?4:5;return l=Si(l,s,u),new er(l,n,0,i+u)}shiftAndAppend(n,s){let i=this.token,l=this.mode===In?4:5;return i=Si(i,g0[this.mode][n],l),i=Si(i,s,5),new er(i,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(n){let s=this.token,i=this.mode,l=this.bitCount;if(this.mode===Jn||this.mode===In){let f=Xl[i][Ir];s=Si(s,f&65535,f>>16),l+=f>>16,i=Ir}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,h=new er(s,i,this.binaryShiftByteCount+1,l+u);return h.binaryShiftByteCount===2047+31&&(h=h.endBinaryShift(n+1)),h}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=Xm(s,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new er(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let s=this.bitCount+(Xl[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?s+=er.calculateBinaryShiftCost(n)-er.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(s+=10),s<=n.bitCount}toBitArray(n){let s=[];for(let l=this.endBinaryShift(n.length).token;l!==null;l=l.getPrevious())s.unshift(l);let i=new O;for(const l of s)l.appendTo(i,n);return i}toString(){return ge.format("%s bits=%d bytes=%d",Ym[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}er.INITIAL_STATE=new er(Km,Ir,0,0);function $m(C){const n=ge.getCharCode(" "),s=ge.getCharCode("."),i=ge.getCharCode(",");C[Ir][n]=1;const l=ge.getCharCode("Z"),u=ge.getCharCode("A");for(let j=u;j<=l;j++)C[Ir][j]=j-u+2;C[Fo][n]=1;const h=ge.getCharCode("z"),f=ge.getCharCode("a");for(let j=f;j<=h;j++)C[Fo][j]=j-f+2;C[In][n]=1;const m=ge.getCharCode("9"),w=ge.getCharCode("0");for(let j=w;j<=m;j++)C[In][j]=j-w+2;C[In][i]=12,C[In][s]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let j=0;j<b.length;j++)C[m0][ge.getCharCode(b[j])]=j;const E=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let j=0;j<E.length;j++)ge.getCharCode(E[j])>0&&(C[Jn][ge.getCharCode(E[j])]=j);return C}const Yl=$m(A.createInt32Array(5,256));class ji{constructor(n){this.text=n}encode(){const n=ge.getCharCode(" "),s=ge.getCharCode(`
`);let i=x0.singletonList(er.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let h,f=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case ge.getCharCode("\r"):h=f===s?2:0;break;case ge.getCharCode("."):h=f===n?3:0;break;case ge.getCharCode(","):h=f===n?4:0;break;case ge.getCharCode(":"):h=f===n?5:0;break;default:h=0}h>0?(i=ji.updateStateListForPair(i,u,h),u++):i=this.updateStateListForChar(i,u)}return x0.min(i,(u,h)=>u.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,s){const i=[];for(let l of n)this.updateStateForChar(l,s,i);return ji.simplifyStates(i)}updateStateForChar(n,s,i){let l=this.text[s]&255,u=Yl[n.getMode()][l]>0,h=null;for(let f=0;f<=Jn;f++){let m=Yl[f][l];if(m>0){if(h==null&&(h=n.endBinaryShift(s)),!u||f===n.getMode()||f===In){const w=h.latchAndAppend(f,m);i.push(w)}if(!u&&g0[n.getMode()][f]>=0){const w=h.shiftAndAppend(f,m);i.push(w)}}}if(n.getBinaryShiftByteCount()>0||Yl[n.getMode()][l]===0){let f=n.addBinaryShiftChar(s);i.push(f)}}static updateStateListForPair(n,s,i){const l=[];for(let u of n)this.updateStateForPair(u,s,i,l);return this.simplifyStates(l)}static updateStateForPair(n,s,i,l){let u=n.endBinaryShift(s);if(l.push(u.latchAndAppend(Jn,i)),n.getMode()!==Jn&&l.push(u.shiftAndAppend(Jn,i)),i===3||i===4){let h=u.latchAndAppend(In,16-i).latchAndAppend(In,1);l.push(h)}if(n.getBinaryShiftByteCount()>0){let h=n.addBinaryShiftChar(s).addBinaryShiftChar(s+1);l.push(h)}}static simplifyStates(n){let s=[];for(const i of n){let l=!0;for(const u of s){if(u.isBetterThanOrEqualTo(i)){l=!1;break}i.isBetterThanOrEqualTo(u)&&(s=s.filter(h=>h!==u))}l&&s.push(i)}return s}}class Ge{constructor(){}static encodeBytes(n){return Ge.encode(n,Ge.DEFAULT_EC_PERCENT,Ge.DEFAULT_AZTEC_LAYERS)}static encode(n,s,i){let l=new ji(n).encode(),u=T.truncDivision(l.getSize()*s,100)+11,h=l.getSize()+u,f,m,w,b,E;if(i!==Ge.DEFAULT_AZTEC_LAYERS){if(f=i<0,m=Math.abs(i),m>(f?Ge.MAX_NB_BITS_COMPACT:Ge.MAX_NB_BITS))throw new v(ge.format("Illegal value %s for layers",i));w=Ge.totalBitsInLayer(m,f),b=Ge.WORD_SIZE[m];let oe=w-w%b;if(E=Ge.stuffBits(l,b),E.getSize()+u>oe)throw new v("Data to large for user specified layer");if(f&&E.getSize()>b*64)throw new v("Data to large for user specified layer")}else{b=0,E=null;for(let oe=0;;oe++){if(oe>Ge.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(f=oe<=3,m=f?oe+1:oe,w=Ge.totalBitsInLayer(m,f),h>w)continue;(E==null||b!==Ge.WORD_SIZE[m])&&(b=Ge.WORD_SIZE[m],E=Ge.stuffBits(l,b));let He=w-w%b;if(!(f&&E.getSize()>b*64)&&E.getSize()+u<=He)break}}let j=Ge.generateCheckWords(E,w,b),D=E.getSize()/b,F=Ge.generateModeMessage(f,m,D),U=(f?11:14)+m*4,G=new Int32Array(U),$;if(f){$=U;for(let oe=0;oe<G.length;oe++)G[oe]=oe}else{$=U+1+2*T.truncDivision(T.truncDivision(U,2)-1,15);let oe=T.truncDivision(U,2),He=T.truncDivision($,2);for(let De=0;De<oe;De++){let cn=De+T.truncDivision(De,15);G[oe-De-1]=He-cn-1,G[oe+De]=He+cn+1}}let de=new be($);for(let oe=0,He=0;oe<m;oe++){let De=(m-oe)*4+(f?9:12);for(let cn=0;cn<De;cn++){let Fn=cn*2;for(let un=0;un<2;un++)j.get(He+Fn+un)&&de.set(G[oe*2+un],G[oe*2+cn]),j.get(He+De*2+Fn+un)&&de.set(G[oe*2+cn],G[U-1-oe*2-un]),j.get(He+De*4+Fn+un)&&de.set(G[U-1-oe*2-un],G[U-1-oe*2-cn]),j.get(He+De*6+Fn+un)&&de.set(G[U-1-oe*2-cn],G[oe*2+un])}He+=De*8}if(Ge.drawModeMessage(de,f,$,F),f)Ge.drawBullsEye(de,T.truncDivision($,2),5);else{Ge.drawBullsEye(de,T.truncDivision($,2),7);for(let oe=0,He=0;oe<T.truncDivision(U,2)-1;oe+=15,He+=16)for(let De=T.truncDivision($,2)&1;De<$;De+=2)de.set(T.truncDivision($,2)-He,De),de.set(T.truncDivision($,2)+He,De),de.set(De,T.truncDivision($,2)-He),de.set(De,T.truncDivision($,2)+He)}let fe=new f0;return fe.setCompact(f),fe.setSize($),fe.setLayers(m),fe.setCodeWords(D),fe.setMatrix(de),fe}static drawBullsEye(n,s,i){for(let l=0;l<i;l+=2)for(let u=s-l;u<=s+l;u++)n.set(u,s-l),n.set(u,s+l),n.set(s-l,u),n.set(s+l,u);n.set(s-i,s-i),n.set(s-i+1,s-i),n.set(s-i,s-i+1),n.set(s+i,s-i),n.set(s+i,s-i+1),n.set(s+i,s+i-1)}static generateModeMessage(n,s,i){let l=new O;return n?(l.appendBits(s-1,2),l.appendBits(i-1,6),l=Ge.generateCheckWords(l,28,4)):(l.appendBits(s-1,5),l.appendBits(i-1,11),l=Ge.generateCheckWords(l,40,4)),l}static drawModeMessage(n,s,i,l){let u=T.truncDivision(i,2);if(s)for(let h=0;h<7;h++){let f=u-3+h;l.get(h)&&n.set(f,u-5),l.get(h+7)&&n.set(u+5,f),l.get(20-h)&&n.set(f,u+5),l.get(27-h)&&n.set(u-5,f)}else for(let h=0;h<10;h++){let f=u-5+h+T.truncDivision(h,5);l.get(h)&&n.set(f,u-7),l.get(h+10)&&n.set(u+7,f),l.get(29-h)&&n.set(f,u+7),l.get(39-h)&&n.set(u-7,f)}}static generateCheckWords(n,s,i){let l=n.getSize()/i,u=new Wl(Ge.getGF(i)),h=T.truncDivision(s,i),f=Ge.bitsToWords(n,i,h);u.encode(f,h-l);let m=s%i,w=new O;w.appendBits(0,m);for(const b of Array.from(f))w.appendBits(b,i);return w}static bitsToWords(n,s,i){let l=new Int32Array(i),u,h;for(u=0,h=n.getSize()/s;u<h;u++){let f=0;for(let m=0;m<s;m++)f|=n.get(u*s+m)?1<<s-m-1:0;l[u]=f}return l}static getGF(n){switch(n){case 4:return me.AZTEC_PARAM;case 6:return me.AZTEC_DATA_6;case 8:return me.AZTEC_DATA_8;case 10:return me.AZTEC_DATA_10;case 12:return me.AZTEC_DATA_12;default:throw new v("Unsupported word size "+n)}}static stuffBits(n,s){let i=new O,l=n.getSize(),u=(1<<s)-2;for(let h=0;h<l;h+=s){let f=0;for(let m=0;m<s;m++)(h+m>=l||n.get(h+m))&&(f|=1<<s-1-m);(f&u)===u?(i.appendBits(f&u,s),h--):f&u?i.appendBits(f,s):(i.appendBits(f|1,s),h--)}return i}static totalBitsInLayer(n,s){return((s?88:112)+16*n)*n}}Ge.DEFAULT_EC_PERCENT=33,Ge.DEFAULT_AZTEC_LAYERS=0,Ge.MAX_NB_BITS=32,Ge.MAX_NB_BITS_COMPACT=4,Ge.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class zo{encode(n,s,i,l){return this.encodeWithHints(n,s,i,l,null)}encodeWithHints(n,s,i,l,u){let h=Gl.ISO_8859_1,f=Ge.DEFAULT_EC_PERCENT,m=Ge.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(_t.CHARACTER_SET)&&(h=h0.forName(u.get(_t.CHARACTER_SET).toString())),u.has(_t.ERROR_CORRECTION)&&(f=T.parseInt(u.get(_t.ERROR_CORRECTION).toString())),u.has(_t.AZTEC_LAYERS)&&(m=T.parseInt(u.get(_t.AZTEC_LAYERS).toString()))),zo.encodeLayers(n,s,i,l,h,f,m)}static encodeLayers(n,s,i,l,u,h,f){if(s!==ee.AZTEC)throw new v("Can only encode AZTEC, but got "+s);let m=Ge.encode(ge.getBytes(n,u),h,f);return zo.renderResult(m,i,l)}static renderResult(n,s,i){let l=n.getMatrix();if(l==null)throw new Ve;let u=l.getWidth(),h=l.getHeight(),f=Math.max(s,u),m=Math.max(i,h),w=Math.min(f/u,m/h),b=(f-u*w)/2,E=(m-h*w)/2,j=new be(f,m);for(let D=0,F=E;D<h;D++,F+=w)for(let U=0,G=b;U<u;U++,G+=w)l.get(U,D)&&j.setRegion(G,F,w,w);return j}}r.AbstractExpandedDecoder=Ml,r.ArgumentException=N,r.ArithmeticException=we,r.AztecCode=f0,r.AztecCodeReader=Ro,r.AztecCodeWriter=zo,r.AztecDecoder=Ze,r.AztecDetector=Jd,r.AztecDetectorResult=Zd,r.AztecEncoder=Ge,r.AztecHighLevelEncoder=ji,r.AztecPoint=Jt,r.BarcodeFormat=ee,r.Binarizer=_,r.BinaryBitmap=I,r.BitArray=O,r.BitMatrix=be,r.BitSource=Pl,r.BrowserAztecCodeReader=Em,r.BrowserBarcodeReader=Im,r.BrowserCodeReader=te,r.BrowserDatamatrixCodeReader=Rm,r.BrowserMultiFormatReader=Vm,r.BrowserPDF417Reader=Hm,r.BrowserQRCodeReader=Wm,r.BrowserQRCodeSvgWriter=as,r.CharacterSetECI=Y,r.ChecksumException=k,r.Code128Reader=ye,r.Code39Reader=kt,r.DataMatrixDecodedBitStreamParser=Ar,r.DataMatrixReader=Sr,r.DecodeHintType=Q,r.DecoderResult=pe,r.DefaultGridSampler=$d,r.DetectorResult=ko,r.EAN13Reader=ns,r.EncodeHintType=_t,r.Exception=p,r.FormatException=P,r.GenericGF=me,r.GenericGFPoly=he,r.GlobalHistogramBinarizer=ie,r.GridSampler=kl,r.GridSamplerInstance=Cr,r.HTMLCanvasElementLuminanceSource=W,r.HybridBinarizer=Ne,r.ITFReader=et,r.IllegalArgumentException=v,r.IllegalStateException=Ve,r.InvertedLuminanceSource=Ce,r.LuminanceSource=ae,r.MathUtils=Qe,r.MultiFormatOneDReader=js,r.MultiFormatReader=d0,r.MultiFormatWriter=Gm,r.NotFoundException=z,r.OneDReader=jt,r.PDF417DecodedBitStreamParser=K,r.PDF417DecoderErrorCorrection=i0,r.PDF417Reader=zt,r.PDF417ResultMetadata=a0,r.PerspectiveTransform=Bn,r.PlanarYUVLuminanceSource=$n,r.QRCodeByteMatrix=Po,r.QRCodeDataMask=jn,r.QRCodeDecodedBitStreamParser=xt,r.QRCodeDecoderErrorCorrectionLevel=st,r.QRCodeDecoderFormatInformation=qt,r.QRCodeEncoder=lt,r.QRCodeEncoderQRCode=os,r.QRCodeMaskUtil=bt,r.QRCodeMatrixUtil=Oe,r.QRCodeMode=_e,r.QRCodeReader=jr,r.QRCodeVersion=ke,r.QRCodeWriter=Is,r.RGBLuminanceSource=Ql,r.RSS14Reader=yt,r.RSSExpandedReader=re,r.ReaderException=Bo,r.ReedSolomonDecoder=ze,r.ReedSolomonEncoder=Wl,r.ReedSolomonException=Re,r.Result=ne,r.ResultMetadataType=le,r.ResultPoint=je,r.StringUtils=ge,r.UnsupportedOperationException=xe,r.VideoInputDevice=ce,r.WhiteRectangleDetector=lr,r.WriterException=tt,r.ZXingArrays=A,r.ZXingCharset=h0,r.ZXingInteger=T,r.ZXingStandardCharsets=Gl,r.ZXingStringBuilder=ve,r.ZXingStringEncoding=Ie,r.ZXingSystem=R,r.createAbstractExpandedDecoder=r0,Object.defineProperty(r,"__esModule",{value:!0})})})(Bu,Bu.exports);var ut=Bu.exports;const c4=hh(ut),u4=dh({__proto__:null,default:c4},[ut]);var rh=function(){function e(t,r,o){if(this.formatMap=new Map([[Ae.QR_CODE,ut.BarcodeFormat.QR_CODE],[Ae.AZTEC,ut.BarcodeFormat.AZTEC],[Ae.CODABAR,ut.BarcodeFormat.CODABAR],[Ae.CODE_39,ut.BarcodeFormat.CODE_39],[Ae.CODE_93,ut.BarcodeFormat.CODE_93],[Ae.CODE_128,ut.BarcodeFormat.CODE_128],[Ae.DATA_MATRIX,ut.BarcodeFormat.DATA_MATRIX],[Ae.MAXICODE,ut.BarcodeFormat.MAXICODE],[Ae.ITF,ut.BarcodeFormat.ITF],[Ae.EAN_13,ut.BarcodeFormat.EAN_13],[Ae.EAN_8,ut.BarcodeFormat.EAN_8],[Ae.PDF_417,ut.BarcodeFormat.PDF_417],[Ae.RSS_14,ut.BarcodeFormat.RSS_14],[Ae.RSS_EXPANDED,ut.BarcodeFormat.RSS_EXPANDED],[Ae.UPC_A,ut.BarcodeFormat.UPC_A],[Ae.UPC_E,ut.BarcodeFormat.UPC_E],[Ae.UPC_EAN_EXTENSION,ut.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!u4)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=o;var c=this.createZXingFormats(t),d=new Map;d.set(ut.DecodeHintType.POSSIBLE_FORMATS,c),d.set(ut.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(o,c){try{o(r.decode(t))}catch(d){c(d)}})},e.prototype.decode=function(t){var r=new ut.MultiFormatReader(this.verbose,this.hints),o=new ut.HTMLCanvasElementLuminanceSource(t),c=new ut.BinaryBitmap(new ut.HybridBinarizer(o)),d=r.decode(c);return{text:d.text,format:bm.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,o,c){t.set(r,o)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],o=0,c=t;o<c.length;o++){var d=c[o];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),d4=globalThis&&globalThis.__awaiter||function(e,t,r,o){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function g(N){try{p(o.next(N))}catch(v){x(v)}}function y(N){try{p(o.throw(N))}catch(v){x(v)}}function p(N){N.done?d(N.value):c(N.value).then(g,y)}p((o=o.apply(e,t||[])).next())})},h4=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,x;return x={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function g(p){return function(N){return y([p,N])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(r=0)),r;)try{if(o=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,c=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(N){p=[6,N],c=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},sh=function(){function e(t,r,o){if(this.formatMap=new Map([[Ae.QR_CODE,"qr_code"],[Ae.AZTEC,"aztec"],[Ae.CODABAR,"codabar"],[Ae.CODE_39,"code_39"],[Ae.CODE_93,"code_93"],[Ae.CODE_128,"code_128"],[Ae.DATA_MATRIX,"data_matrix"],[Ae.ITF,"itf"],[Ae.EAN_13,"ean_13"],[Ae.EAN_8,"ean_8"],[Ae.PDF_417,"pdf417"],[Ae.UPC_A,"upc_a"],[Ae.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=o;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return d4(this,void 0,void 0,function(){var r,o;return h4(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=c.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(r),[2,{text:o.rawValue,format:bm.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,o=0,c=0,d=t;c<d.length;c++){var x=d[c],g=x.boundingBox.width*x.boundingBox.height;g>o&&(o=g,r=x)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],o=0,c=t;o<c.length;o++){var d=c[o];this.formatMap.has(d)?r.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,o,c){t.set(r,o)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),ih=globalThis&&globalThis.__awaiter||function(e,t,r,o){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function g(N){try{p(o.next(N))}catch(v){x(v)}}function y(N){try{p(o.throw(N))}catch(v){x(v)}}function p(N){N.done?d(N.value):c(N.value).then(g,y)}p((o=o.apply(e,t||[])).next())})},oh=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,x;return x={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function g(p){return function(N){return y([p,N])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(r=0)),r;)try{if(o=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,c=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(N){p=[6,N],c=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},f4=function(){function e(t,r,o,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,r&&sh.isSupported()?(this.primaryDecoder=new sh(t,o,c),this.secondaryDecoder=new rh(t,o,c)):this.primaryDecoder=new rh(t,o,c)}return e.prototype.decodeAsync=function(t){return ih(this,void 0,void 0,function(){var r;return oh(this,function(o){switch(o.label){case 0:r=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return ih(this,void 0,void 0,function(){var r,o;return oh(this,function(c){switch(c.label){case 0:r=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(o=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw o;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,o=this.executionResults;r<o.length;r++){var c=o[r];t+=c}var d=t/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Kd=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),el=globalThis&&globalThis.__awaiter||function(e,t,r,o){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function g(N){try{p(o.next(N))}catch(v){x(v)}}function y(N){try{p(o.throw(N))}catch(v){x(v)}}function p(N){N.done?d(N.value):c(N.value).then(g,y)}p((o=o.apply(e,t||[])).next())})},tl=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,x;return x={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function g(p){return function(N){return y([p,N])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(r=0)),r;)try{if(o=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,c=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(N){p=[6,N],c=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Nm=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var o={advanced:[r]};return this.track.applyConstraints(o)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),x4=function(e){Kd(t,e);function t(r,o){return e.call(this,r,o)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var o={};o[this.name]=r;var c={advanced:[o]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),o=r[this.name];return{min:o.min,max:o.max,step:o.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Nm),m4=function(e){Kd(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(x4),g4=function(e){Kd(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(Nm),p4=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new m4(this.track)},e.prototype.torchFeature=function(){return new g4(this.track)},e}(),w4=function(){function e(t,r,o){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var o=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(o,c),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,o,c){return el(this,void 0,void 0,function(){var d,x;return tl(this,function(g){switch(g.label){case 0:return d=new e(t,r,c),o.aspectRatio?(x={aspectRatio:o.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(x)]):[3,2];case 1:g.sent(),g.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,o=function(){setTimeout(t,200),r.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return el(this,void 0,void 0,function(){return tl(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,o){var c=t.mediaStream.getVideoTracks(),d=c.length,x=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++x,x>=d&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new p4(this.getFirstTrackOrFail())},e}(),y4=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,o){return el(this,void 0,void 0,function(){return tl(this,function(c){return[2,w4.create(t,this.mediaStream,r,o)]})})},e.create=function(t){return el(this,void 0,void 0,function(){var r,o;return tl(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return o=c.sent(),[2,new e(o)]}})})},e}(),ah=globalThis&&globalThis.__awaiter||function(e,t,r,o){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function g(N){try{p(o.next(N))}catch(v){x(v)}}function y(N){try{p(o.throw(N))}catch(v){x(v)}}function p(N){N.done?d(N.value):c(N.value).then(g,y)}p((o=o.apply(e,t||[])).next())})},lh=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,x;return x={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function g(p){return function(N){return y([p,N])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(r=0)),r;)try{if(o=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,c=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(N){p=[6,N],c=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},b4=function(){function e(){}return e.failIfNotSupported=function(){return ah(this,void 0,void 0,function(){return lh(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return ah(this,void 0,void 0,function(){return lh(this,function(r){return[2,y4.create(t)]})})},e}(),v4=globalThis&&globalThis.__awaiter||function(e,t,r,o){function c(d){return d instanceof r?d:new r(function(x){x(d)})}return new(r||(r=Promise))(function(d,x){function g(N){try{p(o.next(N))}catch(v){x(v)}}function y(N){try{p(o.throw(N))}catch(v){x(v)}}function p(N){N.done?d(N.value):c(N.value).then(g,y)}p((o=o.apply(e,t||[])).next())})},N4=globalThis&&globalThis.__generator||function(e,t){var r={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,x;return x={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(x[Symbol.iterator]=function(){return this}),x;function g(p){return function(N){return y([p,N])}}function y(p){if(o)throw new TypeError("Generator is already executing.");for(;x&&(x=0,p[0]&&(r=0)),r;)try{if(o=1,c&&(d=p[0]&2?c.return:p[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,p[1])).done)return d;switch(c=0,d&&(p=[p[0]&2,d.value]),p[0]){case 0:case 1:d=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,c=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(d=r.trys,!(d=d.length>0&&d[d.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!d||p[1]>d[0]&&p[1]<d[3])){r.label=p[1];break}if(p[0]===6&&r.label<d[1]){r.label=d[1],d=p;break}if(d&&r.label<d[2]){r.label=d[2],r.ops.push(p);break}d[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(N){p=[6,N],c=0}finally{o=d=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},C4=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Gs.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Gs.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return v4(this,void 0,void 0,function(){var t,r,o,c,d,x,g;return N4(this,function(y){switch(y.label){case 0:return t=function(p){for(var N=p.getVideoTracks(),v=0,I=N;v<I.length;v++){var k=I[v];k.enabled=!1,k.stop(),p.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=y.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=y.sent(),c=[],d=0,x=o;d<x.length;d++)g=x[d],g.kind==="videoinput"&&c.push({id:g.deviceId,label:g.label});return t(r),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var o=function(d){for(var x=[],g=0,y=d;g<y.length;g++){var p=y[g];p.kind==="video"&&x.push({id:p.id,label:p.label})}t(x)},c=MediaStreamTrack;c.getSources(o)})},e}(),vt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(vt||(vt={}));var E4=function(){function e(){this.state=vt.NOT_STARTED,this.onGoingTransactionNewState=vt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===vt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=vt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===vt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=vt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==vt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case vt.UNKNOWN:throw"Transition from unknown is not allowed";case vt.NOT_STARTED:this.failIfNewStateIs(t,[vt.PAUSED]);break;case vt.SCANNING:break;case vt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var o=0,c=r;o<c.length;o++){var d=c[o];if(t===d)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),A4=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===vt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==vt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===vt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===vt.PAUSED},e}(),S4=function(){function e(){}return e.create=function(){return new A4(new E4)},e}(),j4=globalThis&&globalThis.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function o(){this.constructor=t}t.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}}(),wn=function(e){j4(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(o4),T4=function(){function e(t,r){this.logger=r,this.fps=wn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=wn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?vm.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!cr(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),ch=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var o;typeof r=="boolean"?this.verbose=r===!0:r&&(o=r,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new l4(this.verbose),this.qrcode=new f4(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=S4.create()}return e.prototype.start=function(t,r,o,c){var d=this;if(!t)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var x;c?x=c:x=this.verbose?this.logger.log:function(){};var g=T4.create(r,this.logger);this.clearElement();var y=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?y=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=y,N=document.getElementById(this.elementId);N.clientWidth?N.clientWidth:wn.DEFAULT_WIDTH,N.style.position="relative",this.shouldScan=!0,this.element=N;var v=this,I=this.stateManagerProxy.startTransition(vt.SCANNING);return new Promise(function(k,_){var R=p?g.videoConstraints:v.createVideoConstraints(t);if(!R){I.cancel(),_("videoConstraints should be defined");return}var L={};(!p||g.aspectRatio)&&(L.aspectRatio=g.aspectRatio);var S={onRenderSurfaceReady:function(A,T){v.setupUi(A,T,g),v.isScanning=!0,v.foreverScan(g,o,x)}};b4.failIfNotSupported().then(function(A){A.create(R).then(function(T){return T.render(d.element,L,S).then(function(O){v.renderedCamera=O,I.execute(),k(null)}).catch(function(O){I.cancel(),_(O)})}).catch(function(T){I.cancel(),_(Gs.errorGettingUserMedia(T))})}).catch(function(A){I.cancel(),_(Gs.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(vt.PAUSED),this.showPausedState(),(cr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(vt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(vt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(t.element){var d=document.getElementById(wn.SHADED_REGION_ELEMENT_ID);d&&t.element.removeChild(d)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),o(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),r.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(o){return o.decodedText})},e.prototype.scanFileV2=function(t,r){var o=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(cr(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(t);var x=new Image;x.onload=function(){var g=x.width,y=x.height,p=document.getElementById(o.elementId),N=p.clientWidth?p.clientWidth:wn.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:y,wn.FILE_SCAN_MIN_HEIGHT),I=o.computeCanvasDrawConfig(g,y,N,v);if(r){var k=o.createCanvasElement(N,v,"qr-canvas-visible");k.style.display="inline-block",p.appendChild(k);var _=k.getContext("2d");if(!_)throw"Unable to get 2d context from canvas";_.canvas.width=N,_.canvas.height=v,_.drawImage(x,0,0,g,y,I.x,I.y,I.width,I.height)}var R=wn.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(x.width,I.width),S=Math.max(x.height,I.height),A=L+2*R,T=S+2*R,O=o.createCanvasElement(A,T);p.appendChild(O);var V=O.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=A,V.canvas.height=T,V.drawImage(x,0,0,g,y,R,R,L,S);try{o.qrcode.decodeRobustlyAsync(O).then(function(Q){c(nh.createFromQrcodeResult(Q))}).catch(d)}catch(Q){d("QR code parse error, error = ".concat(Q))}},x.onerror=d,x.onabort=d,x.onstalled=d,x.onsuspend=d,x.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return C4.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!vm.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Ae.QR_CODE,Ae.AZTEC,Ae.CODABAR,Ae.CODE_39,Ae.CODE_93,Ae.CODE_128,Ae.DATA_MATRIX,Ae.MAXICODE,Ae.ITF,Ae.EAN_13,Ae.EAN_8,Ae.PDF_417,Ae.RSS_14,Ae.RSS_EXPANDED,Ae.UPC_A,Ae.UPC_E,Ae.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],c=0,d=t.formatsToSupport;c<d.length;c++){var x=d[c];i4(x)?o.push(x):this.logger.warn("Invalid format: ".concat(x," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(cr(t))return!0;if(!cr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(cr(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return cr(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,o){var c=this,d=o.qrbox;this.validateQrboxConfig(d);var x=this.toQrdimensions(t,r,d),g=function(p){if(p<wn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(wn.MIN_QR_BOX_SIZE,"px.")},y=function(p){return p>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};g(x.width),g(x.height),x.width=y(x.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(t,r)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return o},e.prototype.setupUi=function(t,r,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,o);var c=cr(o.qrbox)?{width:t,height:r}:o.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(t,r,c);d.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var x=o.isShadedBoxEnabled()&&d.height<=r,g={x:0,y:0,width:t,height:r},y=x?this.getShadedRegionBounds(t,r,d):g,p=this.createCanvasElement(y.width,y.height),N={willReadFrequently:!0},v=p.getContext("2d",N);v.canvas.width=y.width,v.canvas.height=y.height,this.element.append(p),x&&this.possiblyInsertShadingElement(this.element,t,r,d),this.createScannerPausedUiElement(this.element),this.qrRegion=y,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Gs.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,nh.createFromQrcodeResult(c)),o.possiblyUpdateShaders(!0),!0}).catch(function(c){o.possiblyUpdateShaders(!1);var d=Gs.codeParseError(c);return r(d,a4.createFrom(d)),!1})},e.prototype.foreverScan=function(t,r,o){var c=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),x=d.videoWidth/d.clientWidth,g=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var y=this.qrRegion.width*x,p=this.qrRegion.height*g,N=this.qrRegion.x*x,v=this.qrRegion.y*g;this.context.drawImage(d,N,v,y,p,0,0,this.qrRegion.width,this.qrRegion.height);var I=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,r,o)},c.getTimeoutFps(t.fps))};this.scanContext(r,o).then(function(k){!k&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(r,o).finally(function(){I()})):I()}).catch(function(k){c.logger.logError("Error happend while scanning context",k),I()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",o="deviceId",c={user:!0,environment:!0},d="exact",x=function(_){if(_ in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(_,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var y=Object.keys(t)[0];if(y!==r&&y!==o)throw"Only '".concat(r,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(y===r){var p=t.facingMode;if(typeof p=="string"){if(x(p))return{facingMode:p}}else if(typeof p=="object")if(d in p){if(x(p["".concat(d)]))return{facingMode:{exact:p["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var N=typeof p;throw"Invalid type of 'facingMode' = ".concat(N)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(d in v)return{deviceId:{exact:v["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var I=typeof v;throw"Invalid type of 'deviceId' = ".concat(I)}}}var k=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(t,r,o,c){if(t<=o&&r<=c){var d=(o-t)/2,x=(c-r)/2;return{x:d,y:x,width:t,height:r}}else{var g=t,y=r;return t>o&&(r=o/t*r,t=o),r>c&&(t=c/r*t,r=c),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(y)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,o,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?wn.BORDER_SHADER_MATCH_COLOR:wn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,o){var c=t,d=r,x=document.createElement("canvas");return x.style.width="".concat(c,"px"),x.style.height="".concat(d,"px"),x.style.display="none",x.id=cr(o)?"qr-canvas":o,x},e.prototype.getShadedRegionBounds=function(t,r,o){if(o.width>t||o.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-o.width)/2,y:(r-o.height)/2,width:o.width,height:o.height}},e.prototype.possiblyInsertShadingElement=function(t,r,o,c){if(!(r-c.width<1||o-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var x=(r-c.width)/2,g=(o-c.height)/2;if(d.style.borderLeft="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(wn.SHADED_REGION_ELEMENT_ID),r-c.width<11||o-c.height<11)this.hasBorderShaders=!1;else{var y=5,p=40;this.insertShaderBorders(d,p,y,-y,null,0,!0),this.insertShaderBorders(d,p,y,-y,null,0,!1),this.insertShaderBorders(d,p,y,null,-y,0,!0),this.insertShaderBorders(d,p,y,null,-y,0,!1),this.insertShaderBorders(d,y,p+y,-y,null,-y,!0),this.insertShaderBorders(d,y,p+y,null,-y,-y,!0),this.insertShaderBorders(d,y,p+y,-y,null,-y,!1),this.insertShaderBorders(d,y,p+y,null,-y,-y,!1),this.hasBorderShaders=!0}t.append(d)}},e.prototype.insertShaderBorders=function(t,r,o,c,d,x,g){var y=document.createElement("div");y.style.position="absolute",y.style.backgroundColor=wn.BORDER_SHADER_DEFAULT_COLOR,y.style.width="".concat(r,"px"),y.style.height="".concat(o,"px"),c!==null&&(y.style.top="".concat(c,"px")),d!==null&&(y.style.bottom="".concat(d,"px")),g?y.style.left="".concat(x,"px"):y.style.right="".concat(x,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(y),t.appendChild(y)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}();globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var uh;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(uh||(uh={}));function Cm({isOpen:e,onClose:t}){const r=St(),[o,c]=B.useState(""),[d,x]=B.useState(!1),[g,y]=B.useState(!1),p=B.useRef(null),N=B.useRef(null),v=B.useRef(!1);B.useEffect(()=>(e&&I(),()=>{k()}),[e]);const I=async()=>{if(!v.current)try{v.current=!0,N.current&&await k();const A=new ch("qr-reader");N.current=A,await A.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},_,R),x(!0)}catch(A){console.error("Error starting scanner:",A),v.current=!1,c("Camera access denied or not available. Please allow camera access or upload an image instead.")}},k=async()=>{try{N.current&&N.current.isScanning&&(await N.current.stop(),N.current.clear())}catch(A){console.error("Error stopping scanner:",A)}finally{N.current=null,v.current=!1,x(!1)}},_=(A,T)=>{if(v.current)try{v.current=!1;const V=new URL(A).pathname;if(V.includes("/student-access/")){const Q=V.split("/student-access/")[1];k(),r(`/student-access/${Q}`),t()}else if(V.includes("/quiz/")){const Q=V.split("/quiz/")[1];k(),r(`/quiz/${Q}`),t()}else c("Invalid quiz QR code"),setTimeout(()=>{c(""),v.current=!0},2e3)}catch{c("Invalid QR code format"),setTimeout(()=>{c(""),v.current=!0},2e3)}},R=A=>{},L=async A=>{const T=A.target.files[0];if(T){if(!T.type.match("image.*")){c("Please upload an image file (PNG/JPG)");return}y(!0),c("");try{const V=await new ch("qr-reader").scanFile(T,!0);_(V)}catch(O){console.error("Error scanning uploaded image:",O),c("No valid QR code found in the image. Please try another image.")}finally{y(!1),A.target.value=""}}},S=async()=>{await k(),t()};return e?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Scan Quiz QR Code"}),a.jsx("button",{onClick:S,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),g&&a.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4 text-center",children:"Processing image..."}),a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Position the QR code within the camera frame to scan"}),a.jsx("div",{id:"qr-reader",ref:p,className:"w-full rounded-lg overflow-hidden",style:{minHeight:"300px"}})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or upload a QR code image:"}),a.jsx("div",{className:"flex items-center",children:a.jsxs("label",{className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition font-medium text-center cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:L,className:"hidden",disabled:g}),g?"Processing...":"Upload QR Image"]})})]}),a.jsx("div",{className:"flex gap-3",children:a.jsx("button",{onClick:S,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-lg transition font-medium",children:"Cancel"})}),a.jsx("div",{className:"mt-4 text-xs text-gray-500 text-center",children:a.jsx("p",{children:"Make sure to allow camera access when prompted"})})]})}):null}function I4({user:e}){const t=St(),[r,o]=B.useState([]),[c,d]=B.useState([]),[x,g]=B.useState(!1),[y,p]=B.useState(null),[N,v]=B.useState(!0),[I,k]=B.useState(""),[_,R]=B.useState(!1),[L,S]=B.useState(null),[A,T]=B.useState(!1),[O,V]=B.useState(!1),[Q,P]=B.useState("all"),J=W=>{const ce=new Date;if(W.isActive){if(W.scheduledDate&&W.scheduledTime){const se=new Date(W.scheduledDate);se.setHours(0,0,0,0);const te=new Date(ce);if(te.setHours(0,0,0,0),se.getTime()===te.getTime()){const[ne,Te]=W.scheduledTime.split(":").map(Number),ee=new Date;ee.setHours(ne,Te,0,0);const H=new Date(ee.getTime()+W.totalDuration*6e4);return ce>H?"completed":"ongoing"}if(se>te)return"ongoing";if(se<te){const[ne,Te]=W.scheduledTime.split(":").map(Number),ee=new Date(se);ee.setHours(ne,Te,0,0);const H=new Date(ee.getTime()+W.totalDuration*6e4);return ce>H?"completed":"ongoing"}}return"ongoing"}if(!W.isActive&&(W.actualEndTime||W.actualStartTime&&!W.actualEndTime))return"completed";if(W.scheduledDate&&W.scheduledTime){const se=new Date(W.scheduledDate);se.setHours(0,0,0,0);const te=new Date(ce);if(te.setHours(0,0,0,0),se>te)return"upcoming";if(se.getTime()===te.getTime()){const[ne,Te]=W.scheduledTime.split(":").map(Number),ee=new Date;ee.setHours(ne,Te,0,0);const H=new Date(ee.getTime()+W.totalDuration*6e4);return ce<ee?"upcoming":ce>H?"completed":"upcoming"}if(se<te){const[ne,Te]=W.scheduledTime.split(":").map(Number),ee=new Date(se);ee.setHours(ne,Te,0,0);const H=new Date(ee.getTime()+W.totalDuration*6e4);return ce>H?"completed":"upcoming"}}return"upcoming"},Y=W=>{switch(W){case"upcoming":return a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"Upcoming"});case"ongoing":return a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Ongoing"});case"completed":return a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-800",children:"Completed"});default:return a.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-800",children:"Unknown"})}};B.useEffect(()=>{e&&(e.role==="teacher"?xe():ge())},[e]),B.useEffect(()=>{e&&e.role==="teacher"&&Ie()},[r,Q,e]);const xe=async()=>{var W;try{if(v(!0),k(""),!localStorage.getItem("token"))throw new Error("No authentication token found. Please log in again.");if(e.role!=="teacher")throw new Error("Access denied. Only teachers can view quizzes.");const se=await rt.getAllQuizzes();console.log("Fetched quizzes:",se.data),setTimeout(()=>{const te=se.data||[];o(te),d(te)},100)}catch(ce){console.error("Failed to load quizzes:",ce),console.error("Error response:",ce.response);let se="Failed to load quizzes. ";ce.response?ce.response.status===401?(se+="Authentication failed. Please log in again.",localStorage.removeItem("token"),localStorage.removeItem("user"),t("/teacher-login")):ce.response.status===403?(se+="Access denied. You may not have permission to view quizzes.",e&&e.role!=="teacher"&&(se+=` Your current role is "${e.role}". Only teachers can access this feature.`)):ce.response.status===500?se+="Server error. Please try again later.":se+=((W=ce.response.data)==null?void 0:W.message)||"Unknown server error.":ce.request?se+="Unable to connect to the server. Please check your connection and try again.":se+=ce.message||"Unknown error occurred.",k(se)}finally{v(!1)}},Ie=()=>{if(!r||r.length===0){d([]);return}if(Q==="all"){d(r);return}const W=r.filter(ce=>J(ce)===Q);d(W)},ge=async()=>{var W;try{if(v(!0),k(""),!localStorage.getItem("token"))throw new Error("No authentication token found. Please log in again.");const te=(await rt.getMyAttempts()).data||[];o(te)}catch(ce){console.error("Failed to load attempts:",ce);let se="Failed to load quiz history. ";ce.response?ce.response.status===401?(se+="Authentication failed. Please log in again.",localStorage.removeItem("token"),localStorage.removeItem("user"),t("/student-login")):ce.response.status===500?se+="Server error. Please try again later.":se+=((W=ce.response.data)==null?void 0:W.message)||"Unknown server error.":ce.request?se+="Unable to connect to the server. Please check your connection and try again.":se+=ce.message||"Unknown error occurred.",k(se)}finally{v(!1)}},ve=async W=>{var ce,se;try{t(`/quiz/${W}`)}catch(te){alert(((se=(ce=te.response)==null?void 0:ce.data)==null?void 0:se.message)||"Failed to join quiz")}},be=W=>{p(W),g(!0)},z=async()=>{if(y)try{console.log("Deleting quiz with ID:",y._id),await rt.deleteQuiz(y._id),alert("Quiz deleted successfully!"),xe()}catch(W){console.error("Error deleting quiz:",W),console.error("Error response:",W.response);let ce="Failed to delete quiz. Please try again.";W.response?W.response.status===404?ce="Quiz not found. It may have already been deleted.":W.response.status===403?ce="You are not authorized to delete this quiz.":W.response.status===400?ce=W.response.data.message||"Invalid quiz ID.":W.response.status===500?ce=W.response.data.message||"Server error. Please try again later.":ce=W.response.data.message||ce:W.request&&(ce="Network error. Please check your connection and try again."),alert(ce)}finally{g(!1),p(null)}},ie=W=>{S(W),R(!0)},Ne=W=>{S(W),T(!0)},ae=async W=>{var ce,se,te,ne;try{console.log("Activating quiz:",W);const Te=await rt.activateQuiz(W);if(console.log("Activation response:",Te),Te.data.message==="early_start_warning"){const ee=new Date(Te.data.scheduledStartTime);if(window.confirm(`This quiz is scheduled to start on ${ee.toLocaleString()}.
Do you want to update the start time to the current date and time?`)){const le=await rt.activateQuizEarly(W);alert(le.data.message),o(pe=>pe.map(X=>X._id===W?{...X,...le.data.quiz}:X))}else{alert("Quiz start cancelled. The quiz will start at the scheduled time.");return}}else alert(Te.data.message),o(ee=>ee.map(H=>H._id===W?{...H,...Te.data.quiz}:H));setTimeout(()=>{Ie()},100)}catch(Te){if(console.error("Error activating quiz:",Te),console.error("Error response:",Te.response),Te.response&&Te.response.data&&Te.response.data.message==="early_start_warning"){const ee=new Date(Te.response.data.scheduledStartTime);if(window.confirm(`This quiz is scheduled to start on ${ee.toLocaleString()}.
Do you want to update the start time to the current date and time?`))try{const le=await rt.activateQuizEarly(W);alert(le.data.message),o(pe=>pe.map(X=>X._id===W?{...X,...le.data.quiz}:X)),setTimeout(()=>{Ie()},100)}catch(le){console.error("Error activating quiz early:",le),alert(((se=(ce=le.response)==null?void 0:ce.data)==null?void 0:se.message)||le.message||"Failed to activate quiz")}else alert("Quiz start cancelled. The quiz will start at the scheduled time.")}else alert(((ne=(te=Te.response)==null?void 0:te.data)==null?void 0:ne.message)||Te.message||"Failed to activate quiz")}},Ce=async W=>{var ce,se,te,ne,Te,ee;try{console.log("Deactivating quiz:",W);const H=await rt.deactivateQuiz(W);if(console.log("Deactivation response:",H),H.data.message==="early_end_warning"){const le=new Date(H.data.scheduledEndTime);if(window.confirm(`This quiz is scheduled to end on ${le.toLocaleString()}.
Do you want to update the end time to the current date and time?`)){const X=await rt.deactivateQuizEarly(W);alert(X.data.message),o(he=>he.map(we=>we._id===W?{...we,...X.data.quiz}:we))}else{const X=await rt.deactivateQuizEarly(W);alert(X.data.message),o(he=>he.map(we=>we._id===W?{...we,...X.data.quiz}:we))}}else alert(H.data.message),o(le=>le.map(pe=>pe._id===W?{...pe,...H.data.quiz}:pe));setTimeout(()=>{Ie()},100)}catch(H){if(console.error("Error deactivating quiz:",H),console.error("Error response:",H.response),H.response&&H.response.data&&H.response.data.message==="early_end_warning"){const le=new Date(H.response.data.scheduledEndTime);if(window.confirm(`This quiz is scheduled to end on ${le.toLocaleString()}.
Do you want to update the end time to the current date and time?`))try{const X=await rt.deactivateQuizEarly(W);alert(X.data.message),o(he=>he.map(we=>we._id===W?{...we,...X.data.quiz}:we)),setTimeout(()=>{Ie()},100)}catch(X){console.error("Error deactivating quiz early:",X),alert(((se=(ce=X.response)==null?void 0:ce.data)==null?void 0:se.message)||X.message||"Failed to deactivate quiz")}else try{const X=await rt.deactivateQuizEarly(W);alert(X.data.message),o(he=>he.map(we=>we._id===W?{...we,...X.data.quiz}:we)),setTimeout(()=>{Ie()},100)}catch(X){console.error("Error deactivating quiz early:",X),alert(((ne=(te=X.response)==null?void 0:te.data)==null?void 0:ne.message)||X.message||"Failed to deactivate quiz")}}else alert(((ee=(Te=H.response)==null?void 0:Te.data)==null?void 0:ee.message)||H.message||"Failed to deactivate quiz")}};return N?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-xl",children:"Loading quizzes..."})}):e?e.role!=="teacher"&&e.role!=="student"?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-xl",children:"Invalid user role. Please contact support."})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:e.role==="teacher"?"My Quizzes":"My Quiz History"}),a.jsx("p",{className:"text-gray-600",children:e.role==="teacher"?"Manage your quizzes or create new ones":"View your past quiz attempts and results"})]})}),e.role==="teacher"&&a.jsxs("div",{className:"flex gap-4 mb-8 flex-wrap",children:[a.jsxs(it,{to:"/question-bank",className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition font-semibold inline-flex items-center shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Question Bank"]}),a.jsxs(it,{to:"/create-quiz",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition font-semibold inline-flex items-center shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Quiz"]})]}),e.role==="teacher"&&a.jsx("div",{className:"flex gap-4 mb-6 flex-wrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-2 text-gray-700 font-medium",children:"Status:"}),a.jsxs("div",{className:"flex rounded-md shadow-sm",children:[a.jsx("button",{onClick:()=>P("all"),className:`px-4 py-2 text-sm font-medium rounded-l-md ${Q==="all"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 focus:outline-none`,children:"All"}),a.jsx("button",{onClick:()=>P("upcoming"),className:`px-4 py-2 text-sm font-medium ${Q==="upcoming"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-gray-300 focus:outline-none`,children:"Upcoming"}),a.jsx("button",{onClick:()=>P("ongoing"),className:`px-4 py-2 text-sm font-medium ${Q==="ongoing"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-gray-300 focus:outline-none`,children:"Ongoing"}),a.jsx("button",{onClick:()=>P("completed"),className:`px-4 py-2 text-sm font-medium rounded-r-md ${Q==="completed"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 focus:outline-none`,children:"Completed"})]})]})}),e.role==="student"&&a.jsx("div",{className:"flex gap-4 mb-8 flex-wrap",children:a.jsxs("button",{onClick:()=>V(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg transition font-semibold inline-flex items-center shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan QR Code"]})}),I&&a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[I,a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsx("p",{children:"If this problem persists:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-1",children:[a.jsx("li",{children:"Check your internet connection"}),a.jsx("li",{children:"Verify the backend server is running"}),a.jsx("li",{children:"Try logging out and logging back in"}),a.jsx("li",{children:"Contact support if the issue continues"})]})]})]}),e.role==="teacher"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:c.map(W=>{var ce;return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col h-full hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-5 border-b border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:W.title}),Y(J(W))]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:W.description||"No description provided"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{className:"font-medium",children:"Scheduled:"}),W.scheduledDate?a.jsxs("span",{className:"ml-1",children:[new Date(W.scheduledDate).toLocaleDateString(),W.scheduledTime&&` at ${W.scheduledTime}`]}):a.jsx("span",{className:"ml-1 text-gray-500",children:"Not scheduled"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{className:"font-medium",children:"Questions:"}),a.jsx("span",{className:"ml-1",children:((ce=W.questions)==null?void 0:ce.length)||0})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"font-medium",children:"Duration:"}),a.jsxs("span",{className:"ml-1",children:[Math.floor(W.totalDuration/60)," minutes"]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),a.jsx("span",{className:"font-medium",children:"Mode:"}),a.jsx("span",{className:"ml-1",children:W.timingMode==="total"?"Total Time":"Per Question"})]})]})]}),a.jsx("div",{className:"p-5 flex-grow flex flex-col justify-end gap-2",children:a.jsxs("div",{className:"quiz-card-buttons flex gap-2",children:[J(W)==="ongoing"?a.jsxs("button",{onClick:()=>Ce(W._id),className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded text-sm font-medium transition flex items-center justify-center",children:[a.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"})]}),"End Quiz"]}):J(W)==="completed"?a.jsxs("button",{onClick:()=>ie(W),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded text-sm font-medium transition flex items-center justify-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"View Analysis"]}):a.jsxs("button",{onClick:()=>ae(W._id),className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded text-sm font-medium transition flex items-center justify-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.01M15 10h1.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Start Quiz"]}),a.jsx("button",{onClick:()=>t(`/edit-quiz/${W._id}`),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm font-medium transition flex items-center justify-center",title:"Edit Quiz",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:()=>Ne(W),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded text-sm font-medium transition flex items-center justify-center",title:"Share Quiz",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z"})})}),a.jsx("button",{onClick:()=>ie(W),className:"p-2 bg-purple-600 hover:bg-purple-700 text-white rounded text-sm font-medium transition flex items-center justify-center",title:"View Analytics",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("button",{onClick:()=>be(W),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded text-sm font-medium transition flex items-center justify-center",title:"Delete Quiz",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},W._id)})}),e.role==="student"&&a.jsx("div",{className:"quiz-card-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((W,ce)=>{const se=W.status==="available",te=W.status==="in-progress",ne=W.status==="completed"||W.status==="auto-submitted";return a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden flex flex-col h-full hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"p-5 border-b border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:W.quiz.title}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${se?"bg-blue-100 text-blue-800":te?"bg-yellow-100 text-yellow-800":ne?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:se?"Available":te?"In Progress":ne?"Completed":"Unknown"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:W.quiz.description||"No description provided"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{className:"font-medium",children:"Scheduled:"}),W.quiz.scheduledDate?a.jsxs("span",{className:"ml-1",children:[new Date(W.quiz.scheduledDate).toLocaleDateString(),W.quiz.scheduledTime&&` at ${W.quiz.scheduledTime}`]}):a.jsx("span",{className:"ml-1 text-gray-500",children:"Not scheduled"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("span",{className:"font-medium",children:"Questions:"}),a.jsx("span",{className:"ml-1",children:W.quiz.questionsCount||"N/A"})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"font-medium",children:"Duration:"}),a.jsxs("span",{className:"ml-1",children:[Math.floor(W.quiz.totalDuration/60)," minutes"]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),a.jsx("span",{className:"font-medium",children:"Mode:"}),a.jsx("span",{className:"ml-1",children:W.quiz.timingMode==="total"?"Total Time":"Per Question"})]}),ne&&W.score!==null&&a.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[a.jsx("svg",{className:"w-4 h-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:"ml-1",children:[W.score,"/",W.totalScore," (",W.percentage,"%)"]})]})]})]}),a.jsx("div",{className:"p-5 flex-grow flex flex-col justify-end",children:a.jsx("button",{onClick:()=>ve(W.quiz._id),className:`w-full ${se?"bg-blue-600 hover:bg-blue-700":te?"bg-yellow-600 hover:bg-yellow-700":ne?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"} text-white px-4 py-2 rounded text-sm font-medium transition`,disabled:ne,children:se?"Start Quiz":te?"Continue Quiz":ne?"View Results":"Access Quiz"})})]},W.attemptId)})}),(e.role==="teacher"?c:r).length===0&&!I&&a.jsxs("div",{className:"text-center py-16 bg-white rounded-lg border border-gray-200",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No quizzes available"}),a.jsx("p",{className:"text-gray-600 mb-6",children:e.role==="teacher"?"Create your first quiz to get started":"No quiz attempts found. Wait for your teacher to assign a quiz."}),e.role==="teacher"&&a.jsxs(it,{to:"/create-quiz",className:"inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg transition font-medium",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Create New Quiz"]})]}),a.jsx(m3,{isOpen:x,onClose:()=>{g(!1),p(null)},onConfirm:z,quizTitle:(y==null?void 0:y.title)||""}),_&&L&&a.jsx(g3,{quiz:L,onClose:()=>R(!1)}),A&&L&&a.jsx(s4,{quiz:L,onClose:()=>T(!1)}),O&&a.jsx(Cm,{onClose:()=>V(!1)})]})}):a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-xl",children:"User not authenticated. Please log in."})})}function k4({user:e}){if(e&&e.role!=="student")return window.location.href="/dashboard",null;const t=St(),[r,o]=B.useState([]),[c,d]=B.useState(!0),[x,g]=B.useState(""),[y,p]=B.useState(!1);B.useEffect(()=>{const v=localStorage.getItem("pendingQuizAccess");if(v)try{const{quizId:I,usn:k,password:_,accessKey:R}=JSON.parse(v);(async()=>{const S=await rt.studentAccess(I,{usn:k,password:_,accessKey:R});console.log("Student access response:",S.data),localStorage.setItem("currentAttemptId",S.data.attemptId),localStorage.removeItem("pendingQuizAccess"),t(`/quiz/${I}?attemptId=${S.data.attemptId}`)})();return}catch(I){console.error("Error accessing pending quiz:",I),localStorage.removeItem("pendingQuizAccess")}N()},[]);const N=async()=>{var v;try{d(!0),g("");const k=(await rt.getMyAttempts()).data||[];o(k)}catch(I){console.error("Failed to load attempts:",I);let k="Failed to load quiz history. ";I.response?I.response.status===401?k+="Authentication failed. Please log in again.":I.response.status===500?k+="Server error. Please try again later.":k+=((v=I.response.data)==null?void 0:v.message)||"Unknown server error.":I.request?k+="Unable to connect to the server. Please check your connection and try again.":k+=I.message||"Unknown error occurred.",g(k)}finally{d(!1)}};return c?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-xl",children:"Loading quiz history..."})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50",children:[a.jsx("style",{children:`
        .truncate-description {
          display: -webkit-box;
          -webkit-line-clamp: 1;
          -webkit-box-orient: vertical;
          overflow: hidden;
          text-overflow: ellipsis;
          word-wrap: break-word;
          word-break: break-word;
          max-width: 200px;
        }
        
        @media (max-width: 768px) {
          .truncate-description {
            max-width: 150px;
          }
        }
        
        /* Ensure table layout is fixed to prevent overflow */
        .quiz-attempts-table {
          table-layout: fixed;
          width: 100%;
        }
        
        /* Set specific column widths to prevent overflow */
        .quiz-attempts-table th:nth-child(1),
        .quiz-attempts-table td:nth-child(1) {
          width: 30%;
        }
        
        .quiz-attempts-table th:nth-child(2),
        .quiz-attempts-table td:nth-child(2) {
          width: 15%;
        }
        
        .quiz-attempts-table th:nth-child(3),
        .quiz-attempts-table td:nth-child(3) {
          width: 15%;
        }
        
        .quiz-attempts-table th:nth-child(4),
        .quiz-attempts-table td:nth-child(4) {
          width: 15%;
        }
        
        .quiz-attempts-table th:nth-child(5),
        .quiz-attempts-table td:nth-child(5) {
          width: 25%;
        }
        
        @media (max-width: 768px) {
          .quiz-attempts-table th:nth-child(1),
          .quiz-attempts-table td:nth-child(1) {
            width: 40%;
          }
          
          .quiz-attempts-table th:nth-child(5),
          .quiz-attempts-table td:nth-child(5) {
            width: 20%;
          }
        }
      `}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"My Quiz History"}),a.jsx("p",{className:"text-gray-600",children:"View your past quiz attempts and results"})]}),e&&a.jsxs("div",{className:"text-right bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Student"}),a.jsx("p",{className:"text-lg font-semibold text-gray-800",children:e.name})]})]})}),a.jsx("div",{className:"flex gap-4 mb-8 flex-wrap",children:a.jsxs("button",{onClick:()=>p(!0),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg transition font-semibold inline-flex items-center shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan QR Code to Join Quiz"]})}),x&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:x}),r.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-blue-100 rounded-full p-3 mr-4",children:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 11-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Total Attempts"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r.length})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-green-100 rounded-full p-3 mr-4",children:a.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:r.filter(v=>v.status==="completed").length})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-yellow-100 rounded-full p-3 mr-4",children:a.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Avg. Score"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[r.length>0?Math.round(r.reduce((v,I)=>v+(I.percentage||0),0)/r.length):0,"%"]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"bg-purple-100 rounded-full p-3 mr-4",children:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-600 text-sm",children:"Best Score"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-800",children:[r.length>0?Math.max(...r.map(v=>v.percentage||0)):0,"%"]})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Quiz Attempts"})}),r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsx("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No quiz attempts yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Scan a QR code to join a quiz and get started!"}),a.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-lg transition font-medium",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})}),"Scan QR Code"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full quiz-attempts-table",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quiz"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(v=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.quiz.title}),a.jsx("div",{className:"text-sm text-gray-500 truncate-description",children:v.quiz.description||"No description"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:v.submittedAt?new Date(v.submittedAt).toLocaleDateString():"Not completed"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.score!==null?a.jsxs("div",{className:"text-sm text-gray-900",children:[a.jsx("span",{className:"font-medium",children:v.score}),a.jsxs("span",{className:"text-gray-500",children:["/",v.totalScore]}),a.jsxs("span",{className:"ml-2 font-semibold",children:["(",v.percentage,"%)"]})]}):a.jsx("div",{className:"text-sm text-gray-500",children:"Not scored"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${v.status==="completed"?"bg-green-100 text-green-800":v.status==="in-progress"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:v.status==="completed"?"Completed":v.status==="in-progress"?"In Progress":"Available"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:v.status==="completed"?a.jsx("button",{onClick:()=>t(`/result/${v.attemptId}`),className:"text-blue-600 hover:text-blue-900",children:"View Results"}):v.status==="in-progress"?a.jsx("button",{onClick:()=>t(`/quiz/${v.quiz._id}?attemptId=${v.attemptId}`),className:"text-green-600 hover:text-green-900",children:"Continue"}):a.jsx("button",{onClick:()=>t(`/quiz/${v.quiz._id}`),className:"text-blue-600 hover:text-blue-900",children:"Start Quiz"})})]},v.attemptId))})]})})]}),a.jsx(Cm,{isOpen:y,onClose:()=>p(!1)})]})]})}function R4({user:e}){const t=St(),[r,o]=B.useState([]),[c,d]=B.useState([]),[x,g]=B.useState(!0),[y,p]=B.useState(""),[N,v]=B.useState(""),[I,k]=B.useState(!1),[_,R]=B.useState(null),[L,S]=B.useState(null),[A,T]=B.useState("teachers"),[O,V]=B.useState({name:"",email:"",password:"",usn:"",branch:""});B.useEffect(()=>{if((e==null?void 0:e.role)!=="admin"){t("/");return}Q(),P()},[e,t]);const Q=async()=>{try{g(!0);const ie=await Rr.getAllTeachers();o(ie.data),p("")}catch(ie){console.error("Error fetching teachers:",ie),p("Failed to load teachers")}finally{g(!1)}},P=async()=>{try{const ie=await Rr.getAllStudents();d(ie.data),p("")}catch(ie){console.error("Error fetching students:",ie),p("Failed to load students")}},J=()=>{V({name:"",email:"",password:"",usn:"",branch:""}),R(null),S(null),k(!1)},Y=async ie=>{var Ne,ae;ie.preventDefault(),p(""),v("");try{A==="teachers"?_?(await Rr.updateTeacher(_._id,O),v("Teacher updated successfully!")):(await Rr.createTeacher(O),v("Teacher created successfully!")):L?(await Rr.updateStudent(L._id,O),v("Student updated successfully!")):(await Rr.createStudent(O),v("Student created successfully!")),J(),Q(),P(),setTimeout(()=>v(""),3e3)}catch(Ce){console.error("Error saving:",Ce),p(((ae=(Ne=Ce.response)==null?void 0:Ne.data)==null?void 0:ae.message)||`Failed to save ${A==="teachers"?"teacher":"student"}`)}},xe=ie=>{V({name:ie.name,email:ie.email,password:""}),R(ie),S(null),k(!0),T("teachers")},Ie=ie=>{V({name:ie.name,usn:ie.usn,branch:ie.branch,password:""}),S(ie),R(null),k(!0),T("students")},ge=async ie=>{if(confirm("Are you sure you want to delete this teacher account?"))try{await Rr.deleteTeacher(ie),v("Teacher deleted successfully!"),Q(),setTimeout(()=>v(""),3e3)}catch(Ne){console.error("Error deleting teacher:",Ne),p("Failed to delete teacher")}},ve=async ie=>{if(confirm("Are you sure you want to delete this student account?"))try{await Rr.deleteStudent(ie),v("Student deleted successfully!"),P(),setTimeout(()=>v(""),3e3)}catch(Ne){console.error("Error deleting student:",Ne),p("Failed to delete student")}},be=()=>{J(),T("teachers"),k(!0)},z=()=>{J(),T("students"),k(!0)};return x?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-xl",children:"Loading..."})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-orange-50 to-yellow-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600",children:"Manage teacher and student accounts"})]}),a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg font-medium",children:[a.jsx("svg",{className:"w-5 h-5 inline mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})}),"Admin: ",e==null?void 0:e.name]})})]})}),a.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[a.jsx("button",{onClick:()=>T("teachers"),className:`px-4 py-2 font-medium text-sm ${A==="teachers"?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700"}`,children:"Teachers"}),a.jsx("button",{onClick:()=>T("students"),className:`px-4 py-2 font-medium text-sm ${A==="students"?"border-b-2 border-red-500 text-red-600":"text-gray-500 hover:text-gray-700"}`,children:"Students"})]}),a.jsxs("div",{className:"flex gap-4 mb-6",children:[A==="teachers"?a.jsxs("button",{onClick:be,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg transition font-semibold inline-flex items-center shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Teacher"]}):a.jsxs("button",{onClick:z,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg transition font-semibold inline-flex items-center shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Student"]}),I&&a.jsx("button",{onClick:J,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-lg transition font-semibold inline-flex items-center shadow-sm",children:"Cancel"})]}),y&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:y}),N&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:N}),I&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:_?"Edit Teacher":L?"Edit Student":`Add New ${A==="teachers"?"Teacher":"Student"}`}),a.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),a.jsx("input",{type:"text",value:O.name,onChange:ie=>V({...O,name:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Full name",required:!0})]}),A==="students"||L?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"USN *"}),a.jsx("input",{type:"text",value:O.usn,onChange:ie=>V({...O,usn:ie.target.value.toUpperCase()}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"e.g., 4HG23CS043",required:A==="students"||L,pattern:"4HG\\d{2}(CS|EC|EE|ME|CV)\\d{3}"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 4HG[Year][Branch][Serial] (e.g., 4HG23CS043)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch *"}),a.jsxs("select",{value:O.branch,onChange:ie=>V({...O,branch:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",required:A==="students"||L,children:[a.jsx("option",{value:"",children:"Select Branch"}),a.jsx("option",{value:"CSE",children:"CSE"}),a.jsx("option",{value:"ECE",children:"ECE"}),a.jsx("option",{value:"EEE",children:"EEE"}),a.jsx("option",{value:"ME",children:"ME"}),a.jsx("option",{value:"CV",children:"CV"})]})]})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),a.jsx("input",{type:"email",value:O.email,onChange:ie=>V({...O,email:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"teacher@example.com",required:A==="teachers"||_})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Password ",_||L?"(leave blank to keep unchanged)":"*"]}),a.jsx("input",{type:"password",value:O.password,onChange:ie=>V({...O,password:ie.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Minimum 8 characters",required:!_&&!L,minLength:"8"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg transition font-semibold",children:_?"Update Teacher":L?"Update Student":`Create ${A==="teachers"?"Teacher":"Student"}`}),a.jsx("button",{type:"button",onClick:J,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-2 rounded-lg transition font-semibold",children:"Cancel"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:a.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:[A==="teachers"?"Teacher Accounts":"Student Accounts"," (",A==="teachers"?r.length:c.length,")"]})}),A==="teachers"?r.length===0?a.jsx("div",{className:"p-12 text-center text-gray-600",children:"No teachers found. Create your first teacher account!"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(ie=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:ie.email})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:new Date(ie.createdAt).toLocaleDateString()})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>xe(ie),className:"text-blue-600 hover:text-blue-800 mr-4",children:"Edit"}),a.jsx("button",{onClick:()=>ge(ie._id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},ie._id))})]})}):c.length===0?a.jsx("div",{className:"p-12 text-center text-gray-600",children:"No students found. Create your first student account!"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"USN"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(ie=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:ie.usn})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:ie.branch})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:ie.email})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:new Date(ie.createdAt).toLocaleDateString()})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>Ie(ie),className:"text-blue-600 hover:text-blue-800 mr-4",children:"Edit"}),a.jsx("button",{onClick:()=>ve(ie._id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]},ie._id))})]})})]})]})})}const _4=({totalQuestions:e,currentQuestionIndex:t,onQuestionSelect:r,answers:o,visited:c,questions:d})=>{const x=Array.from({length:e},(y,p)=>p),g=y=>{var p;if(y===t)return"current";if(d&&o){const N=(p=d[y])==null?void 0:p._id;if(N&&o[N]!==void 0&&o[N]!==null&&o[N].length>0)return"answered"}return c&&c.has(y)?"visited":"not-visited"};return a.jsxs("div",{className:"question-navigator bg-white rounded-xl shadow-lg p-5 border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Question Navigator"]}),a.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-5 gap-3",children:x.map(y=>a.jsx("button",{onClick:()=>r(y),className:`
              w-12 h-12 rounded-lg flex items-center justify-center text-sm font-bold transition-all duration-200 transform hover:scale-105 shadow-sm
              ${g(y)==="current"?"bg-blue-600 text-white border-2 border-blue-800 shadow-blue-200":g(y)==="answered"?"bg-green-500 text-white shadow-green-100":g(y)==="visited"?"bg-orange-400 text-white shadow-orange-100":"bg-gray-200 text-gray-700 shadow-gray-100"}
              hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
            `,children:y+1},y))}),a.jsxs("div",{className:"mt-5 pt-4 border-t border-gray-100",children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Legend"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 rounded-sm bg-blue-600 mr-2"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Current"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 rounded-sm bg-green-500 mr-2"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Answered"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 rounded-sm bg-orange-400 mr-2"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Visited"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-4 h-4 rounded-sm bg-gray-200 mr-2"}),a.jsx("span",{className:"text-xs text-gray-600",children:"Not Visited"})]})]})]})]})};function O4({user:e}){const{quizId:t}=gi(),[r]=Bd(),o=St(),[c,d]=B.useState(null),[x,g]=B.useState(null),[y,p]=B.useState(0),[N,v]=B.useState({}),[I,k]=B.useState(null),[_,R]=B.useState(!0),[L,S]=B.useState(""),[A,T]=B.useState(0),[O,V]=B.useState(null),[Q,P]=B.useState(null),[J,Y]=B.useState({}),[xe,Ie]=B.useState(!1),[ge,ve]=B.useState(""),[be,z]=B.useState(new Set([0]));B.useEffect(()=>{const ee=()=>{document.visibilityState==="hidden"&&T(H=>H+1)};return document.addEventListener("visibilitychange",ee),()=>{document.removeEventListener("visibilitychange",ee)}},[]),B.useEffect(()=>{ie()},[t]),B.useEffect(()=>{if(c&&O&&c.timingMode==="total"){const ee=setInterval(()=>{k(H=>H<=1?(clearInterval(ee),ce(),0):H-1)},1e3);return()=>clearInterval(ee)}},[c,O]),B.useEffect(()=>{if(c&&c.timingMode==="per-question"&&y<c.questions.length){const ee=c.totalDuration;k(ee),P(Date.now());const H=setInterval(()=>{k(le=>le<=1?(clearInterval(H),y===c.questions.length-1?ce():Ce(!0),0):le-1)},1e3);return()=>clearInterval(H)}},[c,y]);const ie=async()=>{try{R(!0);const ee=r.get("attemptId"),H=localStorage.getItem("currentAttemptId"),le=ee||H;if(console.log("Fetching quiz with attempt ID:",{urlAttemptId:ee,storedAttemptId:H,finalAttemptId:le}),le){const pe=await rt.getQuizForAttempt(le);console.log("Quiz for attempt response:",pe.data),d(pe.data.quiz),g(le),pe.data.quiz.timingMode,k(pe.data.quiz.totalDuration),V(Date.now()),P(Date.now())}else if(e&&e.role==="student"){const pe=await rt.joinQuiz(t);console.log("Join quiz response:",pe.data),d(pe.data.quiz),g(pe.data.attemptId),pe.data.quiz.timingMode,k(pe.data.quiz.totalDuration),V(Date.now()),P(Date.now())}else if(e&&e.role==="teacher"){const pe=await rt.getQuiz(t);console.log("Teacher access response:",pe.data),d(pe.data),g("teacher-preview"),pe.data.timingMode,k(pe.data.totalDuration),V(Date.now()),P(Date.now())}else{console.log("No attempt ID found, redirecting to student access"),o(`/student-access/${t}`);return}}catch(ee){console.error("Error loading quiz:",ee),ee.response?ee.response.status===403?S("Unauthorized access. Please check your credentials and try again."):ee.response.status===404?S("Quiz or attempt not found. Please contact your teacher."):S(ee.response.data.message||"Failed to load quiz. Please try again."):ee.request?S("Unable to connect to the server. Please check your connection and try again."):S("An unexpected error occurred. Please try again.")}finally{R(!1)}},Ne=(ee,H,le=!1)=>{v(pe=>{if(le){const X=pe[ee]||[],he=X.includes(H)?X.filter(we=>we!==H):[...X,H];return{...pe,[ee]:he}}else return{...pe,[ee]:[H]}})},ae=ee=>{if(!xe){if(c.timingMode==="per-question"){S("Cannot navigate to other questions in fixed-time mode");return}if(Q){const H=Math.floor((Date.now()-Q)/1e3);Y(le=>({...le,[y]:H}))}z(H=>new Set(H).add(ee)),p(ee),P(Date.now())}},Ce=(ee=!1)=>{if(!xe){if(Q){const H=Math.floor((Date.now()-Q)/1e3);Y(le=>({...le,[y]:H}))}y<c.questions.length-1&&(z(H=>new Set(H).add(y+1)),p(H=>H+1),P(Date.now()))}},W=()=>{if(!xe){if(c.timingMode==="per-question"){S("Cannot navigate to previous questions in fixed-time mode");return}if(Q){const ee=Math.floor((Date.now()-Q)/1e3);Y(H=>({...H,[y]:ee}))}y>0&&(p(ee=>ee-1),P(Date.now()))}},ce=ee=>{ve("Time's up! Auto-submitting your quiz..."),setTimeout(()=>{se(!0)},500)},se=async(ee=!1)=>{if(e&&e.role==="teacher"){S("Teachers cannot submit quizzes. This is a preview mode only.");return}if(!xe){Ie(!0);try{if(Q){const pe=Math.floor((Date.now()-Q)/1e3);Y(X=>({...X,[y]:pe}))}const H=Object.entries(N).map(([pe,X])=>{const he=c.questions.findIndex(we=>we._id===pe);return{questionId:pe,selectedOptions:X,timeSpent:J[he]||0}});console.log("Submitting quiz with data:",{attemptId:x,quizId:c.id||c._id,answers:H,tabSwitches:A});const le=await rt.submitQuiz({attemptId:x,quizId:c.id||c._id,answers:H,tabSwitches:A});console.log("Quiz submission response:",le.data),localStorage.removeItem("currentAttemptId"),localStorage.removeItem("guestStudent"),o(`/result/${x}`,{state:{resultData:le.data.result,quizTitle:c.title}})}catch(H){console.error("Error submitting quiz:",H),H.response?H.response.status===403?S("Unauthorized access. Please check your credentials and try again."):H.response.status===404?S("Quiz or attempt not found. Please contact your teacher."):H.response.status===400?S("Quiz already submitted or invalid data. Please contact your teacher."):S(H.response.data.message||"Failed to submit quiz. Please try again."):H.request?S("Unable to connect to the server. Please check your connection and try again."):S("An unexpected error occurred. Please try again."),Ie(!1)}}},te=ee=>{const H=Math.floor(ee/60),le=ee%60;return`${H.toString().padStart(2,"0")}:${le.toString().padStart(2,"0")}`};if(_)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading quiz..."})]})});if(L&&!c)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full mx-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:a.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Error"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:L}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>o("/dashboard"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none",children:"Back to Dashboard"})})]})})});if(!c)return null;const ne=c.questions[y],Te=(y+1)/c.questions.length*100;return a.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[e&&e.role==="student"&&a.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"flex-shrink-0",children:a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"QuizQuest"})})}),a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"ml-3 relative",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-sm text-right",children:[a.jsx("div",{className:"font-medium text-gray-700",children:e.name}),a.jsx("div",{className:"text-xs text-gray-500",children:"Student"})]}),a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm",children:e.name.charAt(0).toUpperCase()})]})})})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[ge&&a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-yellow-700",children:ge})})]})}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"lg:w-3/4",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:c.title}),a.jsx("p",{className:"text-gray-600 mt-1",children:c.description}),a.jsx("div",{className:"mt-2 inline-block",children:a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-semibold",children:c.timingMode==="total"?"Free Navigation Mode":"Fixed Time per Question"})})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex items-center space-x-6",children:[a.jsxs("div",{className:`${I<60&&c.timingMode==="total"?"bg-red-50":"bg-blue-50"} rounded-lg px-4 py-2`,children:[a.jsx("div",{className:`text-sm font-medium ${I<60?"text-red-800":"text-blue-800"}`,children:c.timingMode==="total"?"Total Time":"Question Time"}),a.jsx("div",{className:`text-xl font-bold ${I<60?"text-red-600":"text-blue-600"}`,children:te(I)})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg px-4 py-2",children:[a.jsx("div",{className:"text-sm text-gray-800 font-medium",children:"Question"}),a.jsxs("div",{className:"text-xl font-bold text-gray-900",children:[y+1," / ",c.questions.length]})]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:a.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${Te}%`}})})})]}),L&&a.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded mb-6",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-yellow-700",children:L})})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsxs("div",{className:"flex items-start mb-6",children:[a.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx("span",{className:"text-blue-800 font-bold",children:y+1})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:ne.questionType==="text"?ne.question:`${ne.questionType.charAt(0).toUpperCase()+ne.questionType.slice(1)} Question`}),a.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500",children:[a.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded",children:[ne.points," Marks"]}),a.jsx("span",{className:"mx-2",children:""}),a.jsx("span",{children:ne.type==="single"?"Single Choice":"Multiple Choice"})]})]})]}),ne.questionType==="image"&&ne.mediaUrl&&a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:ne.mediaUrl,alt:"Question",className:"max-w-full h-auto rounded-lg border border-gray-200"})}),ne.questionType==="audio"&&ne.mediaUrl&&a.jsx("div",{className:"mb-6",children:a.jsx("audio",{controls:!0,src:ne.mediaUrl,className:"w-full"})}),ne.questionType==="text"&&ne.question&&a.jsx("div",{className:"mb-6 text-gray-800",children:ne.question}),a.jsx("div",{className:"space-y-3",children:ne.options.map((ee,H)=>{const le=N[ne._id]?N[ne._id].includes(ee.text):!1;return a.jsx("div",{onClick:()=>Ne(ne._id,ee.text,ne.type==="multiple"),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${le?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:a.jsxs("div",{className:"flex items-center",children:[ne.type==="multiple"?a.jsx("div",{className:`flex-shrink-0 h-5 w-5 rounded border flex items-center justify-center ${le?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:le&&a.jsx("svg",{className:"h-3 w-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}):a.jsx("div",{className:`flex-shrink-0 h-5 w-5 rounded-full border flex items-center justify-center ${le?"border-blue-500 bg-blue-500":"border-gray-300"}`,children:le&&a.jsx("svg",{className:"h-3 w-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsx("span",{className:"ml-3 text-gray-800",children:ee.text})]})},H)})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-4",children:[a.jsx("div",{children:c.timingMode==="total"?a.jsx("button",{onClick:W,disabled:y===0||xe,className:`px-6 py-3 rounded-lg font-medium ${y===0||xe?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Previous"}):a.jsx("div",{className:"text-sm text-gray-500 py-3",children:"Cannot navigate back in fixed-time mode"})}),a.jsx("div",{className:"flex gap-4",children:y<c.questions.length-1?a.jsx("button",{onClick:()=>Ce(!1),disabled:xe,className:`px-6 py-3 rounded-lg font-medium flex-1 sm:flex-none ${xe?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c.timingMode==="per-question"?"Next Question":"Next"}):a.jsx("button",{onClick:()=>se(!1),disabled:xe,className:`px-6 py-3 rounded-lg font-medium flex-1 sm:flex-none flex items-center justify-center ${xe?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:xe?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):"Submit Quiz"})})]}),A>0&&a.jsx("div",{className:"mt-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("div",{className:"ml-3",children:a.jsxs("p",{className:"text-sm text-yellow-700",children:[a.jsx("span",{className:"font-medium",children:"Warning:"})," You have switched tabs ",A," time(s). Please focus on the quiz to maintain integrity."]})})]})})]}),a.jsx("div",{className:"lg:w-1/4",children:a.jsx(_4,{totalQuestions:c.questions.length,currentQuestionIndex:y,onQuestionSelect:ae,answers:N,visited:be,questions:c.questions})})]})]})]})}function M4({user:e}){const{attemptId:t}=gi(),r=St(),o=Nr(),[c,d]=B.useState(null),[x,g]=B.useState(!0),[y,p]=B.useState("");B.useEffect(()=>{if(o.state&&o.state.resultData){console.log("Using result data from location state:",o.state.resultData);const L={...o.state.resultData,quiz:{title:o.state.quizTitle||"Quiz"}};d(L),g(!1)}else N()},[t,o.state]);const N=async()=>{var L,S;try{if(console.log("Loading result for attempt ID:",t),!t)throw new Error("No attempt ID provided");const A=await rt.getResult(t);if(console.log("Result data received:",A.data),!A.data)throw new Error("No result data received from server");d(A.data),p("")}catch(A){console.error("Failed to load result:",A);const T=((S=(L=A.response)==null?void 0:L.data)==null?void 0:S.message)||A.message||"Failed to load result";p(T),alert(`Failed to load result: ${T}`),setTimeout(()=>{r("/dashboard")},2e3)}finally{g(!1)}};if(x)return a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-xl",children:"Loading result..."})});if(y)return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Result"}),a.jsx("p",{className:"text-gray-700 mb-6",children:y}),a.jsx("button",{onClick:()=>r("/dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg transition font-semibold",children:"Back to Dashboard"})]})});if(!c)return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"No Result Data"}),a.jsx("p",{className:"text-gray-700 mb-6",children:"No result data available for this attempt."}),a.jsx("button",{onClick:()=>r("/dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg transition font-semibold",children:"Back to Dashboard"})]})});const v=c.percentage,I=v>=40,k=()=>v>=80?"text-green-600":v>=60?"text-yellow-600":"text-red-600",_=()=>I?"text-green-600":"text-red-600",R=()=>I?"PASS":"FAIL";return a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quiz Results"}),a.jsx("h2",{className:"text-xl text-gray-600 mb-6",children:c.quiz.title}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg p-6 mb-6 text-white",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsxs("div",{className:`text-6xl font-bold ${k()}`,children:[v,"%"]})}),a.jsx("div",{className:"text-center text-xl",children:a.jsxs("p",{children:["Your Score: ",c.score," / ",c.totalScore]})}),a.jsx("div",{className:`text-center text-2xl font-bold mt-4 ${_()}`,children:R()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[a.jsx("p",{className:"text-blue-600 font-semibold",children:"Total Questions"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.totalQuestions})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[a.jsx("p",{className:"text-green-600 font-semibold",children:"Correct Answers"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.correctAnswers})]}),a.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[a.jsx("p",{className:"text-red-600 font-semibold",children:"Wrong Answers"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.wrongAnswers})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[a.jsx("p",{className:"text-purple-600 font-semibold",children:"Total Marks"}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:c.totalScore})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-600",children:"Time Spent"}),a.jsxs("p",{className:"text-xl font-semibold",children:[Math.floor(c.timeSpent/60)," minutes"]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-gray-600",children:"Submitted At"}),a.jsx("p",{className:"text-xl font-semibold",children:new Date(c.submittedAt).toLocaleString()})]})]}),e&&e.role==="teacher"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mt-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Question Details"}),a.jsx("div",{className:"space-y-6",children:c.answers.map((L,S)=>a.jsxs("div",{className:`p-6 rounded-lg border-2 ${L.isCorrect?"border-green-500 bg-green-50":"border-red-500 bg-red-50"}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["Question ",S+1]}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${L.isCorrect?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:L.isCorrect?" Correct":" Incorrect"})]}),a.jsx("p",{className:"text-gray-700 mb-3",children:L.question}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-600 mb-2",children:"Your Answer:"}),L.selectedOptions.length>0?a.jsx("ul",{className:"list-disc list-inside text-gray-700",children:L.selectedOptions.map((A,T)=>a.jsx("li",{children:A},T))}):a.jsx("p",{className:"text-gray-500",children:"No answer selected"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-600 mb-2",children:"Correct Answer:"}),a.jsx("ul",{className:"list-disc list-inside text-gray-700",children:L.correctOptions.map((A,T)=>a.jsx("li",{children:A},T))})]})]}),a.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-600",children:["Time Spent: ",L.timeSpent," seconds"]}),a.jsxs("span",{className:"font-semibold",children:["Points: ",L.pointsEarned," / ",L.points]})]})]},S))})]}),a.jsx("div",{className:"mt-8 flex justify-center",children:a.jsx("button",{onClick:()=>r("/dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg transition font-semibold",children:"Back to Dashboard"})})]})})}function D4({user:e}){const t=St(),[r,o]=B.useState(""),[c,d]=B.useState(""),[x,g]=B.useState("total"),[y,p]=B.useState(10),[N,v]=B.useState(""),[I,k]=B.useState(""),[_,R]=B.useState("scheduled"),[L,S]=B.useState([{id:`question-${Date.now()}-${Math.random()}`,question:"",type:"single",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}],points:1,imageUrl:""}]),[A,T]=B.useState(!1),[O,V]=B.useState(""),[Q,P]=B.useState(""),[J,Y]=B.useState(!1),[xe,Ie]=B.useState([]),[ge,ve]=B.useState(""),[be,z]=B.useState(10);B.useEffect(()=>{const H=new Date;H.setDate(H.getDate()+1);const le=H.toISOString().split("T")[0];v(le),k("10:00"),ie()},[]);const ie=async()=>{try{const le=(await hr.getAllSubjects()).data.map(pe=>pe.subject);Ie(le)}catch(H){console.error("Error fetching subjects:",H)}},Ne=async()=>{var H,le,pe;if(!ge){V("Please select a subject");return}if(be<1){V("Please select at least 1 question");return}try{console.log("Loading questions from bank for subject:",ge,"count:",be);const X=await hr.getRandomQuestions(ge,be);console.log("Response from backend:",X);const he=X.data;if(he.length===0){V(`No questions found for subject: ${ge}`);return}console.log("Bank questions received:",he);const we=he.map(me=>({id:me._id||`question-${Date.now()}-${Math.random()}`,question:me.question,type:me.type,options:me.options,points:me.points,imageUrl:me.imageUrl||""}));console.log("Formatted questions:",we),S(we),P(`Loaded ${we.length} questions from ${ge}`),setTimeout(()=>P(""),3e3)}catch(X){console.error("Error loading questions from bank:",X),console.error("Error details:",(H=X.response)==null?void 0:H.data),V("Failed to load questions from bank: "+(((pe=(le=X.response)==null?void 0:le.data)==null?void 0:pe.message)||X.message))}},ae=()=>{const H={id:`question-${Date.now()}-${Math.random()}`,question:"",questionType:"text",mediaUrl:"",type:"single",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}],points:1};S([...L,H])},Ce=H=>{L.length>1?S(L.filter(le=>le.id!==H)):V("At least one question is required")},W=(H,le,pe)=>{S(L.map(X=>X.id===H?{...X,[le]:pe}:X))},ce=H=>{S(L.map(le=>le.id===H?{...le,options:[...le.options,{text:"",isCorrect:!1}]}:le))},se=(H,le)=>{S(L.map(pe=>pe.id===H?pe.options.length<=2?(V("At least 2 options are required"),pe):{...pe,options:pe.options.filter((X,he)=>he!==le)}:pe))},te=(H,le,pe,X)=>{S(L.map(he=>he.id===H?{...he,options:he.options.map((we,me)=>me===le?{...we,[pe]:X}:we)}:he))},ne=(H,le,pe)=>{if(le){const X=new FileReader;X.onload=he=>{W(H,"mediaUrl",he.target.result),P(`${pe.charAt(0).toUpperCase()+pe.slice(1)} uploaded successfully!`),setTimeout(()=>P(""),3e3)},X.readAsDataURL(le)}},Te=async H=>{var le,pe;if(H.preventDefault(),V(""),P(""),T(!0),!r.trim()){V("Please enter a quiz title"),T(!1);return}if(_==="scheduled"){if(!N){V("Please select a scheduled date for the quiz"),T(!1);return}if(!I){V("Please select a scheduled time for the quiz"),T(!1);return}}for(let X=0;X<L.length;X++){const he=L[X];if(he.questionType==="text"&&!he.question.trim()){V(`Question ${X+1}: Please enter the question text`),T(!1);return}if((he.questionType==="image"||he.questionType==="audio")&&!he.mediaUrl){V(`Question ${X+1}: Please upload ${he.questionType} file`),T(!1);return}if(he.options.length<2){V(`Question ${X+1}: Please add at least 2 options`),T(!1);return}for(let we=0;we<he.options.length;we++)if(!he.options[we].text.trim()){V(`Question ${X+1}, Option ${we+1}: Please enter option text`),T(!1);return}if(!he.options.some(we=>we.isCorrect)){V(`Question ${X+1}: Please mark at least one option as correct`),T(!1);return}}try{const X=x==="total"?y*60:y,he={title:r,description:c,questions:L.map(me=>({question:me.question,questionType:me.questionType,mediaUrl:me.mediaUrl,type:me.type,options:me.options,points:me.points,timeLimit:x==="per-question"?y:null})),timingMode:x,totalDuration:X,scheduledDate:_==="scheduled"&&N||null,scheduledTime:_==="scheduled"&&I||null,isActive:!1},we=await rt.createQuiz(he);P("Quiz created successfully!"),setTimeout(()=>{t("/dashboard")},1500)}catch(X){V(((pe=(le=X.response)==null?void 0:le.data)==null?void 0:pe.message)||"Failed to create quiz. Please try again.")}finally{T(!1)}},ee=()=>L.reduce((H,le)=>H+le.points,0);return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Create New Quiz"}),a.jsx("p",{className:"text-gray-600",children:"Design your quiz with customizable questions and timing"})]})}),a.jsxs("form",{onSubmit:Te,className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[Q&&a.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-4",children:Q}),O&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:O}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Quiz Information"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quiz Title *"}),a.jsx("input",{type:"text",value:r,onChange:H=>o(H.target.value),placeholder:"Enter a descriptive quiz title",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Give your quiz a clear and descriptive title"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:c,onChange:H=>d(H.target.value),placeholder:"Enter quiz description (optional)",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Provide details about what this quiz covers"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activation Mode"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"activationMode",value:"scheduled",checked:_==="scheduled",onChange:H=>R(H.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2",children:"Scheduled Activation"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",name:"activationMode",value:"manual",checked:_==="manual",onChange:H=>R(H.target.value),className:"text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2",children:"Manual Activation"})]})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:_==="scheduled"?"Quiz will automatically activate at the scheduled date and time":"Quiz will remain inactive until you manually activate it"})]}),_==="scheduled"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Date *"}),a.jsx("input",{type:"date",value:N,onChange:H=>v(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select the date when the quiz will be conducted"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Time *"}),a.jsx("input",{type:"time",value:I,onChange:H=>k(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",required:!0}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select the time when the quiz will be conducted"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"Quiz Timing"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timing Mode"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"timingMode",value:"total",checked:x==="total",onChange:H=>g(H.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-gray-700",children:"Total Time for Quiz"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"timingMode",value:"per-question",checked:x==="per-question",onChange:H=>g(H.target.value),className:"h-4 w-4 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-gray-700",children:"Time Per Question"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:x==="total"?"Total Duration (minutes)":"Time Per Question (seconds)"}),a.jsx("input",{type:"number",min:"1",value:y,onChange:H=>p(Number(H.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:x==="total"?"Total time allowed for the entire quiz":"Time allowed for each individual question"})]})]})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Question Bank"}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"useQuestionBank",checked:J,onChange:H=>Y(H.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"useQuestionBank",className:"ml-2 block text-sm text-gray-700",children:"Load questions from question bank"})]})}),J&&a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),a.jsxs("select",{value:ge,onChange:H=>ve(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select a subject"}),xe.map(H=>a.jsx("option",{value:H,children:H},H))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Questions"}),a.jsx("input",{type:"number",min:"1",max:"50",value:be,onChange:H=>z(Number(H.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:Ne,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Load Questions"})})]})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Questions (",L.length,")"]}),a.jsxs("button",{type:"button",onClick:ae,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[a.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Question"]})]}),a.jsx("div",{className:"space-y-6",children:L.map((H,le)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-white shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-800",children:["Question ",le+1]}),L.length>1&&a.jsx("button",{type:"button",onClick:()=>Ce(H.id),className:"text-red-600 hover:text-red-800",children:a.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:H.questionType||"text",onChange:pe=>W(H.id,"questionType",pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"text",children:"Text Question"}),a.jsx("option",{value:"image",children:"Image Question"}),a.jsx("option",{value:"audio",children:"Audio Question"})]})]}),H.questionType==="text"?a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:H.question,onChange:pe=>W(H.id,"question",pe.target.value),placeholder:"Enter your question",rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",required:!0})]}):H.questionType==="image"?a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image Upload"}),H.mediaUrl?a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("img",{src:H.mediaUrl,alt:"Question",className:"max-w-full h-auto rounded-lg border border-gray-200 mb-2"}),a.jsx("button",{type:"button",onClick:()=>W(H.id,"mediaUrl",""),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove Image"})]}):a.jsx("input",{type:"file",accept:"image/*",onChange:pe=>ne(H.id,pe.target.files[0],"image"),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}):a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Audio Upload"}),H.mediaUrl?a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("audio",{controls:!0,src:H.mediaUrl,className:"mb-2 w-full"}),a.jsx("button",{type:"button",onClick:()=>W(H.id,"mediaUrl",""),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove Audio"})]}):a.jsx("input",{type:"file",accept:"audio/*",onChange:pe=>ne(H.id,pe.target.files[0],"audio"),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Answer Type"}),a.jsxs("select",{value:H.type,onChange:pe=>W(H.id,"type",pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single",children:"Single Choice"}),a.jsx("option",{value:"multiple",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),a.jsx("input",{type:"number",min:"1",value:H.points,onChange:pe=>W(H.id,"points",Number(pe.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),a.jsx("div",{className:"space-y-3",children:H.options.map((pe,X)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5 mt-1",children:a.jsx("input",{type:H.type==="single"?"radio":"checkbox",name:`question-${H.id}-correct`,checked:pe.isCorrect,onChange:he=>te(H.id,X,"isCorrect",he.target.checked),className:`h-4 w-4 ${H.type==="single"?"text-blue-600 focus:ring-blue-500":"text-green-600 focus:ring-green-500"} border-gray-300`})}),a.jsx("div",{className:"ml-3 flex-grow",children:a.jsx("input",{type:"text",value:pe.text,onChange:he=>te(H.id,X,"text",he.target.value),placeholder:`Option ${X+1}`,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",required:!0})}),H.options.length>2&&a.jsx("button",{type:"button",onClick:()=>se(H.id,X),className:"ml-2 text-red-600 hover:text-red-800",children:a.jsx("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]},X))}),a.jsxs("button",{type:"button",onClick:()=>ce(H.id),className:"mt-2 inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:[a.jsx("svg",{className:"-ml-1 mr-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Option"]})]})]},H.id))})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[a.jsxs("div",{className:"text-lg font-medium text-gray-800",children:["Total Marks: ",a.jsx("span",{className:"font-bold",children:ee()})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{type:"button",onClick:()=>t("/dashboard"),className:"px-6 py-3 border border-gray-300 text-base font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:A,className:`px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white focus:outline-none focus:ring-2 focus:ring-offset-2 ${A?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}`,children:A?"Creating...":"Create Quiz"})]})]})]})]})})}function L4({user:e}){const t=St(),{quizId:r}=gi(),[o,c]=B.useState(""),[d,x]=B.useState(""),[g,y]=B.useState("total"),[p,N]=B.useState(10),[v,I]=B.useState(""),[k,_]=B.useState(""),[R,L]=B.useState([]),[S,A]=B.useState(!0),[T,O]=B.useState(!1),[V,Q]=B.useState(""),[P,J]=B.useState(""),[Y,xe]=B.useState(!1),[Ie,ge]=B.useState([]),[ve,be]=B.useState(""),[z,ie]=B.useState(10);B.useEffect(()=>{Ne(),ae()},[r]);const Ne=async()=>{var X,he,we;try{A(!0),Q("");const Re=(await rt.getQuizById(r)).data;if(!Re)throw new Error("No quiz data received");if(c(Re.title),x(Re.description||""),y(Re.timingMode),Re.scheduledDate){const ze=new Date(Re.scheduledDate).toISOString().split("T")[0];I(ze)}else{const Ve=new Date;Ve.setDate(Ve.getDate()+1);const ze=Ve.toISOString().split("T")[0];I(ze)}if(Re.scheduledTime?_(Re.scheduledTime):_("10:00"),Re.timingMode==="total"?N(Math.floor(Re.totalDuration/60)):N(Re.totalDuration),Re.questions&&Re.questions.length>0){const Ve=Re.questions.map((ze,at)=>({id:ze._id?ze._id.toString():`question-${Date.now()}-${at}-${Math.random()}`,question:ze.question||"",type:ze.type||"single",options:Array.isArray(ze.options)&&ze.options.length>0?ze.options.map((Ze,Qe)=>({text:Ze.text||"",isCorrect:Ze.isCorrect||!1})):[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}],points:ze.points||1,timeLimit:ze.timeLimit||null,imageUrl:ze.imageUrl||""}));L(Ve)}else L([{id:`question-${Date.now()}-${Math.random()}`,question:"",type:"single",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}],points:1,imageUrl:""}])}catch(me){console.error("Error loading quiz:",me),console.error("Error details:",(X=me.response)==null?void 0:X.data);const Re=((we=(he=me.response)==null?void 0:he.data)==null?void 0:we.message)||me.message||"Failed to load quiz. Please check your connection and ensure you have permission to edit this quiz.";Q(Re)}finally{A(!1)}},ae=async()=>{try{const he=(await hr.getAllSubjects()).data.map(we=>we.subject);ge(he)}catch(X){console.error("Error fetching subjects:",X)}},Ce=async()=>{var X,he,we;if(!ve){Q("Please select a subject");return}if(z<1){Q("Please select at least 1 question");return}try{console.log("Loading questions from bank for subject:",ve,"count:",z);const me=await hr.getRandomQuestions(ve,z);console.log("Response from backend:",me);const Re=me.data;if(Re.length===0){Q(`No questions found for subject: ${ve}`);return}console.log("Bank questions received:",Re);const Ve=Re.map(ze=>({id:ze._id||`question-${Date.now()}-${Math.random()}`,question:ze.question,type:ze.type,options:ze.options,points:ze.points,imageUrl:ze.imageUrl||""}));console.log("Formatted questions:",Ve),L(Ve),J(`Loaded ${Ve.length} questions from ${ve}`),setTimeout(()=>J(""),3e3)}catch(me){console.error("Error loading questions from bank:",me),console.error("Error details:",(X=me.response)==null?void 0:X.data),Q("Failed to load questions from bank: "+(((we=(he=me.response)==null?void 0:he.data)==null?void 0:we.message)||me.message))}},W=()=>{const X={id:`question-${Date.now()}-${Math.random()}`,question:"",type:"single",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}],points:1,imageUrl:""};L([...R,X])},ce=X=>{R.length>1?L(R.filter(he=>he.id!==X)):Q("At least one question is required")},se=(X,he,we)=>{L(R.map(me=>me.id===X?{...me,[he]:we}:me))},te=X=>{L(R.map(he=>he.id===X?{...he,options:[...he.options,{text:"",isCorrect:!1}]}:he))},ne=(X,he)=>{L(R.map(we=>we.id===X?we.options.length<=2?(Q("At least 2 options are required"),we):{...we,options:we.options.filter((me,Re)=>Re!==he)}:we))},Te=(X,he,we,me)=>{L(R.map(Re=>Re.id===X?{...Re,options:Re.options.map((Ve,ze)=>ze===he?{...Ve,[we]:me}:Ve)}:Re))},ee=(X,he)=>{if(he){const we=new FileReader;we.onload=me=>{se(X,"imageUrl",me.target.result),J("Image uploaded successfully!"),setTimeout(()=>J(""),3e3)},we.readAsDataURL(he)}},H=async X=>{var he,we,me;if(X.preventDefault(),Q(""),J(""),O(!0),!o.trim()){Q("Please enter a quiz title"),O(!1);return}if(!v){Q("Please select a scheduled date for the quiz"),O(!1);return}if(!k){Q("Please select a scheduled time for the quiz"),O(!1);return}for(let Re=0;Re<R.length;Re++){const Ve=R[Re];if(!Ve.question.trim()){Q(`Question ${Re+1}: Please enter the question text`),O(!1);return}if(!Ve.options||Ve.options.length<2){Q(`Question ${Re+1}: Please add at least 2 options`),O(!1);return}for(let ze=0;ze<Ve.options.length;ze++)if(!Ve.options[ze].text.trim()){Q(`Question ${Re+1}, Option ${ze+1}: Please enter option text`),O(!1);return}if(!Ve.options.some(ze=>ze.isCorrect)){Q(`Question ${Re+1}: Please mark at least one option as correct`),O(!1);return}}try{console.log("Submitting quiz update with questions:",R);const Re=g==="total"?p*60:p,Ve={title:o,description:d,questions:R.map(at=>({question:at.question,type:at.type,options:at.options,points:at.points,timeLimit:g==="per-question"?p:null,imageUrl:at.imageUrl||null})),timingMode:g,totalDuration:Re,scheduledDate:v||null,scheduledTime:k||null};console.log("Quiz data being sent:",Ve);const ze=await rt.updateQuiz(r,Ve);console.log("Update successful:",ze),J("Quiz updated successfully!"),setTimeout(()=>{t("/dashboard")},1500)}catch(Re){console.error("Error updating quiz:",Re),console.error("Error details:",(he=Re.response)==null?void 0:he.data);const Ve=((me=(we=Re.response)==null?void 0:we.data)==null?void 0:me.message)||Re.message||"Failed to update quiz. Please try again.";Q(Ve)}finally{O(!1)}},le=(X,he)=>{if(he){const we=Math.floor(X),me=Math.round((X-we)*60);return me===0?`${we} min`:`${we} min ${me}s`}else{const we=Math.floor(X/60),me=X%60;return`${we} min ${me}s`}},pe=()=>R.reduce((X,he)=>X+he.points,0);return S?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-xl",children:"Loading quiz..."})}):a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Edit Quiz"}),a.jsx("p",{className:"text-gray-600",children:"Update your quiz details and questions"})]})}),a.jsxs("form",{onSubmit:H,className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[P&&a.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded mb-4",children:P}),V&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-4",children:V}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Quiz Information"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quiz Title *"}),a.jsx("input",{type:"text",value:o,onChange:X=>c(X.target.value),placeholder:"Enter a descriptive quiz title",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",required:!0}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Give your quiz a clear and descriptive title"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:d,onChange:X=>x(X.target.value),placeholder:"Enter quiz description (optional)",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Provide details about what this quiz covers"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Date *"}),a.jsx("input",{type:"date",value:v,onChange:X=>I(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",required:!0}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select the date when the quiz will be conducted"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scheduled Time *"}),a.jsx("input",{type:"time",value:k,onChange:X=>_(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",required:!0}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select the time when the quiz will be conducted"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timing Mode *"}),a.jsxs("select",{value:g,onChange:X=>y(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",required:!0,children:[a.jsx("option",{value:"total",children:"Total Time (entire quiz)"}),a.jsx("option",{value:"per-question",children:"Per Question Time"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g==="total"?"Set one timer for the entire quiz":"Set individual timers for each question"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:g==="total"?"Total Duration (minutes)":"Default Per-Question Time (seconds)"}),a.jsx("input",{type:"number",value:p,onChange:X=>N(parseInt(X.target.value)),min:g==="total"?"1":"10",step:g==="total"?"1":"5",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",required:!0}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:g==="total"?le(p,!0):le(p,!1)})]})]})]}),a.jsxs("div",{className:"mb-8 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Use Question Bank"}),a.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:Y,onChange:X=>xe(X.target.checked),className:"sr-only peer"}),a.jsx("div",{className:"relative w-11 h-6 bg-gray-300 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),Y&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Load questions randomly from your question bank by subject"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Subject *"}),a.jsxs("select",{value:ve,onChange:X=>be(X.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-purple-500",children:[a.jsx("option",{value:"",children:"-- Choose Subject --"}),Ie.map(X=>a.jsx("option",{value:X,children:X},X))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Questions"}),a.jsx("input",{type:"number",value:z,onChange:X=>ie(parseInt(X.target.value)),min:"1",max:"50",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-purple-500"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"button",onClick:Ce,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded transition font-medium",children:"Load Questions"})})]}),a.jsx("p",{className:"text-xs text-gray-500 italic",children:"Note: Loading questions will replace any manually added questions below"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Questions",a.jsxs("span",{className:"ml-2 bg-gray-100 text-gray-800 text-sm font-medium px-2 py-1 rounded",children:[R.length," questions"]}),a.jsxs("span",{className:"ml-2 bg-gray-100 text-gray-800 text-sm font-medium px-2 py-1 rounded",children:[pe()," total marks"]})]})}),a.jsx("div",{className:"space-y-6",children:R.map((X,he)=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-5",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("h3",{className:"text-lg font-medium text-gray-800",children:["Question ",he+1]}),a.jsx("button",{type:"button",onClick:()=>ce(X.id),className:"text-red-600 hover:text-red-800 text-sm font-medium",disabled:R.length<=1,children:"Remove"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text *"}),a.jsx("textarea",{value:X.question,onChange:we=>se(X.id,"question",we.target.value),placeholder:"Enter your question here...",rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:X.type,onChange:we=>se(X.id,"type",we.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500",children:[a.jsx("option",{value:"single",children:"Single Choice"}),a.jsx("option",{value:"multiple",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Marks"}),a.jsx("input",{type:"number",min:"1",max:"10",value:X.points,onChange:we=>se(X.id,"points",parseInt(we.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Image (Optional)"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:we=>ee(X.id,we.target.files[0]),className:`block w-full text-sm text-gray-500\r
                        file:mr-4 file:py-2 file:px-4\r
                        file:rounded file:border-0\r
                        file:text-sm file:font-medium\r
                        file:bg-gray-100 file:text-gray-700\r
                        hover:file:bg-gray-200`}),X.imageUrl&&a.jsx("button",{type:"button",onClick:()=>se(X.id,"imageUrl",""),className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Remove"})]}),X.imageUrl&&a.jsx("div",{className:"mt-3",children:a.jsx("img",{src:X.imageUrl,alt:"Question preview",className:"max-w-full h-32 object-contain border border-gray-200 rounded"})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Answer Options *"}),a.jsx("button",{type:"button",onClick:()=>te(X.id),className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Add Option"})]}),a.jsx("div",{className:"space-y-3",children:X.options.map((we,me)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex items-center h-5 mt-1",children:a.jsx("input",{type:X.type==="single"?"radio":"checkbox",name:`question-${he}-correct`,checked:we.isCorrect,onChange:Re=>Te(X.id,me,"isCorrect",Re.target.checked),className:`h-4 w-4 ${X.type==="single"?"text-green-600":"text-purple-600"} rounded focus:ring-green-500 border-gray-300`})}),a.jsx("div",{className:"ml-3 flex-1",children:a.jsx("input",{type:"text",value:we.text,onChange:Re=>Te(X.id,me,"text",Re.target.value),placeholder:`Option ${me+1}`,className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500"})}),a.jsx("button",{type:"button",onClick:()=>ne(X.id,me),className:"ml-2 text-red-500 hover:text-red-700",disabled:X.options.length<=2,children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},me))}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:X.type==="single"?"Select the radio button for the correct answer":"Select checkboxes for all correct answers"})]})]},X.id))})]}),a.jsx("div",{className:"fixed-button-container",children:a.jsxs("button",{type:"button",onClick:W,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-full shadow-lg text-sm font-medium flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Question"]})}),a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>t("/dashboard"),className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:S,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-medium rounded disabled:opacity-50",children:S?"Updating Quiz...":"Update Quiz"})]})]})]})})}function B4({user:e}){const t=St(),[r,o]=B.useState([]),[c,d]=B.useState([]),[x,g]=B.useState(""),[y,p]=B.useState(!0),[N,v]=B.useState(""),[I,k]=B.useState(""),[_,R]=B.useState(!1),[L,S]=B.useState(null),[A,T]=B.useState(!1),[O,V]=B.useState({subject:"",question:"",questionType:"text",mediaUrl:"",type:"single",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}],points:1}),[Q,P]=B.useState(""),[J,Y]=B.useState(!1);B.useEffect(()=>{if((e==null?void 0:e.role)!=="teacher"){t("/dashboard");return}xe(),Ie()},[e,t]);const xe=async()=>{try{const ne=(await hr.getAllSubjects()).data;d(ne)}catch(te){console.error("Error fetching subjects:",te)}},Ie=async(te="")=>{try{p(!0);const ne=await hr.getAllQuestions(te);o(ne.data),v("")}catch(ne){console.error("Error fetching questions:",ne),v("Failed to load questions")}finally{p(!1)}},ge=te=>{g(te),Ie(te)},ve=()=>{V({...O,options:[...O.options,{text:"",isCorrect:!1}]})},be=te=>{if(O.options.length>2){const ne=O.options.filter((Te,ee)=>ee!==te);V({...O,options:ne})}},z=(te,ne,Te)=>{const ee=[...O.options];ee[te][ne]=Te,O.type==="single"&&ne==="isCorrect"&&Te&&ee.forEach((H,le)=>{le!==te&&(H.isCorrect=!1)}),V({...O,options:ee})},ie=()=>{V({subject:"",question:"",questionType:"text",mediaUrl:"",type:"single",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}],points:1}),P(""),S(null),R(!0)},Ne=()=>{V({subject:"",question:"",questionType:"text",mediaUrl:"",type:"single",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}],points:1}),P(""),S(null),A||R(!1)},ae=(te,ne)=>{if(te){const Te=new FileReader;Te.onload=ee=>{V({...O,mediaUrl:ee.target.result}),k(`${ne.charAt(0).toUpperCase()+ne.slice(1)} uploaded successfully!`),setTimeout(()=>k(""),3e3)},Te.readAsDataURL(te)}},Ce=async te=>{var Te,ee;if(te.preventDefault(),v(""),k(""),!O.subject.trim()){v("Subject is required");return}if(O.questionType==="text"&&!O.question.trim()){v("Question text is required");return}if((O.questionType==="image"||O.questionType==="audio")&&!O.mediaUrl){v(`Please upload ${O.questionType} file`);return}const ne=O.options.filter(H=>H.text.trim());if(ne.length<2){v("At least 2 options are required");return}if(!ne.some(H=>H.isCorrect)){v("At least one option must be marked as correct");return}try{const H={...O,options:ne};L?(await hr.updateQuestion(L._id,H),k("Question updated successfully!")):(await hr.createQuestion(H),k("Question added successfully!")),A&&!L?(Ne(),V(le=>({...le,subject:O.subject,question:"",mediaUrl:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}))):Ne(),xe(),Ie(x),setTimeout(()=>k(""),3e3)}catch(H){console.error("Error saving question:",H),v(((ee=(Te=H.response)==null?void 0:Te.data)==null?void 0:ee.message)||"Failed to save question")}},W=te=>{V({subject:te.subject,question:te.question||"",questionType:te.questionType||"text",mediaUrl:te.mediaUrl||"",type:te.type,options:te.options,points:te.points}),P(te.subject),S(te),T(!1),R(!0)},ce=async te=>{if(confirm("Are you sure you want to delete this question?"))try{await hr.deleteQuestion(te),k("Question deleted successfully!"),Ie(x),xe(),setTimeout(()=>k(""),3e3)}catch(ne){console.error("Error deleting question:",ne),v("Failed to delete question")}},se=c.map(te=>te.subject).filter(te=>te.toLowerCase().includes(Q.toLowerCase())&&te!==Q);return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Question Bank"}),a.jsx("p",{className:"text-gray-600",children:"Manage your questions and organize by subject"})]}),a.jsxs("div",{className:"flex gap-4 mb-6 flex-wrap",children:[a.jsxs("button",{onClick:()=>{_?R(!1):ie()},className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition font-semibold inline-flex items-center shadow-sm",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),_?"Cancel":"Add Question"]}),a.jsx("button",{onClick:()=>t("/dashboard"),className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-3 rounded-lg transition font-semibold",children:"Back to Dashboard"})]}),N&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:N}),I&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:I}),_&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 border border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:L?"Edit Question":"Add New Question"}),a.jsxs("form",{onSubmit:Ce,className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:Q,onChange:te=>{P(te.target.value),V({...O,subject:te.target.value}),Y(!0)},onFocus:()=>Y(!0),onBlur:()=>setTimeout(()=>Y(!1),200),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Mathematics, Science",required:!0}),J&&se.length>0&&a.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md max-h-60 overflow-auto",children:se.map((te,ne)=>a.jsx("div",{className:"px-4 py-2 text-sm cursor-pointer hover:bg-gray-100",onMouseDown:()=>{P(te),V({...O,subject:te}),Y(!1)},children:te},ne))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Type *"}),a.jsxs("select",{value:O.questionType||"text",onChange:te=>V({...O,questionType:te.target.value,question:"",mediaUrl:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"text",children:"Text Question"}),a.jsx("option",{value:"image",children:"Image Question"}),a.jsx("option",{value:"audio",children:"Audio Question"})]})]})]}),O.questionType==="text"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Question Text *"}),a.jsx("textarea",{value:O.question,onChange:te=>V({...O,question:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Enter your question",required:!0})]}):O.questionType==="image"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Upload *"}),O.mediaUrl?a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("img",{src:O.mediaUrl,alt:"Question",className:"max-w-full h-auto rounded-lg border border-gray-200 mb-2"}),a.jsx("button",{type:"button",onClick:()=>V({...O,mediaUrl:""}),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove Image"})]}):a.jsx("input",{type:"file",accept:"image/*",onChange:te=>ae(te.target.files[0],"image"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Audio Upload *"}),O.mediaUrl?a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("audio",{controls:!0,src:O.mediaUrl,className:"mb-2 w-full"}),a.jsx("button",{type:"button",onClick:()=>V({...O,mediaUrl:""}),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove Audio"})]}):a.jsx("input",{type:"file",accept:"audio/*",onChange:te=>ae(te.target.files[0],"audio"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Answer Type *"}),a.jsxs("select",{value:O.type,onChange:te=>V({...O,type:te.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"single",children:"Single Choice"}),a.jsx("option",{value:"multiple",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Points *"}),a.jsx("input",{type:"number",min:"1",value:O.points,onChange:te=>V({...O,points:parseInt(te.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Options * (Check correct answer",O.type==="multiple"?"s":"",")"]}),O.options.map((te,ne)=>a.jsxs("div",{className:"flex gap-2 mb-2",children:[a.jsx("input",{type:"checkbox",checked:te.isCorrect,onChange:Te=>z(ne,"isCorrect",Te.target.checked),className:"mt-3"}),a.jsx("input",{type:"text",value:te.text,onChange:Te=>z(ne,"text",Te.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:`Option ${ne+1}`}),O.options.length>2&&a.jsx("button",{type:"button",onClick:()=>be(ne),className:"px-3 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",children:""})]},ne)),a.jsx("button",{type:"button",onClick:ve,className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"+ Add Option"})]}),!L&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"continuousMode",checked:A,onChange:te=>T(te.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"continuousMode",className:"ml-2 block text-sm text-gray-700",children:"Add questions continuously (form stays open after saving)"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition font-semibold",children:L?"Update Question":A?"Save & Add Another":"Add Question"}),a.jsx("button",{type:"button",onClick:Ne,className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-6 py-2 rounded-lg transition font-semibold",children:"Cancel"})]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6 border border-gray-200",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>ge(""),className:`px-4 py-2 rounded-lg transition font-medium ${x===""?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Subjects"}),c.map(te=>a.jsxs("button",{onClick:()=>ge(te.subject),className:`px-4 py-2 rounded-lg transition font-medium ${x===te.subject?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[te.subject," (",te.count,")"]},te.subject))]})}),y?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"text-xl text-gray-600",children:"Loading questions..."})}):r.length===0?a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:a.jsx("p",{className:"text-gray-600 text-lg",children:"No questions found. Start by adding your first question!"})}):a.jsx("div",{className:"grid gap-4",children:r.map(te=>a.jsx("div",{className:"bg-white rounded-lg shadow-sm p-5 border border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:te.subject}),a.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded",children:te.type==="single"?"Single Choice":"Multiple Choice"}),a.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:[te.points," ",te.points===1?"mark":"marks"]})]}),a.jsx("p",{className:"text-gray-800 font-medium mb-2",children:te.question}),a.jsx("div",{className:"space-y-1",children:te.options.map((ne,Te)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("span",{className:`w-5 h-5 rounded flex items-center justify-center ${ne.isCorrect?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"}`,children:ne.isCorrect?"":""}),a.jsx("span",{className:ne.isCorrect?"text-green-700 font-medium":"text-gray-600",children:ne.text})]},Te))})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>W(te),className:"px-3 py-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition text-sm font-medium",children:"Edit"}),a.jsx("button",{onClick:()=>ce(te._id),className:"px-3 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition text-sm font-medium",children:"Delete"})]})]})},te._id))})]})})}function P4(){const{quizId:e}=gi(),t=St(),[r]=Bd(),[o,c]=B.useState(""),[d,x]=B.useState(""),[g,y]=B.useState(""),[p,N]=B.useState(!1),[v,I]=B.useState(""),[k,_]=B.useState(null),[R,L]=B.useState(!0),[S,A]=B.useState(null),[T,O]=B.useState("access_key"),[V,Q]=B.useState(!1),[P,J]=B.useState(null);B.useEffect(()=>{const be=r.get("loginSuccess"),z=localStorage.getItem("pendingAccessKey"),ie=localStorage.getItem("pendingQuizId");be==="true"&&z&&ie===e&&(c(z),Q(!0),O("authenticated"),localStorage.removeItem("pendingAccessKey"),localStorage.removeItem("pendingQuizId"))},[r,e]),B.useEffect(()=>{e&&(async()=>{try{const z=await rt.getQuizDetails(e);_(z.data),A("active")}catch(z){if(console.error("Error fetching quiz details:",z),z.response&&z.response.data)if(z.response.data.status==="not_started")if(A("not_started"),_({title:z.response.data.title||"Quiz Not Started",description:z.response.data.description||z.response.data.message,scheduledDate:z.response.data.scheduledDate,scheduledTime:z.response.data.scheduledTime,questionsCount:z.response.data.questionsCount||0,timingMode:z.response.data.timingMode||"total",totalDuration:z.response.data.totalDuration||0,scheduledStartTime:z.response.data.scheduledStartTime||null}),z.response.data.isManuallyScheduled)J(null);else if(z.response.data.scheduledStartTime){const ie=new Date(z.response.data.scheduledStartTime),ae=Math.floor((ie-new Date)/1e3);ae>0?J(ae):J(0)}else J(null);else z.response.data.status==="ended"?(A("ended"),_({title:z.response.data.title||"Quiz Ended",message:z.response.data.message,subtitle:z.response.data.subtitle,questionsCount:z.response.data.questionsCount||0,timingMode:z.response.data.timingMode||"total",totalDuration:z.response.data.totalDuration||0,scheduledDate:z.response.data.scheduledDate,scheduledTime:z.response.data.scheduledTime})):I(z.response.data.message||"Failed to load quiz details");else I("Failed to load quiz details")}finally{L(!1)}})()},[e]),B.useEffect(()=>{let be;return P!==null&&P>0&&(be=setInterval(()=>{J(z=>z<=1?(clearInterval(be),0):z-1)},1e3)),()=>{be&&clearInterval(be)}},[P]);const Y=async be=>{be.preventDefault(),N(!0),I("");try{const z=await rt.validateAccessKey(e,{accessKey:o});z.data.success?(Q(!0),O("student_details")):I(z.data.message||"Invalid access key. Please check with your teacher.")}catch(z){console.error("Access key validation error:",z),z.response?z.response.data&&typeof z.response.data.success<"u"?I(z.response.data.message||"Invalid access key. Please check with your teacher."):I(z.response.data.message||"An error occurred while validating the access key. Please try again."):z.request?I("Unable to connect to the server. Please check your connection and try again."):I("An unexpected error occurred. Please try again.")}finally{N(!1)}},xe=async be=>{be.preventDefault(),N(!0),I("");try{const z=await rt.studentAccess(e,{usn:d,password:g,accessKey:o});localStorage.setItem("currentAttemptId",z.data.attemptId),t(`/quiz/${e}?attemptId=${z.data.attemptId}`)}catch(z){console.error("Student access error:",z),z.response?(z.response.data&&typeof z.response.data.success<"u",I(z.response.data.message||"An error occurred while accessing the quiz. Please try again.")):z.request?I("Unable to connect to the server. Please check your connection and try again."):I("An unexpected error occurred. Please try again.")}finally{N(!1)}},Ie=be=>{if(!be)return"Not scheduled";const z={year:"numeric",month:"long",day:"numeric"};return new Date(be).toLocaleDateString(void 0,z)},ge=be=>be||"Not scheduled",ve=be=>{if(be===null)return"00:00:00:00";const z=Math.floor(be/(24*3600)),ie=Math.floor(be%(24*3600)/3600),Ne=Math.floor(be%3600/60),ae=be%60;return`${z.toString().padStart(2,"0")}:${ie.toString().padStart(2,"0")}:${Ne.toString().padStart(2,"0")}:${ae.toString().padStart(2,"0")}`};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:[a.jsx("style",{children:`
        .truncate-description {
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
          text-overflow: ellipsis;
        }
        
        @media (max-width: 768px) {
          .truncate-description {
            -webkit-line-clamp: 3;
          }
        }
      `}),a.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-between h-16",children:a.jsx("div",{className:"flex items-center",children:a.jsx("div",{className:"flex-shrink-0",children:a.jsx("span",{className:"text-xl font-bold text-gray-900",children:"QuizQuest"})})})})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Quiz Access Portal"}),a.jsxs("p",{className:"text-gray-600 text-lg",children:[T==="access_key"&&"Enter Access Key to begin",T==="student_details"&&"Enter your student details",T==="authenticated"&&"Accessing your quiz..."]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-stretch",children:[a.jsxs("div",{className:"lg:w-1/2 bg-white rounded-3xl shadow-xl p-8 transition-all duration-300 hover:shadow-2xl",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("div",{className:"bg-indigo-100 p-3 rounded-xl mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Quiz Details"})]}),R?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-500"})}):k?a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"border-l-4 border-indigo-500 pl-4 py-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:k.title}),k.description&&a.jsx("p",{className:"text-gray-600 mt-2 text-lg truncate-description",children:k.description})]}),S==="ended"&&a.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-2xl p-8 border border-red-200 text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-red-100 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),a.jsx("h3",{className:"text-2xl font-bold text-red-800 mb-2",children:k.message||`The quiz '${k.title}' has ended.`}),a.jsx("p",{className:"text-gray-700 text-lg",children:k.subtitle||"This quiz is no longer accessible."})]}),S==="not_started"&&(P!==null?a.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-100",children:[a.jsx("h3",{className:"text-xl font-bold text-amber-800 mb-4 text-center",children:"Quiz Starts In"}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"text-4xl font-bold text-amber-600 mb-2 font-mono",children:ve(P)}),a.jsxs("div",{className:"flex justify-center space-x-4 text-xs text-gray-600 uppercase tracking-wider",children:[a.jsx("span",{children:"Days"}),a.jsx("span",{children:"Hours"}),a.jsx("span",{children:"Minutes"}),a.jsx("span",{children:"Seconds"})]})]}),P>0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-center text-gray-700",children:"Quiz is scheduled. Countdown to start:"}),a.jsx("p",{className:"text-center text-gray-700 mt-2",children:"Please wait for the quiz to start automatically..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-center text-gray-700 font-bold",children:"Quiz is starting... Checking status."}),a.jsx("p",{className:"text-center text-gray-700 mt-2",children:'Click "Refresh Status" to check if the quiz has started.'})]}),a.jsx("div",{className:"text-center mt-4",children:a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg transition-colors",children:"Refresh Status"})})]}):a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:[a.jsx("h3",{className:"text-xl font-bold text-blue-800 mb-4 text-center",children:"Quiz Not Yet Started"}),a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),a.jsx("p",{className:"text-center text-gray-700",children:"Quiz not yet started by the teacher."}),a.jsx("p",{className:"text-center text-gray-700 mt-2",children:"Please wait for the teacher to start the quiz."}),a.jsx("div",{className:"text-center mt-4",children:a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors",children:"Refresh Status"})})]})),S!=="ended"&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-5 border border-indigo-100",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-indigo-500 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"font-bold text-indigo-800",children:"Timing Mode"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:k.timingMode}),k.timingMode==="fixed"&&a.jsxs("p",{className:"text-gray-600 mt-1",children:[k.totalDuration," minutes"]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-2xl p-5 border border-cyan-100",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-cyan-500 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 012-2h2a2 2 0 012 2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsx("h3",{className:"font-bold text-cyan-800",children:"Total Questions"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:k.questionsCount})]}),a.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-5 border border-amber-100",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-amber-500 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsx("h3",{className:"font-bold text-amber-800",children:"Scheduled Date"})]}),a.jsx("p",{className:"text-xl font-bold text-gray-800",children:Ie(k.scheduledDate)})]}),a.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl p-5 border border-emerald-100",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-emerald-500 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"font-bold text-emerald-800",children:"Scheduled Time"})]}),a.jsx("p",{className:"text-xl font-bold text-gray-800",children:ge(k.scheduledTime)})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"bg-gray-100 rounded-full p-4 inline-block mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("p",{className:"text-gray-500 text-xl",children:"Quiz details not available"})]})]}),a.jsxs("div",{className:"lg:w-1/2 bg-white rounded-3xl shadow-xl p-8 flex flex-col transition-all duration-300 hover:shadow-2xl",children:[a.jsxs("div",{className:"flex items-center mb-8",children:[a.jsx("div",{className:"bg-cyan-100 p-3 rounded-xl mr-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-cyan-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 11-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold text-gray-800",children:[T==="access_key"&&"Access Quiz",T==="student_details"&&"Student Details",T==="authenticated"&&"Accessing Quiz"]}),a.jsxs("p",{className:"text-gray-600",children:[T==="access_key"&&"Enter the access key to begin",T==="student_details"&&"Enter your student credentials",T==="authenticated"&&"Please wait while we prepare your quiz..."]})]})]}),a.jsx("div",{className:"flex-grow flex items-center",children:a.jsxs("div",{className:"w-full max-w-md mx-auto",children:[S==="ended"&&a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-6 mb-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),a.jsx("h3",{className:"text-xl font-bold text-red-800 mb-2",children:k.message||`The quiz '${k.title}' has ended.`}),a.jsx("p",{className:"text-gray-700",children:k.subtitle||"This quiz is no longer accessible."})]})}),S!=="ended"&&a.jsxs(a.Fragment,{children:[T==="access_key"&&a.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[v&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-4 mb-6 animate-fade-in",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:v})})]})]})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"accessKey",className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 11-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),a.jsx("input",{id:"accessKey",type:"text",value:o,onChange:be=>c(be.target.value),className:"block w-full pl-10 pr-3 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition font-mono",placeholder:"Enter access key",required:!0})]})]}),a.jsx("button",{type:"submit",disabled:p||S==="not_started",className:`w-full flex justify-center py-4 px-4 border border-transparent rounded-xl shadow-sm text-lg font-medium text-white transition-all duration-300 transform hover:scale-[1.02] ${p||S==="not_started"?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Validating..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Validate Access Key"]})})]}),T==="student_details"&&a.jsxs("form",{onSubmit:xe,className:"space-y-6",children:[v&&a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 rounded-lg p-4 mb-6 animate-fade-in",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:a.jsx("p",{children:v})})]})]})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"accessKeyDisplay",className:"block text-sm font-medium text-gray-700 mb-2",children:"Access Key"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 11-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})}),a.jsx("input",{id:"accessKeyDisplay",type:"text",value:o,readOnly:!0,className:"block w-full pl-10 pr-3 py-4 border border-gray-300 rounded-xl bg-gray-100 cursor-not-allowed font-mono",placeholder:"Access key"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"usn",className:"block text-sm font-medium text-gray-700 mb-2",children:"USN"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsx("input",{id:"usn",type:"text",value:d,onChange:be=>x(be.target.value),className:"block w-full pl-10 pr-3 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition",placeholder:"Enter your USN",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("input",{id:"password",type:"password",value:g,onChange:be=>y(be.target.value),className:"block w-full pl-10 pr-3 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition",placeholder:"Enter your password",required:!0})]})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:()=>O("access_key"),className:"flex-1 py-4 px-4 border border-gray-300 rounded-xl shadow-sm text-lg font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all duration-300",children:"Back"}),a.jsx("button",{type:"submit",disabled:p,className:`flex-1 flex justify-center py-4 px-4 border border-transparent rounded-xl shadow-sm text-lg font-medium text-white transition-all duration-300 transform hover:scale-[1.02] ${p?"bg-cyan-400 cursor-not-allowed":"bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Accessing..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Access Quiz"]})})]})]}),T==="authenticated"&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-cyan-500 mx-auto mb-6"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Accessing your quiz..."}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Please wait while we prepare your quiz"})]})]}),a.jsx("div",{className:"mt-10 pt-6 border-t border-gray-200 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Need help accessing your quiz?"," ",a.jsx("a",{href:"#",className:"font-medium text-cyan-600 hover:text-cyan-500",children:"Take help of your teacher"})]})})]})})]})]})]})})]})}function F4(){const{quizId:e}=gi(),t=St(),[r,o]=B.useState(null),[c,d]=B.useState(!0),[x,g]=B.useState(""),[y,p]=B.useState(null),[N,v]=B.useState(!1);B.useEffect(()=>{I()},[e]),B.useEffect(()=>{let S;return y!==null&&y>0&&(S=setInterval(()=>{p(A=>A<=1?(window.location.reload(),0):A-1)},1e3)),()=>{S&&clearInterval(S)}},[y]);const I=async()=>{try{d(!0),v(!0);const S=await rt.getQuizDetails(e);if(o(S.data),S.data.scheduledDate&&S.data.scheduledTime){const A=new Date(`${S.data.scheduledDate}T${S.data.scheduledTime}`),O=Math.floor((A-new Date)/1e3);O>0?p(O):setTimeout(()=>{window.location.reload()},1e3)}}catch(S){S.response&&S.response.data?g(S.response.data.message):g("Failed to load quiz details")}finally{d(!1),v(!1)}},k=S=>{const A=Math.floor(S/86400),T=Math.floor(S%(24*60*60)/(60*60)),O=Math.floor(S%(60*60)/60),V=S%60;return A>0?`${A}d ${T}h ${O}m ${V}s`:T>0?`${T}h ${O}m ${V}s`:O>0?`${O}m ${V}s`:`${V}s`},_=S=>{if(!S)return"Not scheduled";const A={year:"numeric",month:"long",day:"numeric"};return new Date(S).toLocaleDateString(void 0,A)},R=S=>S||"Not scheduled",L=()=>r!=null&&r.scheduledDate&&(r!=null&&r.scheduledTime)?new Date(`${r.scheduledDate}T${r.scheduledTime}`):null;return c&&!N?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 text-xl",children:"Loading quiz details..."})]})}):x?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center",children:a.jsx("div",{className:"bg-white rounded-3xl shadow-xl p-8 max-w-md w-full mx-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100",children:a.jsx("svg",{className:"h-10 w-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Error"}),a.jsx("p",{className:"mt-2 text-gray-600",children:x}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>t("/"),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",children:"Go to Home"})})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Quiz Not Yet Started"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"This quiz is scheduled to begin at a later time"})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 mb-8",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"bg-amber-100 p-4 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-amber-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:r==null?void 0:r.title}),a.jsx("p",{className:"text-gray-600 text-lg mb-6",children:r==null?void 0:r.description}),y!==null&&y>0?a.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-2xl p-6 border border-amber-100 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-amber-800 mb-2",children:"Time Until Quiz Starts"}),a.jsx("div",{className:"text-4xl font-bold text-amber-600 mb-2",children:k(y)}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-2",children:a.jsx("div",{className:"bg-amber-600 h-4 rounded-full transition-all duration-1000 ease-linear",style:{width:`${Math.min(100,y/3600*100)}%`}})}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait for the quiz to begin"})]}):a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-blue-800 mb-2",children:"Quiz Starting Soon"}),a.jsxs("div",{className:"flex justify-center items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500 mr-3"}),a.jsx("p",{className:"text-gray-600",children:"Checking if quiz is ready to start..."})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-indigo-500 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsx("h3",{className:"font-bold text-indigo-800",children:"Scheduled Date"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:_(r==null?void 0:r.scheduledDate)})]}),a.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-2xl p-6 border border-cyan-100",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-cyan-500 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"font-bold text-cyan-800",children:"Scheduled Time"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:R(r==null?void 0:r.scheduledTime)}),L()&&a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Starts at: ",L().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("button",{onClick:I,disabled:N,className:`inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-sm text-white focus:outline-none mr-4 ${N?"bg-gray-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"}`,children:N?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Refreshing..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})}),a.jsx("button",{onClick:()=>t("/"),className:"inline-flex items-center px-6 py-3 border border-gray-300 text-base font-medium rounded-xl text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"Go to Home"})]})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"What to Expect"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-green-100 flex items-center justify-center mt-1",children:a.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"ml-3 text-gray-600",children:"The quiz will automatically start at the scheduled time"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-green-100 flex items-center justify-center mt-1",children:a.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"ml-3 text-gray-600",children:"You'll be redirected to the quiz automatically when it starts"})]}),a.jsxs("li",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 h-6 w-6 rounded-full bg-green-100 flex items-center justify-center mt-1",children:a.jsx("svg",{className:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("p",{className:"ml-3 text-gray-600",children:"Make sure you're ready and have a stable internet connection"})]})]})]})]})})})}function z4(){const{quizId:e}=gi(),t=St(),[r,o]=B.useState(null),[c,d]=B.useState(!0),[x,g]=B.useState("");B.useEffect(()=>{y()},[e]);const y=async()=>{try{d(!0);const v=await rt.getQuizDetails(e);o(v.data)}catch(v){v.response&&v.response.data?g(v.response.data.message):g("Failed to load quiz details")}finally{d(!1)}},p=v=>{if(!v)return"Not scheduled";const I={year:"numeric",month:"long",day:"numeric"};return new Date(v).toLocaleDateString(void 0,I)},N=v=>v||"Not scheduled";return c?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-500 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600 text-xl",children:"Loading quiz details..."})]})}):x?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center",children:a.jsx("div",{className:"bg-white rounded-3xl shadow-xl p-8 max-w-md w-full mx-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100",children:a.jsx("svg",{className:"h-10 w-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Error"}),a.jsx("p",{className:"mt-2 text-gray-600",children:x}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>t("/"),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",children:"Go to Home"})})]})})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Quiz Has Ended"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"The scheduled time for this quiz has passed"})]}),a.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 mb-8",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"bg-red-100 p-4 rounded-full",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:r==null?void 0:r.title}),a.jsx("p",{className:"text-gray-600 text-lg mb-6",children:r==null?void 0:r.description}),a.jsxs("div",{className:"bg-gradient-to-r from-red-50 to-orange-50 rounded-2xl p-6 border border-red-100 mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-red-800 mb-2",children:"Quiz Completed"}),a.jsx("p",{className:"text-gray-600",children:"The scheduled time for this quiz has ended. No further attempts can be made."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-6 border border-indigo-100",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-indigo-500 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsx("h3",{className:"font-bold text-indigo-800",children:"Scheduled Date"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:p(r==null?void 0:r.scheduledDate)})]}),a.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-2xl p-6 border border-cyan-100",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx("div",{className:"bg-cyan-500 p-2 rounded-lg mr-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"font-bold text-cyan-800",children:"Scheduled Time"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:N(r==null?void 0:r.scheduledTime)})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>t("/"),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-xl shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",children:"Go to Home"})})]})]})})})}function U4({user:e,onLogout:t}){const r=St(),c=Nr().pathname==="/"&&!e,[d,x]=B.useState(!1),[g,y]=B.useState(!1);B.useEffect(()=>{const I=()=>{y(window.innerWidth<768)};return I(),window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I)}},[]);const p=()=>{t(),r("/")},N=()=>{x(!d)},v=()=>{x(!1)};return a.jsxs(a.Fragment,{children:[a.jsx("nav",{className:`sticky top-0 z-50 transition-all duration-300 ${c?"bg-transparent backdrop-blur-md border-b border-white/20":"bg-white/95 backdrop-blur-md shadow-lg"}`,children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-20",children:[a.jsx("div",{className:"flex items-center",children:a.jsx(it,{to:e?"/dashboard":"/",className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent hover:from-blue-700 hover:to-purple-700 transition-all",onClick:v,children:"QuizQuest"})}),!g&&e&&a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 bg-gradient-to-r from-blue-50 to-purple-50 px-4 py-2 rounded-full",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:e.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e.role})]})]}),a.jsx("button",{onClick:p,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-xl transition-all duration-200 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-0.5",children:"Logout"})]}),!g&&!e&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(it,{to:"/student-login",className:"text-gray-700 hover:text-blue-600 transition-all duration-200 px-5 py-2.5 rounded-xl hover:bg-gray-100 font-medium",children:"Student Login"}),a.jsx(it,{to:"/teacher-login",className:"text-gray-700 hover:text-blue-600 transition-all duration-200 px-5 py-2.5 rounded-xl hover:bg-gray-100 font-medium",children:"Teacher Login"}),a.jsx(it,{to:"/admin/login",className:"text-gray-700 hover:text-red-600 transition-all duration-200 px-5 py-2.5 rounded-xl hover:bg-red-50 font-medium",children:"Admin"}),a.jsx(it,{to:"/signup",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-2.5 rounded-xl transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:"Sign Up"})]}),g&&a.jsx("button",{onClick:N,className:"text-gray-700 hover:text-blue-600 focus:outline-none","aria-label":"Toggle menu",children:a.jsx("svg",{className:"h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})}),g&&d&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity",onClick:v}),a.jsx("div",{className:"fixed top-0 right-0 h-full w-64 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out",children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsx(it,{to:e?"/dashboard":"/",className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",onClick:v,children:"QuizQuest"}),a.jsx("button",{onClick:v,className:"text-gray-500 hover:text-gray-700","aria-label":"Close menu",children:a.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:e?a.jsxs("div",{className:"px-4 space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 bg-gradient-to-r from-blue-50 to-purple-50 px-4 py-3 rounded-full",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold",children:e.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500",children:e.role})]})]}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx(it,{to:"/dashboard",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",onClick:v,children:"Dashboard"}),e.role==="teacher"&&a.jsxs(a.Fragment,{children:[a.jsx(it,{to:"/question-bank",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",onClick:v,children:"Question Bank"}),a.jsx(it,{to:"/create-quiz",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",onClick:v,children:"Create Quiz"})]}),e.role==="admin"&&a.jsx(it,{to:"/admin/dashboard",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",onClick:v,children:"Admin Dashboard"})]}),a.jsx("button",{onClick:()=>{p(),v()},className:"w-full bg-red-500 hover:bg-red-600 text-white px-4 py-3 rounded-lg transition-all duration-200 font-semibold shadow-md mt-4",children:"Logout"})]}):a.jsxs("nav",{className:"px-4 space-y-2",children:[a.jsx(it,{to:"/student-login",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",onClick:v,children:"Student Login"}),a.jsx(it,{to:"/teacher-login",className:"block px-4 py-3 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",onClick:v,children:"Teacher Login"}),a.jsx(it,{to:"/admin/login",className:"block px-4 py-3 text-gray-700 hover:bg-red-50 rounded-lg transition-colors",onClick:v,children:"Admin Login"}),a.jsx(it,{to:"/signup",className:"block px-4 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-lg transition-all duration-200 font-semibold shadow-lg mt-4 text-center",onClick:v,children:"Sign Up"})]})})]})})]})]})}function V4({user:e,onLogout:t}){const r=Nr();return["/quiz/","/student-access/","/quiz-not-started/","/quiz-ended/","/result/"].some(d=>r.pathname.includes(d))?null:a.jsx(U4,{user:e,onLogout:t})}function H4(){const[e,t]=B.useState(null),[r,o]=B.useState(!0);B.useEffect(()=>{if(localStorage.getItem("token")){const g=localStorage.getItem("user");g&&t(JSON.parse(g))}o(!1)},[]);const c=(x,g)=>{localStorage.setItem("token",g),localStorage.setItem("user",JSON.stringify(x)),t(x)},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t(null)};return r?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"text-xl",children:"Loading..."})}):a.jsx(Aw,{children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(V4,{user:e,onLogout:d}),a.jsxs(pw,{children:[a.jsx(Vt,{path:"/",element:e?a.jsx(kn,{to:"/dashboard"}):a.jsx(Iw,{})}),a.jsx(Vt,{path:"/login",element:e?a.jsx(kn,{to:"/dashboard"}):a.jsx(kw,{onLogin:c})}),a.jsx(Vt,{path:"/student-login",element:e?a.jsx(kn,{to:"/dashboard"}):a.jsx(d3,{onLogin:c})}),a.jsx(Vt,{path:"/teacher-login",element:e?a.jsx(kn,{to:"/dashboard"}):a.jsx(h3,{onLogin:c})}),a.jsx(Vt,{path:"/admin/login",element:e?a.jsx(kn,{to:(e==null?void 0:e.role)==="admin"?"/admin/dashboard":"/dashboard"}):a.jsx(f3,{onLogin:c})}),a.jsx(Vt,{path:"/signup",element:e?a.jsx(kn,{to:"/dashboard"}):a.jsx(x3,{onLogin:c})}),a.jsx(Vt,{path:"/dashboard",element:e&&e.role==="student"?a.jsx(k4,{user:e}):e&&e.role==="teacher"?a.jsx(I4,{user:e}):(e==null?void 0:e.role)==="admin"?a.jsx(kn,{to:"/admin/dashboard"}):a.jsx(kn,{to:"/login"})}),a.jsx(Vt,{path:"/admin/dashboard",element:(e==null?void 0:e.role)==="admin"?a.jsx(R4,{user:e}):a.jsx(kn,{to:"/admin/login"})}),a.jsx(Vt,{path:"/question-bank",element:(e==null?void 0:e.role)==="teacher"?a.jsx(B4,{user:e}):a.jsx(kn,{to:"/dashboard"})}),a.jsx(Vt,{path:"/create-quiz",element:(e==null?void 0:e.role)==="teacher"?a.jsx(D4,{user:e}):a.jsx(kn,{to:"/dashboard"})}),a.jsx(Vt,{path:"/edit-quiz/:quizId",element:(e==null?void 0:e.role)==="teacher"?a.jsx(L4,{user:e}):a.jsx(kn,{to:"/dashboard"})}),a.jsx(Vt,{path:"/quiz/:quizId",element:a.jsx(O4,{user:e})}),a.jsx(Vt,{path:"/student-access/:quizId",element:a.jsx(P4,{})}),a.jsx(Vt,{path:"/quiz-not-started/:quizId",element:a.jsx(F4,{})}),a.jsx(Vt,{path:"/quiz-ended/:quizId",element:a.jsx(z4,{})}),a.jsx(Vt,{path:"/result/:attemptId",element:a.jsx(M4,{user:e})})]})]})})}Rc.createRoot(document.getElementById("root")).render(a.jsx(Vu.StrictMode,{children:a.jsx(H4,{})}));
